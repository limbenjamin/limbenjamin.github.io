PrimeFacesExt={getRequestUrlExtension:function(){return PrimeFacesExt.getUrlExtension(location.href)},getUrlExtension:function(a){return(a=a.substr(1+a.lastIndexOf("/")).split("?")[0]).substr(a.lastIndexOf("."))},getFacesResource:function(a,b,d){var c=PrimeFacesExt.getPrimeFacesExtensionsScriptURI(),c=c.replace("/primefaces-extensions.js",a),c=PrimeFacesExt.useUncompressedResources?c.replace("ln="+PrimeFacesExt.RESOURCE_LIBRARY_UNCOMPRESSED,"ln="+b):c.replace("ln="+PrimeFacesExt.RESOURCE_LIBRARY,
"ln="+b),a=/[?&]v=([^&]*)/.exec(c)[1],c=d?c.replace("v="+a,"v="+d):c.replace("v="+a,"");return location.protocol+"//"+location.host+c},getPrimeFacesExtensionsVersion:function(){if(!PrimeFacesExt.VERSION){var a=PrimeFacesExt.getPrimeFacesExtensionsScriptURI();PrimeFacesExt.VERSION=/[?&]v=([^&]*)/.exec(a)[1]}return PrimeFacesExt.VERSION},getPrimeFacesExtensionsResource:function(a){var b=PrimeFacesExt.RESOURCE_LIBRARY;PrimeFacesExt.useUncompressedResources&&(b=PrimeFacesExt.RESOURCE_LIBRARY_UNCOMPRESSED);
return PrimeFacesExt.getFacesResource(a,b,PrimeFacesExt.getPrimeFacesExtensionsVersion())},getPrimeFacesExtensionsCompressedResource:function(a){return PrimeFacesExt.getFacesResource(a,PrimeFacesExt.RESOURCE_LIBRARY,PrimeFacesExt.getPrimeFacesExtensionsVersion())},isExtensionMapping:function(){if(!PrimeFacesExt.IS_EXTENSION_MAPPING){var a=PrimeFacesExt.getPrimeFacesExtensionsScriptURI();PrimeFacesExt.IS_EXTENSION_MAPPING="."===a.charAt(a.indexOf("primefaces-extensions.js")+24)}return PrimeFacesExt.IS_EXTENSION_MAPPING},
getResourceUrlExtension:function(){if(!PrimeFacesExt.RESOURCE_URL_EXTENSION){var a=PrimeFacesExt.getPrimeFacesExtensionsScriptURI();PrimeFacesExt.RESOURCE_URL_EXTENSION=/primefaces-extensions.js.([^?]*)/.exec(a)[1]}return PrimeFacesExt.RESOURCE_URL_EXTENSION},useUncompressedResources:function(){if(!PrimeFacesExt.USE_UNCOMPRESSED_RESOURCES){var a=PrimeFacesExt.getPrimeFacesExtensionsScriptURI();PrimeFacesExt.USE_UNCOMPRESSED_RESOURCES=-1!==a.indexOf(RESOURCE_LIBRARY_UNCOMPRESSED)}return PrimeFacesExt.USE_UNCOMPRESSED_RESOURCES},
getPrimeFacesExtensionsScriptURI:function(){PrimeFacesExt.SCRIPT_URI||(PrimeFacesExt.SCRIPT_URI=$('script[src*="'+PrimeFacesExt.RESOURCE_IDENTIFIER+'/primefaces-extensions.js"]').attr("src"));return PrimeFacesExt.SCRIPT_URI},getScript:function(a,b,d){$.ajax({type:"GET",url:a,success:b,dataType:"script",cache:d})},cw:function(a,b,d,c){PrimeFacesExt.createWidget(a,b,d,c)},createWidget:function(a,b,d,c){if(PrimeFacesExt.widget[a])PrimeFacesExt.initWidget(a,b,d);else{if(!0===c)if(c=PrimeFacesExt.getPrimeFacesExtensionsResource("/"+
a.toLowerCase()+"/"+a.toLowerCase()+".css"),$.browser.msie){for(var e,f=0;f<document.styleSheets.length;f++)-1!==document.styleSheets[f].href.toString().indexOf("ln=primefaces")&&(e=f+1);e?document.createStyleSheet(c,e):PrimeFaces.error("No style sheet from PrimeFaces or PrimeFaces Extensions included. StyleSheet for PrimeFaces Extensions Widget "+a+" will not be added.")}else e=$('link[href*="ln=primefaces"]:last'),0<e.length?e.after('<link type="text/css" rel="stylesheet" href="'+c+'" />'):PrimeFaces.error("No style sheet from PrimeFaces or PrimeFaces Extensions included. StyleSheet for PrimeFaces Extensions Widget "+
a+" will not be added.");c=PrimeFacesExt.getPrimeFacesExtensionsResource("/"+a.toLowerCase()+"/"+a.toLowerCase()+".js");PrimeFacesExt.getScript(c,function(){PrimeFacesExt.initWidget(a,b,d)},!0)}},initWidget:function(a,b,d){window[b]?window[b].refresh(d):window[b]=new PrimeFacesExt.widget[a](d)},configureLocale:function(a,b){var d=PrimeFacesExt.locales[a][b.locale];if(d)for(var c in d)b[c]=d[c];return b},removeWidgetScript:function(a){$(PrimeFaces.escapeClientId(a)+"_s").remove()},RESOURCE_IDENTIFIER:"/javax.faces.resource",
RESOURCE_LIBRARY:"primefaces-extensions",RESOURCE_LIBRARY_UNCOMPRESSED:"primefaces-extensions-uncompressed",behavior:{},widget:{},locales:{}};PrimeFacesExt.locales.TimePicker={};PrimeFacesExt.behavior.Javascript=function(a,b){return a.execute.call(this,a.source,a.event,a.params,b)};PrimeFacesExt.getAjaxErrorHandlerInstance=function(){if(!PrimeFacesExt.AJAX_ERROR_HANDLER_INSTANCE){var a=new PrimeFacesExt.widget.AjaxErrorHandler;PrimeFacesExt.AJAX_ERROR_HANDLER_INSTANCE=a}return PrimeFacesExt.AJAX_ERROR_HANDLER_INSTANCE};
PrimeFacesExt.widget.AjaxErrorHandler=PrimeFaces.widget.BaseWidget.extend({DEFAULT_HOSTNAME:"???unknown???",init:function(){this.popupWindowMask=this.popupWindowRoot=this.popupWindow=null;this.hostname=this.DEFAULT_HOSTNAME;this.settings=this.defaultSettings={title:"{error-name}",body:"{error-message}",button:"Reload",buttonOnclick:function(){document.location.href=document.location.href},onerror:function(){}};this.otherSettings={};this.overwritePrimeFacesAjaxResponse()},overwritePrimeFacesAjaxResponse:function(){var a=
this,b=PrimeFaces.ajax.AjaxResponse;PrimeFaces.ajax.AjaxResponse=function(){var d=arguments[0].getElementsByTagName("error");if(d&&d.length&&d[0].childNodes&&d[0].childNodes.length){for(var c={},e=0;e<d[0].childNodes.length;e++){var f=d[0].childNodes[e],n=f.nodeName,m=f.nodeValue;f.childNodes&&f.childNodes.length&&(m=f.childNodes[0].nodeValue);c[n]=m}if(c["error-name"]){d=a.findErrorSettings(c["error-name"]);if(d.onerror&&!1===d.onerror.call(this,c,arguments[2]))return!0;c.updateCustomContent&&"<exception />"==
c.updateCustomContent.substring(-13)&&(c.updateCustomContent=null);c.updateTitle&&"<exception />"==c.updateTitle.substring(-13)&&(c.updateTitle=null);c.updateBody&&"<exception />"==c.updateBody.substring(-13)&&(c.updateBody=null);c.updateViewState&&"<exception />"==c.updateViewState.substring(-13)&&(c.updateViewState=null);d.updateCustomContent=c.updateCustomContent;d.updateTitle=c.updateTitle;d.updateBody=c.updateBody;d.updateViewState=c.updateViewState;c=a.replaceVariables(d,c);a.show(c);return!0}}return b.apply(this,
arguments)}},isVisible:function(){return this.popupWindow&&this.popupWindow.isVisible()},hide:function(){this.dialogWidget&&(this.dialogWidget.hide(),this.dialogWidget=null,this.dialog.remove())},show:function(a){this.hide();this.dialog=$('<div id="ajaxErrorHandlerDialog" class="ui-dialog ui-widget ui-widget-content ui-overlay-hidden ui-corner-all ui-shadow pe-ajax-error-handler" style="width: auto; height: auto;"></div>');$("body").append(this.dialog);if(a.updateCustomContent)this.dialog.append(a.updateCustomContent);
else{var b=$('<div class="ui-dialog-titlebar ui-widget-header ui-helper-clearfix ui-corner-top"></div>'),d=$('<span class="ui-dialog-title"></span>'),c=$('<div class="ui-dialog-content ui-widget-content" style="height: auto;"></div>'),e=$('<div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div>');b.append(d);this.dialog.append(b);this.dialog.append(c);this.dialog.append(e);var b=$('<button class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only"><span class="ui-button-text">'+
a.button+"</span></button>"),f=a.buttonOnclick;b.click(function(){f.call(this)});e.append(b);a.updateTitle?d.append(a.updateTitle):d.append(a.title);a.updateBody?c.append(a.updateBody):c.append(a.body)}this.dialogWidget=new PrimeFaces.widget.Dialog({id:"ajaxErrorHandlerDialog",resizable:!0,draggable:!0,modal:!0});this.dialogWidget.show()},getDefaultErrorTime:function(){return(new Date).toString()},findErrorSettings:function(a){if(!a)return jQuery.extend({},this.settings);this.otherSettings[a]||jQuery.extend({},
this.settings);return jQuery.extend({},this.settings,this.otherSettings[a])},addErrorSettings:function(a){a&&(a.type?this.otherSettings[a.type]=jQuery.extend({},this.otherSettings[a.type]||{},a):this.settings=jQuery.extend({},this.settings,a))},replaceAll:function(a,b,d){for(var c;(c=a.replace(b,d))!=a;)a=c;return a},replaceVariables:function(a,b){if(!a)return text;var b=jQuery.extend({"error-hostname":this.hostname,"error-stacktrace":"","error-time":this.getDefaultErrorTime()},b),d={};jQuery.each(a,
$.proxy(function(a,e){"string"==typeof e&&jQuery.each(b,$.proxy(function(a,b){e=this.replaceAll(e,"{"+a+"}",b)},this));d[a]=e},this));return d},setHostname:function(a){this.hostname=a}});PrimeFacesExt.widget.Spotlight=PrimeFaces.widget.BaseWidget.extend({init:function(a){this.id=a.id;this.blocked=a.blocked;this.content=$(PrimeFaces.escapeClientId(this.id));PrimeFacesExt.widget.Spotlight.cache=PrimeFacesExt.widget.Spotlight.cache||{};this.getMask=function(){var a=PrimeFacesExt.widget.Spotlight.cache["PrimeFacesExt.widget.Spotlight.MaskAround:"+this.id];a||(a=new PrimeFacesExt.widget.Spotlight.MaskAround(this.id),PrimeFacesExt.widget.Spotlight.cache["PrimeFacesExt.widget.Spotlight.MaskAround:"+
this.id]=a);return(this.getMask=function(){return a})()};this.block=function(){this.blocked=!0;this.getMask().show();this.enableModality()};this.unblock=function(){this.blocked=!1;this.getMask().hide();this.disableModality()};this.blocked?this.block():this.unblock();PrimeFacesExt.removeWidgetScript(this.id)},enableModality:function(){this.disableModality();this.content.bind("keydown.lightspot",function(a){if(a.keyCode===$.ui.keyCode.TAB){var d=$(":tabbable",this),c=d.filter(":first"),d=d.filter(":last");
if(a.target===d[0]&&!a.shiftKey)return c.focus(1),!1;if(a.target===c[0]&&a.shiftKey)return d.focus(1),!1}});var a=$(":focus",this.content);(!a||!a.length)&&$(":tabbable",this.content).filter(":first").focus(1)},disableModality:function(){this.content.unbind(".lightspot")},block:function(){this.block()},unblock:function(){this.unblock()}});
PrimeFacesExt.widget.Spotlight.MaskAround=function(a){var b=a+"_maskAround",d=$('<div class="ui-widget-overlay"></div>');$("body").append(d);var c=d.css("opacity");d.remove();var d=function(d,e){var f=b+d,q=$(PrimeFaces.escapeClientId(f)).is(":visible"),g=function(){var b=$(PrimeFaces.escapeClientId(f));if(!b||!b.length)b=$('<div id="'+f+'" />'),b.css({position:!$.browser.webkit?"fixed":"absolute",top:0,left:0,display:"none",zIndex:e,overflow:"hidden",border:"none"}),b.append($('<div class="ui-widget-overlay" style="position:absolute;"></div>').css("opacity",
1)),$("body").append(b),b.click(function(){var b=$(PrimeFaces.escapeClientId(a));$(":tabbable",b).filter(":first").focus(1)});return b},l=function(){var a=$(PrimeFaces.escapeClientId(f));return!a||!a.length?!1:a.is(":visible")},h=function(){if(q){if(!l()){var a=g();a.css("zIndex",e);a.fadeTo("fast",c,h)}}else l()?g().fadeOut("fast",function(){h()}):(a=$(PrimeFaces.escapeClientId(f)),a=!a||!a.length?!1:!0,a&&g().remove())};return{updatePosition:function(a,b,d,c){if("fixed"==g().css("position"))var e=
$(window).scrollLeft(),f=$(window).scrollTop(),a=a-e,d=d-e,b=b-f,c=c-f;$('<div class="ui-widget-overlay"></div>');e=g();e.css({left:a,top:b,width:d-a,height:c-b});d=u();$(e.children()[0]).css({left:0-a,top:0-b,height:d.height,width:d.width})},show:function(a){q=!0;e=a;h()},hide:function(){q=!1;h()}}},e=++PrimeFaces.zindex,f=new d("_top",e),n=new d("_left",e),m=new d("_bottom",e),r=new d("_right",e),u=function(){var a=$(window).width(),b=$(window).height(),d=$(document).width(),c=$(document).height();
return{width:a>d?a:d,height:b>c?b:c}},s=!1,p=null;$(window).bind("resize",function(){p&&clearTimeout(p);p=setTimeout(t,100)});var t=function(){if(!0===s){for(var b=u(),d=b.width,b=b.height,c=$(PrimeFaces.escapeClientId(a)),e=c.offset().left,g=c.offset().top,l=e+c.outerWidth(),h=g+c.outerHeight(),j=c.parent();0<j.length&&"HTML"!=j[0].tagName;){var i=j.css("overflow");if(("auto"==i||"hidden"==i||"scroll"==i)&&0<j.height())i=j.offset(),e<i.left&&(e=i.left),g<i.top&&(g=i.top),l>i.left+j.outerWidth()&&
(l=i.left+j.outerWidth()),h>i.top+j.outerHeight()&&(h=i.top+j.outerHeight());j=j.parent()}0>e&&(e=0);0>g&&(g=0);l<e&&(l=e);h<g&&(h=g);if(0<c.outerHeight()&&5>=h-g)try{var k=$(PrimeFaces.escapeClientId(a)+" :focusable");if(2>k.length){var o=$('<a href="#"> </a>');c.append(o);o.focus();o.remove()}else $(k[1]).focus();$(k[0]).focus()}catch(p){}k=0;o=$.browser.msie&&document.documentMode&&!window.performance?!0:!1;o&&(k=1);f.updatePosition(0,0,d-0,g-0);m.updatePosition(0,h-0,d-0,b-0);n.updatePosition(0,
g-0+k,e-0,h-0-k);r.updatePosition(l-0,g-0+k,d-0,h-0-k);setTimeout(t,150)}};return{show:function(){s=!0;t();var a=++PrimeFaces.zindex;f.show(a);m.show(a);n.show(a);r.show(a)},hide:function(){s=!1;f.hide();m.hide();n.hide();r.hide()}}};CKEDITOR_GETURL=function(a){if(-1!==a.indexOf("?resolve=false"))a=a.replace("?resolve=false","");else{var b=a.indexOf("v="+PrimeFacesExt.getPrimeFacesExtensionsVersion());if(-1!==b){if(b=a.substring(b+("v="+PrimeFacesExt.getPrimeFacesExtensionsVersion()).length),0<b.length)var a=a.substring(0,a.length-b.length),d=a.indexOf(PrimeFacesExt.RESOURCE_IDENTIFIER),c=PrimeFacesExt.isExtensionMapping()?a.lastIndexOf("."+PrimeFacesExt.getResourceUrlExtension()):a.indexOf("?"),a=a.substring(d+PrimeFacesExt.RESOURCE_IDENTIFIER.length,
c),a=PrimeFacesExt.getPrimeFacesExtensionsCompressedResource(a+b)}else a=PrimeFacesExt.getPrimeFacesExtensionsCompressedResource("/ckeditor/"+a)}return a};
PrimeFacesExt.widget.CKEditor=PrimeFaces.widget.BaseWidget.extend({init:function(a){this._super(a);this.dirtyEventDefined=this.cfg.behaviors&&this.cfg.behaviors.dirty;this.changeEventDefined=this.cfg.behaviors&&this.cfg.behaviors.change;this.dirtyState=!1;this.instance=null;this.options={};this.options.widget=this;this.cfg.skin&&(this.options.skin=this.cfg.skin);this.cfg.width&&(this.options.width=this.cfg.width);this.cfg.height&&(this.options.height=this.cfg.height);this.cfg.theme&&(this.options.theme=
this.cfg.theme);this.cfg.toolbar&&(this.options.toolbar=this.cfg.toolbar);this.cfg.readOnly&&(this.options.readOnly=this.cfg.readOnly);this.cfg.interfaceColor&&(this.options.uiColor=this.cfg.interfaceColor);this.cfg.language&&(this.options.language=this.cfg.language);this.cfg.defaultLanguage&&(this.options.defaultLanguage=this.cfg.defaultLanguage);this.cfg.contentsCss&&(this.options.contentsCss=this.cfg.contentsCss);this.cfg.customConfig&&(this.options.customConfig=this.cfg.customConfig+"?resolve=false");
if($.fn.ckeditor)this.initialize();else{var a=PrimeFacesExt.getPrimeFacesExtensionsCompressedResource("/ckeditor/ckeditor.js"),b=PrimeFacesExt.getPrimeFacesExtensionsCompressedResource("/ckeditor/adapters/jquery.js");PrimeFacesExt.getScript(a,$.proxy(function(){PrimeFacesExt.getScript(b,$.proxy(function(){if(this.jq.is(":visible"))this.initialize();else{var a=this.jq.parents(".ui-hidden-container:first").data("widget");a&&a.addOnshowHandler($.proxy(function(){!this.instance&&this.jq.is(":visible")&&
this.initialize()},this))}},this),true)},this),!0)}},initialize:function(){if(!this.instance){this.overwriteSaveButton();var a=CKEDITOR.instances[this.id];a&&a.destroy(!0);this.jq.ckeditor($.proxy(function(){this.initialized()},this),this.options)}},overwriteSaveButton:function(){CKEDITOR.plugins.registered.save={init:function(a){var b=a.config.widget;a.addCommand("save",{modes:{wysiwyg:1,source:1},exec:function(){if(b.cfg.behaviors){var a=b.cfg.behaviors.save;a&&a.call(b,null,{params:[]})}}});a.ui.addButton("Save",
{label:a.lang.save,command:"save"})}}},initialized:function(){this.instance=this.jq.ckeditorGet();this.fireEvent("initialize");this.instance.on("blur",$.proxy(function(){this.handleBlur()},this));this.instance.on("focus",$.proxy(function(){this.fireEvent("focus")},this));if(this.changeEventDefined||this.dirtyEventDefined)this.bindChangeEventsForWYSIWYGMode(),this.bindCommonChangeEvents(),this.instance.on("contentDom",$.proxy(function(){this.bindChangeEventsForWYSIWYGMode();this.fireEvent("wysiwygMode")},
this)),this.instance.on("mode",$.proxy(function(){"source"==this.instance.mode&&(this.bindChangeEventsForSourceMode(),this.fireEvent("sourceMode"))},this));this.dirtyEventDefined&&0!==this.cfg.checkDirtyInterval&&(this.dirtyCheckInterval=setInterval($.proxy(this.checkDirtyFromTimer,this),this.cfg.checkDirtyInterval))},bindCommonChangeEvents:function(){this.instance.on("paste",$.proxy(this.checkDirty,this));this.instance.getCommand("undo").on("afterUndo",$.proxy(this.checkDirty,this));this.instance.getCommand("redo").on("afterRedo",
$.proxy(this.checkDirty,this));this.instance.on("saveSnapshot",$.proxy(function(a){(!a.data||!a.data.contentOnly)&&this.checkDirty()},this));this.instance.on("afterCommandExec",$.proxy(function(a){"source"!=a.data.name&&!1!==a.data.command.canUndo&&this.checkDirty()},this))},bindChangeEventsForWYSIWYGMode:function(){this.instance.document.on("drop",$.proxy(this.checkDirty,this));this.instance.document.getBody().on("drop",$.proxy(this.checkDirty,this));this.instance.document.on("keydown",$.proxy(function(a){!a.data.$.ctrlKey&&
!a.data.$.metaKey&&(a=a.data.$.keyCode,(8==a||13==a||32==a||46<=a&&90>=a||96<=a&&111>=a||186<=a&&222>=a)&&this.checkDirty())},this))},bindChangeEventsForSourceMode:function(){this.instance.textarea.on("drop",$.proxy(this.checkDirty,this));this.instance.textarea.on("input",$.proxy(this.checkDirty,this))},checkDirty:function(){this.isDirty()&&(this.instance.resetDirty(),!1===this.dirtyState&&(this.dirtyState=!0),this.dirtyEventDefined&&this.fireEvent("dirty"))},checkDirtyFromTimer:function(){this.dirtyState=
!1;this.checkDirty()},handleBlur:function(){this.fireEvent("blur");this.changeEventDefined&&(this.dirtyState&&(this.instance.resetDirty(),this.fireEvent("change")),this.dirtyState=!1)},fireEvent:function(a){this.cfg.behaviors&&(a=this.cfg.behaviors[a])&&a.call(this,null,{params:[]})},destroy:function(){this.dirtyCheckInterval&&clearInterval(this.dirtyCheckInterval);this.instance&&(this.instance.destroy(!0),this.instance=null);this.jq.show()},isDirty:function(){return this.dirtyState||this.instance.checkDirty()},
setReadOnly:function(a){this.instance.setReadOnly(!1!==a)},isReadOnly:function(){return this.instance.readOnly},hasFocus:function(){return this.instance.focusManager.hasFocus},getEditorInstance:function(){return this.instance}});PrimeFacesExt.widget.DynaForm=PrimeFaces.widget.BaseWidget.extend({init:function(a){this._super(a);a.isPostback||(this.toggledExtended=!1);if(a.autoSubmit&&!window[a.widgetVar])this.submitForm();else if(a.isPostback&&this.toggledExtended&&this.uuid==a.uuid){var b=this.jq.find("tr.pe-dynaform-extendedrow");0<b.length&&(this.openExtended?b.show():b.hide())}this.uuid=a.uuid},toggleExtended:function(){var a=this.jq.find("tr.pe-dynaform-extendedrow");0<a.length&&(a.toggle(),this.toggledExtended=!0,this.openExtended=
"none"!=$(a[0]).css("display"))},submitForm:function(){this.jq.find(":submit").trigger("click")}});PrimeFacesExt.widget.ImageRotateAndResize=PrimeFaces.widget.BaseWidget.extend({init:function(a){this.id=a.id;this.cfg=a;this.initialized=!1;PrimeFacesExt.removeWidgetScript(this.id)},initializeLazy:function(){this.initialized||(this.target=$(this.cfg.target)[0],this.imageSrc=this.target.src,this.imageWidth=this.target.width,this.imageHeight=this.target.height,this.degree=0,this.newImageWidth=this.target.width,this.newImageHeight=this.target.height,this.initialized=!0)},reload:function(){this.initialized=
!1;this.initializeLazy()},rotateLeft:function(a){this.initializeLazy();this.degree=0>=this.degree-a?360- -1*(this.degree-a):this.degree-a;this.redrawImage();this.fireRotateEvent()},rotateRight:function(a){this.initializeLazy();this.degree=360<=this.degree+a?this.degree+a-360:this.degree+a;this.redrawImage();this.fireRotateEvent()},resize:function(a,b){this.initializeLazy();this.newImageWidth=a;this.newImageHeight=b;this.redrawImage();this.fireResizeEvent()},scale:function(a){this.initializeLazy();
this.newImageWidth*=a;this.newImageHeight*=a;this.redrawImage();this.fireResizeEvent()},restoreDefaults:function(){this.initializeLazy();this.newImageWidth=this.imageWidth;this.newImageHeight=this.imageHeight;this.degree=0;this.redrawImage();this.fireResizeEvent();this.fireRotateEvent()},redrawImage:function(){var a;a=0<=this.degree?Math.PI*this.degree/180:Math.PI*(360+this.degree)/180;var b=Math.cos(a),d=Math.sin(a);if($.browser.msie&&8>=parseInt($.browser.version))a=document.createElement("img"),
a.src=this.imageSrc,a.height=this.newImageHeight,a.width=this.newImageWidth,a.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+b+",M12="+-1*d+",M21="+d+",M22="+b+",SizingMethod='auto expand')",a.id=this.target.id,this.target.parentNode.replaceChild(a,this.target),this.target=a;else{var c=document.createElement("canvas"),e=new Image;e.src=this.imageSrc;e.width=this.newImageWidth;e.height=this.newImageHeight;c.style.width=c.width=Math.abs(b*e.width)+Math.abs(d*e.height);c.style.height=c.height=
Math.abs(b*e.height)+Math.abs(d*e.width);var f=c.getContext("2d");f.save();a<=Math.PI/2?f.translate(d*e.height,0):a<=Math.PI?f.translate(c.width,-1*b*e.height):a<=1.5*Math.PI?f.translate(-1*b*e.width,c.height):f.translate(0,-1*d*e.width);f.rotate(a);f.drawImage(e,0,0,e.width,e.height);f.restore();c.id=this.target.id;c.src=this.target.src;this.target.parentNode.replaceChild(c,this.target);this.target=c}},fireRotateEvent:function(){if(this.cfg.behaviors){var a=this.cfg.behaviors.rotate;a&&a.call(this,
null,{params:[{name:this.id+"_degree",value:this.degree}]})}},fireResizeEvent:function(){if(this.cfg.behaviors){var a=this.cfg.behaviors.resize;a&&a.call(this,null,{params:[{name:this.id+"_width",value:this.newImageWidth},{name:this.id+"_height",value:this.newImageHeight}]})}}});PrimeFacesExt.widget.TriStateCheckbox=PrimeFaces.widget.BaseWidget.extend({init:function(a){this._super(a);this.input=$(this.jqId+"_input");this.box=this.jq.find(".ui-chkbox-box");this.icon=this.box.children(".ui-chkbox-icon");this.itemLabel=this.jq.find(".ui-chkbox-label");this.disabled=this.input.is(":disabled");var b=this;this.disabled||(this.box.mouseover(function(){b.box.addClass("ui-state-hover")}).mouseout(function(){b.box.removeClass("ui-state-hover")}).click(function(){b.toggle()}),this.itemLabel.click(function(){b.toggle()}),
this.cfg.behaviors&&PrimeFaces.attachBehaviors(this.input,this.cfg.behaviors));this.input.data(PrimeFaces.CLIENT_ID_DATA,this.id)},toggle:function(){if(!this.disabled){var a=parseInt(this.input.val()),b=(a+1)%3;this.input.val(b);0==b?this.box.removeClass("ui-state-active"):this.box.addClass("ui-state-active");var d=this.box.data("iconstates");this.icon.removeClass(d[a]).addClass(d[b]);this.input.change()}}});PrimeFacesExt.widget.TriStateManyCheckbox=PrimeFaces.widget.BaseWidget.extend({init:function(a){this._super(a);this.outputs=this.jq.find(".ui-chkbox-box:not(.ui-state-disabled)");this.inputs=this.jq.find(":text:not(:disabled)");this.labels=this.jq.find("label:not(.ui-state-disabled)");var b=this;this.outputs.mouseover(function(){$(this).addClass("ui-state-hover")}).mouseout(function(){$(this).removeClass("ui-state-hover")}).click(function(){b.toggle($(this))});this.labels.click(function(a){var b=
$(this);$(PrimeFaces.escapeClientId(b.attr("for"))).parent().next().click();a.preventDefault()});this.cfg.behaviors&&PrimeFaces.attachBehaviors(this.inputs,this.cfg.behaviors);this.inputs.data(PrimeFaces.CLIENT_ID_DATA,this.id)},toggle:function(a){var b=a.prev().find(":input");if(!a.hasClass("ui-state-disabled")){var d=parseInt(b.val()),c=(d+1)%3;b.val(c);0==c?a.removeClass("ui-state-active"):a.addClass("ui-state-active");var e=a.data("iconstates");a.children().removeClass(e[d]).addClass(e[c]);b.change()}}});