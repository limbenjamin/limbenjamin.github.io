function parseServerDate(n){return new Date(parseInt(n.replace("/Date(","").replace(")/",""),10))}function parseNumericDate(n){return new Date(n.substr(0,4),parseInt(n.substr(4,2))-1,n.substr(6,2))}function setScroll(){$(window).scrollTop()>50?$("#back-top").show():$("#back-top").hide()}function setGlobalVars(){$("div.global-vars").each(function(){var i=$(this).attr("data-json"),n=JSON.parse(i);for(var t in n)window[t]=n[t]})}function isFunction(n){return n&&{}.toString.call(n)==="[object Function]"}function hidePopover(n){$(n).each(function(n,t){bootstrap.Popover.getInstance(t).hide()})}function initAutocomplete(){$.widget("custom.threecolumnautocomplete",$.ui.autocomplete,{_renderItem:function(n,t){var r,i=$("#searchPhrase3").length>0?$("#searchPhrase3").width():$("#searchPhrase1").width();return sw.isXs()||sw.isSm()?(i=$("#searchPhrase2").width(),r="<div style='width:"+i+"px'>"+t.Title+"<\/div>"):r="<table role='presentation' style='width:"+i+"px;'><tr><td>"+t.Title+"<\/td><td style='width: 150px;'>"+t.DisplayType+"<\/td><\/tr><\/table>",$("<li>").append("<div ><a href='"+t.InforceUrl+"' style='display: block;width:"+i+"px;'>"+r+"<\/a><\/div>").appendTo(n)}});var n={};$("#searchPhrase1,#searchPhrase2,#searchPhrase3").threecolumnautocomplete({minLength:1,delay:500,position:{collision:"flip"},source:function(t,i){if(t.legisTypeStatus=searchVM.form.In(),searchVM.form.Within()==="content"){i([]);return}var r=t.term.toLowerCase(),u=t.legisTypeStatus+"_"+r;if(r in n){i(n[u]);return}t.type="title";sw.ajax({method:"POST",cache:!1,url:sw.getRootPath()+"Search/Autocomplete",contentType:"application/json; charset=utf-8",data:t,success:function(t){n[u]=t;i(t)}})},select:function(n,t){n.preventDefault();window.location=t.item.InforceUrl},focus:function(n){n.preventDefault()}})}function setDropdownMenuPosition(){var n=0;$("#mainMenuList").find("li").each(function(){var t=$(this),u=t.find(".dropdown-menu-col").length,i,r;u>2?(i=$(window).width(),r="1000px",u>4&&(r=i>1024?"1200px":"1000px"),t.find(".dropdown-menu").css({left:i>1024?"-"+(n+15)+"px":"-"+(n+15)+"px",width:r})):t.find(".dropdown-menu").css({left:"-62px",width:"300px"});n+=t.width()})}function showLoadingPanel(){$("#pleaseWaitDialog").modal("show")}function hideLoadingPanel(){$("#pleaseWaitDialog").modal("hide")}function loadCollections(n){if(isCollectionsLoaded){isFunction(n)&&n();return}collectionVM.isLoading(!0);sw.ajax({type:"POST",url:sw.getRootPath()+"Profile/GetCollectionList",cache:!1,contentType:"application/json; charset=utf-8",success:function(t){collectionVM.bindCollections(t);collectionVM.isLoading(!1);isCollectionsLoaded=1;isFunction(n)&&n()}})}function initMyCollection(){var n=$('<div class="dropdown-menu dropdown-menu-end my-collections" aria-labelledby="myCollectionDropdown" id="myCollectionDropdownPanel"><div class="float-end visible-xs visible-sm mb-2"><div class="dropdown-menu-right-nav"><span data-bind="visible: collections().length > 0"><a href="'+sw.getRootPath()+'Search/Collections">Search within My Collections<\/a> | <\/span><a href="'+sw.getRootPath()+'Help/SSO-Guide/Category/6" class="help" aria-label="SSO Guide">Help <span class="fa fa-question-circle"><\/span><\/a><\/div><\/div><div class="row g-0"><div class="col-7"><h2 class="visible-xs visible-sm">My Collections<\/h2><\/div><div class="col-5 hidden-xs hidden-sm"><div class="dropdown-menu-right-nav"><span data-bind="visible: collections().length > 0"><a href="'+sw.getRootPath()+'Search/Collections">Search within My Collections<\/a> | <\/span><a href="'+sw.getRootPath()+'Help/SSO-Guide/Category/6" class="help" aria-label="SSO Guide">Help <span class="fa fa-question-circle"><\/span><\/a><\/div><\/div><\/div><div class="row g-0" style="font-weight: normal"><div>My Collections allows you to create your personal lists of current legislation for quick access and search.<\/div><div><span>Please click on the<\/span>&nbsp;<span class="fa fa-bookmark-o"><\/span>&nbsp;<span>icon in the<\/span>&nbsp;<a href="'+sw.getRootPath()+'Browse" style="font-weight: bold">Browse<\/a>&nbsp;page or&nbsp;<a href="'+sw.getRootPath()+'Search" style="font-weight: bold">Search<\/a>&nbsp;results page to start creating your collections.<\/div><\/div><div class="row g-0"><div class="ajax-loading" data-bind="visible: isLoading">&nbsp;<\/div><div class="accordion accordion-flush" id="myCollAccordion" data-bind="foreach: collections"><div class="accordion-item"><a href="#" class="accordion-header" data-bs-toggle="collapse" data-bind="attr: { \'id\': \'myCollHeading\' + $index(), \'data-id\': Id }, css: { \'show\': isExpanded() }, attr: { \'data-bs-target\': \'#myCollCollapse\' + $index(), \'aria-controls\': \'collapse\' + $index(), \'aria-expanded\': isExpanded }"><span data-bind="visible: $root.editingRowIndex2() !== $index()"><span data-bind="text: Name"><\/span>&nbsp;&nbsp;&nbsp;<i class="fa fa-pencil-square-o" style="float: none" data-bind="click: function() {$root.setEditingRow2($index()); $(\'#editCollectionName\' + $index()).focus();}"><\/i><\/span><i class="fa" data-bind="css: { \'fa-angle-down\': isExpanded, \'fa-angle-up\': !isExpanded() }" style="float: right"><\/i><div class="row" data-bind="visible: $root.editingRowIndex2() === $index()"><div class="col-12 no-side-padding"><div class="input-group has-clear-button"><input type="text" class="form-control" data-bind="value: $root.editingCollectionName, click: function (vm, e) { e.stopPropagation(); }, attr: { \'id\': \'editCollectionName\' + $index() }" /><button type="button" class="btn btn-default clear-button"><i class="fa fa-close"><\/i><\/button><button class="btn btn-default" type="button" data-bind="click: function() { $root.saveChanges(Id); }">Save<\/button><button class="btn btn-default" type="button" data-bind="click: function() { $root.deleteCollection(Id); }">Delete<\/button><button class="btn btn-default" type="button" data-bind="click: function() { $root.setEditingRow2(-1); }">Cancel<\/button><\/div><i class="fa" data-bind="css: { \'fa-angle-down\': isExpanded, \'fa-angle-up\': !isExpanded() }, visible: $root.editingRowIndex2() !== $index()" style="float: right; margin-top:10px;"><\/i><\/div><\/div><\/a><div data-bind="attr: { \'id\': \'myCollCollapse\' + $index(), \'aria-labelledby\': \'myCollHeading\' + $index() }, css: { \'show\': isExpanded }" class="accordion-collapse collapse" data-bs-parent="#myCollAccordion"><div class="accordion-body"><ul class="list-group"><!-- ko foreach: Items --><li class="list-group-item"><a href="#" data-bind="attr: { \'href\': Url }, text: Title, visible: $root.editingRowIndex() !== $parentContext.$index()"><\/a><div class="row" data-bind="visible: $root.editingRowIndex() === $parentContext.$index()"><div class="col-10 no-side-padding" data-bind="text: Title" style="font-weight: normal"><\/div><div class="col-2 text-end"><input type="checkbox" data-bind="value: Id, css: { \'deleting-item\': $root.editingRowIndex() === $parentContext.$index() }" /><\/div><\/div><\/li><!-- /ko --><\/ul><div class="text-end"><a href="#" data-bind="click: function () { $root.setEditingRow($index()); }, visible: $root.editingRowIndex() !== $index() && Items.length > 0">Edit<\/a><div data-bind="visible: $root.editingRowIndex() === $index()"><a href="#" data-bind="click: function () { $root.deleteAllItems(Id); }">Delete All<\/a> | <a href="#" data-bind="click: function () { $root.deleteItems(Id); }">Delete Selected<\/a> | <a href="#" data-bind="click: function () { $root.setEditingRow(-1); }">Cancel<\/a><\/div><\/div><\/div><\/div><\/div><\/div><\/div><\/div>');$(document).on("change",".delete-all",function(){$(".deleting-item").prop("checked",$(this).prop("checked"))});$(".my-collection-dropdown").append(n);$(".my-collections-toggle").attr("data-bs-auto-close","outside").on("click",function(){var n=$(window).width();n<=768?(hidePopover("#mobileMenuBtn"),$("#myCollectionDropdownPanel").width(n-22)):$("#myCollectionDropdownPanel").width(768);loadCollections()});$(window).on("resize",function(){var n=$(window).width();n<=768?$("#myCollectionDropdownPanel").width(n-22):$("#myCollectionDropdownPanel").width(768)});n.click(function(n){n.stopPropagation()});$('[role="tablist"]').on("click",'[role="tab"]',function(n){var t=$(n.target),s,f,e,h;if(t.hasClass("fa-close"))return t.parent().parent().find(".form-control").val("").focus(),t.parent().hide(),!0;if(t.hasClass("clear-button"))return t.parent().find(".form-control").val("").focus(),t.hide(),!0;n.preventDefault();var r=$(this).attr("data-id"),i=collectionVM.expandedRowIds(),u,o=collectionVM.collections();for(s in o)if(f=o[s],f.Id===r){u=f;break}e=i.indexOf(r);e>-1?(u.isExpanded(!1),i.splice(e,1)):(i.splice(0,i.length),h=collectionVM.collections(),$.each(h,function(n,t){t.isExpanded(!1)}),u.isExpanded(!0),i.push(r))});ko.applyBindings(collectionVM,n.get(0))}function initAddToCollection(){var n=$('<div class="modal fade" tabindex="-1" role="dialog" id="addToCollectionModal"><div class="modal-dialog add-to-collections" role="document"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">Add to My Collections<\/h4><a href="#" class="right-close-btn" data-bs-dismiss="modal" aria-label="Close"><span class="fa fa-2x fa-close"><\/span><\/a><\/div><div class="modal-body"><div class="ajax-loading" data-bind="visible: isLoading">&nbsp;<\/div><div class="add-to-collection" data-bind="visible: !isLoading()"><div class="mb-3" data-bind="text: legisTitle" style="font-size: 128.5715%"><\/div><div class="mb-3" data-bind="visible: collections().length > 0"><label class="form-label">Add to Existing Collection<\/label><ul data-bind="foreach: collections"><li><span data-bind="text: Name"><\/span><a href="#" data-bind="click: function () { $parent.addToCollection(Id, \'\'); }" style="float: right"><span class="fa fa-plus"><\/span><\/a><\/li><\/ul><\/div><form data-bind="submit: submitNewCollectionForm"><div class="mb-3"><label class="form-label" for="newCollectioName">Add to New Collection<\/label><div class="input-group has-clear-button"><input type="text" class="form-control collection-name" maxlength="100" placeholder="Enter a new collection name" data-bind="value: newCollectionName" id="newCollectioName" /><button type="button" class="btn btn-default clear-button"><i class="fa fa-close"><\/i><\/button><button class="btn btn-default" type="submit"><span class="fa fa-plus"><\/span><\/button><\/div><\/div><\/form><\/div><\/div><\/div><\/div><\/div>');$("body").append(n);ko.applyBindings(collectionVM,n.get(0));$(document).on("click","a.add-to-collection",function(){var i=$(this),t;return collectionVM.addToCollectionUrl=i.attr("href"),collectionVM.legisTitle(i.attr("data-legisTitle")),collectionVM.addToCollectionUrl==="#"&&(t=$(this).parents("tr").find("td:first a"),collectionVM.addToCollectionUrl=t.attr("href"),collectionVM.addToCollectionTitle=t.text()),n.modal("show"),collectionVM.isLoading(!0),sw.ajax({type:"POST",url:sw.getRootPath()+"Profile/GetCollectionList",cache:!1,contentType:"application/json; charset=utf-8",success:function(n){collectionVM.bindCollections(n);collectionVM.isLoading(!1);collectionVM.newCollectionName("");setTimeout(function(){$("#newCollectioName").focus()},500)}}),!1})}function initAddToCollectionPopover(){var n="a.add-to-collection",t,i;sw.popoverTriggers=sw.popoverTriggers||[];sw.popoverTriggers.push(n);$("body").popover({placement:"bottom",trigger:"click",animation:!1,template:'<div class="popover add-to-collection" role="tooltip"><div class="arrow"><\/div><div class="popover-body"><\/div><\/div>',html:!0,selector:n,container:"#container",content:i});$(document).on("click",n,function(){var n=bootstrap.Popover.getInstance(this);return n.hide(),n.config.content=$("#addToCollectionPanel").html(),n.show(),t=$(this).attr("href"),!1});$(document).on("click",function(t){var i=$(t.target);return i.parents(".popover").length?!0:($(n).popover("hide"),!0)});$(document).on("click",".add-to-collection a",function(){return sw.ajax({type:"POST",url:t+(t.indexOf("?")>-1?"&":"?")+"ViewType=add-to-collection",cache:!1,data:{ProfileCollectionSysId:$(this).attr("data-id")},contentType:"application/json; charset=utf-8",success:function(t){if(t){alert(t);return}hidePopover(n)}}),!1});$(document).on("submit","#addToNewCollectionForm",function(){return sw.ajax({type:"POST",url:t+(t.indexOf("?")>-1?"&":"?")+"ViewType=add-to-collection",cache:!1,data:{ProfileCollectionName:$(this).find(".collection-name").val()},contentType:"application/json; charset=utf-8",success:function(t){if(t){alert(t);return}$(n).popover("hide");$("#addToCollectionPanel").load(getAddToCollectionPanelUrl,function(){i=$("#addToCollectionPanel").html()})}}),!1})}function initLoginMenu(){$("#loginDropdownd").length>0&&initGgLogin();$("#loginDropdownd").on("click",function(){var n=$(window).width();n<=768?(hidePopover("#mobileMenuBtn"),$("#loginDropdownPanel").width(n)):$("#loginDropdownPanel").width(300)});$("#accountDropdownd").on("click",function(){var n=$(window).width();n<=768?(hidePopover("#mobileMenuBtn"),$("#accountDropdownPanel").width(n-22)):$("#accountDropdownPanel").width(400)});$(".logout").click(function(){return sw.ajax({type:"POST",url:sw.getRootPath()+"Profile/SignOut",cache:!1,data:{},contentType:"application/json; charset=utf-8",success:function(n){if(n.Status!=="OK"){alert(n.Message);return}window.location.reload()}}),!1});$(".facebook-login, .google-login, .linkedin-login").click(function(){var n=$(this),t;return t=n.hasClass("facebook-login")?function(){isLoggingIn!==1&&(isLoggingIn=1,doFbLogin())}:n.hasClass("google-login")?function(){isLoggingIn=1;doGgLogin()}:function(){isLoggingIn!==1&&(isLoggingIn=1,doLiLogin())},t(),!1})}function initGgLogin(n){isGgInit?n&&n():(window.onGoogleSdkLoad=function(){gapi.load("auth2",function(){auth2=gapi.auth2.init({client_id:gapiClientId+".apps.googleusercontent.com",cookiepolicy:"single_host_origin"});isGgInit=1;n&&n()})},$("body").append('<script src="https://apis.google.com/js/api:client.js?onload=onGoogleSdkLoad"><\/script>'))}function initFbLogin(n){isFBInit?n&&n():(function(n,t,i){var r,u=n.getElementsByTagName(t)[0];n.getElementById(i)||(r=n.createElement(t),r.id=i,r.src="//connect.facebook.net/en_US/sdk.js",u.parentNode.insertBefore(r,u))}(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:facebookApiClientId,cookie:!0,xfbml:!0,version:"v2.10"});isFBInit=1;n&&n()})}function doFbLogin(){initFbLogin(function(){FB.login(function(n){if(n.status!=="connected"){isLoggingIn=0;$("#loadingCover").hide();return}n.authResponse?signInProfile("Facebook",n.authResponse.accessToken,n.authResponse.userID):console.log("User cancelled login or did not fully authorize.");isLoggingIn=0},{scope:"public_profile,email"})})}function doGgLogin(){try{var n=gapi.auth2.getAuthInstance();n.signIn().then(function(n){signInProfile("Google",n.getAuthResponse(!0).access_token,n.getBasicProfile().getId())},function(){isLoggingIn=0})}catch(t){isLoggingIn=0;$("#loadingCover").hide()}}function doLiLogin(){window.location=sw.getRootPath()+"Profile/RedirectToLinkedIn"}function signInProfile(n,t,i){sw.ajax({type:"POST",url:sw.getRootPath()+"Profile/SignIn",cache:!1,data:{profileType:n,accessToken:t,profileId:i},contentType:"application/json; charset=utf-8",success:function(n){if(n.Status!=="OK"){alert(n.Message);return}$("#loadingCover").hide();window.location.reload()}})}function SearchVM(n){var t=this;this.form={Phrase:ko.observable(typeof n!="undefined"?n.Phrase:""),PhraseType:ko.observable(typeof n!="undefined"?n.PhraseType:"AllTheseWords"),In:ko.observable(typeof n!="undefined"?n.In:"InForce_Act_SL"),Within:ko.observable(typeof n!="undefined"?n.Within:"title")};this.placeholder=ko.pureComputed(function(){return this.form.Within()==="title"?"e.g bank, CPC, 247/2011":"Enter your search phrase"},this);this.setTitleSearch=function(){return this.form.Within("title"),!0};this.setContentSearch=function(){return this.form.Within("content"),!0};this.form.Within.subscribe(function(){});this.submitForm=function(){var t=ko.toJS(this.form),i;return(t.Phrase=$.trim(t.Phrase),t.Phrase==="")?(alert("Please enter your search phrase."),!1):(t.Phrase=encodeSearchPhrase(t.Phrase),i=sw.getRootPath()+"Search/Content?"+$.param(t),typeof n!="undefined"?History.pushState({state:i,getPartialView:"main"},document.title,i):window.location=i,!1)}}function initMobileMenu(){var n=$("#mainMenuList").clone().removeAttr("id").removeClass("hidden-xs hidden-sm"),t;n.length!==0&&(t=$('<nav class="navbar navbar-expand-lg navbar-inverse pr-0 pl-0">'+n[0].outerHTML+"<\/nav>"),new bootstrap.Popover(document.getElementById("mobileMenuBtn"),{placement:"bottom",trigger:"click",animation:!1,template:'<div class="popover mobile-menu" role="tooltip"><div class="popover-arrow"><\/div><div class="popover-body"><\/div><\/div>',html:!0,container:"#container",content:t}))}function initBasicSearchMenu(){searchVM=new SearchVM;var n=$('<div class="dropdown-menu dropdown-menu-end basic-search" aria-labelledby="searchDropdown" id="searchDropdownPanel"><div class="row"><div class="col-sm-4 col-12 no-side-padding"><\/div><div class="col-sm-8 col-12 no-side-padding"><div class="dropdown-menu-right-nav"><a href="'+sw.getRootPath()+'Search/Advanced">Advanced Search<\/a>'+(siteId==="2"?"":' | <a href="'+sw.getRootPath()+'Search/Saved">Saved Searches<\/a> | <a href="'+sw.getRootPath()+'Help/SSO-Guide/Article/12" class="help">Help <span class="fa fa-question-circle"><\/span><\/a>')+'<\/div><\/div><\/div><form action="" method="get" data-bind="submit: submitForm"><div class="hidden-xs hidden-sm"><div class="row search-form"><div class="col-md-12 no-side-padding"><div class="input-group has-clear-button"><input type="text" class="form-control" maxlength="100" id="searchPhrase1" aria-labelledby="Search Phrase" data-bind="attr: { \'placeholder\': placeholder }, value: form.Phrase, css: { \'basic-search-title\': form.Within() === \'title\' }" /><button type="button" class="btn clear-button"><i class="fa fa-close"><\/i><\/button><button type="button" class="btn btn-default dropdown-btn" data-bind="visible: form.Within() === \'content\'" id="searchPhraseType2" aria-label="Phrase Type"><span>All of these words<\/span><span class="fa fa-angle-down"><\/span><\/button><input type="hidden" data-bind="value: form.PhraseType" /><button type="button" class="btn btn-default dropdown-btn" id="searchLegisType2"><span>'+inForceLabel+" "+actsLabel+" and "+slLabel+'<\/span><span class="fa fa-angle-down"><\/span><\/button><input type="hidden" data-bind="value: form.In" /><button type="submit" class="btn btn-primary" aria-label="Search"><span class="fa fa-search"><\/span><\/button><\/div><\/div><\/div><div class="row"><div class="col-md-10 no-side-padding"><label class="radio-inline" data-bind="click: setTitleSearch"><input type="radio" name="Within" value="title" data-bind="checked: form.Within"> Title / No.<\/label><label class="radio-inline" data-bind="click: setContentSearch"><input type="radio" name="Within" value="content" data-bind="checked: form.Within"> Content<\/label><\/div><\/div><\/div><div class="visible-xs visible-sm"><div class="mb-3"><div class="input-group has-clear-button"><input type="text" class="form-control" id="searchPhrase2" data-bind="attr: { \'placeholder\': placeholder }, value: form.Phrase"><button type="button" class="btn clear-button"><i class="fa fa-close"><\/i><\/button><button type="submit" class="btn btn-primary"><span class="fa fa-search"><\/span><\/button><\/div><\/div><div class="row mb-3"><div class="col-6 no-side-padding"><button type="button" class="btn btn-toggle" data-bind="click: setTitleSearch, css: { \'btn-primary\': form.Within() === \'title\', \'btn-default\': form.Within() === \'content\' }"><span class="fa" data-bind="css: { \'fa-check\': form.Within() === \'title\' }"><\/span><span>Title / No.<\/span><\/button><\/div><div class="col-6 no-side-padding"><button type="button" class="btn btn-toggle" data-bind="click: setContentSearch, css: { \'btn-primary\': form.Within() === \'content\', \'btn-default\': form.Within() === \'title\' }"><span class="fa" data-bind="css: { \'fa-check\': form.Within() === \'content\' }"><\/span><span>Content<\/span><\/button><\/div><\/div><div class="row mb-3" style="display: none" data-bind="visible: form.Within() === \'content\'"><button type="button" class="btn btn-default dropdown-btn" id="searchPhraseType3" style="width: 100%"><span>All of these words<\/span><span class="fa fa-angle-down"><\/span><\/button><input type="hidden" data-bind="value: form.PhraseType" /><\/div><div class="row mb-3"><button type="button" class="btn btn-default dropdown-btn" id="searchLegisType3" style="width: 100%"><span>'+inForceLabel+" "+actsLabel+" and "+slLabel+'<\/span><span class="fa fa-angle-down"><\/span><\/button><input type="hidden" data-bind="value: form.In" /><\/div><\/div><\/form><\/div>');$(".basic-search-dropdown").append(n);$("#searchDropdownPanel,.homepage .search-panel").each(function(n,t){try{ko.applyBindings(searchVM,t)}catch(i){console.log(i);console.log(t)}});$(".basic-search-toggle").click(function(){var n=$(window).width();n<1024?(hidePopover("#mobileMenuBtn"),$("#searchDropdownPanel").width(n-22)):$("#searchDropdownPanel").width(960)});$(window).on("resize",function(){var n=$(window).width();n<1024?$("#searchDropdownPanel").width(n-22):$("#searchDropdownPanel").width(960)});sw.popover("#searchPhraseType2","#searchPhraseTypePopover","bottom","search-phrase-type",1,"click","#searchDropdownPanel");sw.popover("#searchLegisType2","#searchLegisTypePopover","bottom","search-legis-type",1,"click","#searchDropdownPanel");sw.popover("#searchPhraseType3","#searchPhraseTypePopover","bottom","search-phrase-type",1,"click","#searchDropdownPanel");sw.popover("#searchLegisType3","#searchLegisTypePopover","bottom","search-legis-type",1,"click","#searchDropdownPanel");$("#searchLegisType2,#searchLegisType3").click(function(){return OnSearchLegisTypeClick(this)});$("#searchDropdownd").attr("data-bs-auto-close","outside").click(function(){setTimeout(function(){$("#searchPhrase1").focus()},100)});$("#searchDropdown").attr("data-bs-auto-close","outside").click(function(){setTimeout(function(){$("#searchPhrase2").focus()},100)})}function OnSearchLegisTypeClick(n){var t=$(n);return loadCollections(function(){var r=t.next().val(),n=bootstrap.Popover.getInstance(t[0]),i=n.config.content;i.find(".fa-check").removeClass("fa-check");i.find('a[data-id="'+r+'"]').parent().parent().find(".fa").addClass("fa-check");n.toggle()}),!1}function setupPopover(){var n,i,t,r;if($('<div id="searchPhraseTypePopover" style="display: none"><table class="popover-table" role="presentation"><tr data-val="0"><td><span class="fa fa-check"><\/span><\/td><td><a href="#" class="non-ajax" data-id="AllTheseWords">All of these words<\/a><\/td><\/tr><tr data-val="1"><td><span class="fa"><\/span><\/td><td><a href="#" class="non-ajax" data-id="AnyOfTheseWords">Any of these words<\/a><\/td><\/tr><tr data-val="2"><td><span class="fa"><\/span><\/td><td><a href="#" class="non-ajax" data-id="ExactWords">This exact phrase<\/a><\/td><\/tr><\/table><\/div>').appendTo("body"),n='<div id="searchLegisTypePopover" style="display: none"><table class="popover-table legis-type" role="presentation"><tr class="group-heading" data-concat="0"><td colspan="2"><label>'+inForceLabel+'<\/label><\/td><\/tr><tr><td><span class="fa"><\/span><\/td><td class="group-item"><a href="#" class="non-ajax" data-id="InForce_Act_SL">'+inForceLabel+" "+actsLabel+" and "+slLabel+'<\/a><\/td><\/tr><tr><td><span class="fa"><\/span><\/td><td class="group-item"><a href="#" class="non-ajax" data-id="Act_InForce">'+inForceLabel+" "+actsLabel+'<\/a><\/td><\/tr><tr><td><span class="fa"><\/span><\/td><td class="group-item"><a href="#" class="non-ajax" data-id="SL_InForce">'+inForceLabel+" "+slLabel+"<\/a><\/td><\/tr>",n+='<tr class="group-heading" data-bind="visible: collections().length > 0"><td colspan="2"><label>My Collections<\/label><\/td><\/tr><tr data-bind="visible: collections().length > 0"><td><span class="fa"><\/span><\/td><td class="group-item no-concat"><a href="#" class="non-ajax" data-id="col_all">All Collections<\/a><\/td><\/tr><!-- ko foreach: collections --><tr><td><span class="fa"><\/span><\/td><td class="group-item no-concat"><a href="#" class="non-ajax" data-bind="attr: { \'data-id\': \'col_\' + Id }, text: Name"><\/a><\/td><\/tr><!-- /ko -->',customCategoryMenuList!=="undefined"&&customCategoryMenuList!==null&&customCategoryMenuList.length>0){n+='<tr class="group-heading" data-concat="0"><td colspan="2"><label>Others<\/label><\/td><\/tr>';for(i in customCategoryMenuList)t=customCategoryMenuList[i],n+='<tr><td><span class="fa"><\/span><\/td><td class="group-item no-concat"><a href="#" class="non-ajax" data-id="cat_'+t.SiteContentSysId+'">'+t.ViewName+"<\/a><\/td><\/tr>"}n+='<tr class="group-heading" data-concat="0"><td colspan="2"><label>As Published<\/label><\/td><\/tr><tr><td><span class="fa"><\/span><\/td><td class="group-item"><a href="#" class="non-ajax" data-id="ActSupplement">'+actsSuppLabel+'<\/a><\/td><\/tr><tr><td><span class="fa"><\/span><\/td><td class="group-item"><a href="#" class="non-ajax" data-id="BillSupplement">'+billsSuppLabel+'<\/a><\/td><\/tr><tr><td><span class="fa"><\/span><\/td><td class="group-item"><a href="#" class="non-ajax" data-id="SLSupplement">'+slSuppLabel+'<\/a><\/td><\/tr><tr><td><span class="fa"><\/span><\/td><td class="group-item"><a href="#" class="non-ajax" data-id="RevisedEditionAct">'+actsRevLabel+'<\/a><\/td><\/tr><tr><td><span class="fa"><\/span><\/td><td class="group-item"><a href="#" class="non-ajax" data-id="RevisedEditionSL">'+slRevLabel+"<\/a><\/td><\/tr>";r=$(n+"<\/table><\/div>").appendTo("body");ko.applyBindings(collectionVM,r.get(0));$("#searchLegisType1,#searchLegisType4").click(function(){return OnSearchLegisTypeClick(this)})}function resizeFont(n){$(".sGrpHdr,.fs,.p1_1,.sGrpHdrCaps,.sGrpHdrIta,.sGrpSTxt,.sGrpSTxtSO,.sTxtNoInd,.sTxtNoNum,.p4_1,.p5_1,.def,.p1_1,.p1_explan,.p1_1-2,.sProvP2,.p2_1_Tail,.p2_1,.p2_2,.p2_3,.p2_1_m,.p2_1_m2,.sProvP3,.p3_1,.p3_2,.p4_1,.p5_1,.prov1N2SO,.openWd,.p1SO,.defSO,.provisoText,.content").each(function(){var t=$(this),o=t.attr("style"),u,i,f,r,e;if(o.indexOf("font-size")===-1)if(t.hasClass("sGrpHdrCaps")||t.hasClass("sGrpHdrIta")||t.hasClass("sGrpHdr")){if(u=t.children(),u.length>0){if(o=u.attr("style"),o.indexOf("font-size")===-1)return;t=u}}else return;if(i=t.data("fs"),f=t.css("font-size"),f){r="px";f.indexOf(r)===-1&&(r="pt");i||(i=f.replace(r,""),t.data("fs",i));e=i;switch(n){case 1:e=i*1.5;break;case 2:e=i*2}t.css("font-size",e+r)}})}function initPreviewSite(){if(isPreviewSite){viewDate=parseServerDate(viewDate);var n=function(){var n=$("#previewDatePicker").datepicker("getDate");if(n&&typeof n.getMonth=="function")n=n.yyyymmdd();else return;viewDate.yyyymmdd()!==n&&sw.ajax({type:"POST",url:sw.getRootPath()+"PreviewSite/SetPreviewDate",cache:!1,data:{previewDate:n},contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){n.Status==="OK"&&location.reload()}})};$("#previewDatePicker").datepicker({autoclose:!0,format:"dd M yyyy"});$("#previewDatePicker").datepicker("setDate",viewDate);$("#setPreviewDate").click(n)}}function initHelpLink(){var n;"<\/div><!-- /.modal-content --><\/div><!-- /.modal-dialog --><\/div><!-- /.modal -->";$("body").append('<div class="modal fade" tabindex="-1" role="dialog" id="helpModal"><div class="modal-dialog" role="document" style="width: 800px;"><div class="modal-content"><div class="modal-header"><h4 class="modal-title"><span>Help<\/span><\/h4><a href="#" class="float-end" data-bs-dismiss="modal" aria-label="Close" title="Close"><span class="fa fa-2x fa-close"><\/span><\/a><\/div><div class="modal-body" style="overflow: auto"><div id="helpContent">');$("#helpModal").on("hidden.bs.modal",function(){$(window).scrollTop(n)});$("a.help").on("click",function(){var t=$(this),i=t.attr("href");return n=$(window).scrollTop(),$("#helpModal").modal("show"),$("#helpContent").html('<div class="ajax-loading">&nbsp;<\/div>'),sw.ajax({method:"POST",url:i+"?partial=1",success:function(n){$("#helpContent").html(n);resizeHelpDialog()}}),!1});$(window).on("resize",function(){resizeHelpDialog()})}function resizeHelpDialog(){var n=$(window).width(),t=$(window).height(),i=0,r=0;n>768&&(t=t*.7,n=n*.5,i=100,r="30px auto");$("#helpModal").css({"margin-top":i+"px"}).find(".modal-dialog").css({height:t+"px",width:n+"px",margin:r});$("#helpModal .modal-body").css({height:t-56+"px"})}function encodeSearchPhrase(n){var t=n;return t&&(t=t.replaceAll("<","lt;"),t=t.replaceAll(">","gt;")),t}var sw,DateHelper,isFirstLoad,currFS,searchVM,siteId,collectionVM,isCollectionsLoaded,isLoggingIn,isFBInit,isGgInit;!function(n){var t=!1,r,i;("function"==typeof define&&define.amd&&(define(n),t=!0),"object"==typeof exports&&(module.exports=n(),t=!0),t)||(r=window.Cookies,i=window.Cookies=n(),i.noConflict=function(){return window.Cookies=r,i})}(function(){function n(){for(var i,r,n=0,t={};n<arguments.length;n++){i=arguments[n];for(r in i)t[r]=i[r]}return t}function t(i){function r(t,u,f){var o,h,l,e,s;if("undefined"!=typeof document){if(arguments.length>1){(f=n({path:"/"},r.defaults,f),"number"==typeof f.expires)&&(h=new Date,h.setMilliseconds(h.getMilliseconds()+864e5*f.expires),f.expires=h);try{o=JSON.stringify(u);/^[\{\[]/.test(o)&&(u=o)}catch(y){}return u=i.write?i.write(u,t):encodeURIComponent(u+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(t+""),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=t+"="+u+(f.expires?"; expires="+f.expires.toUTCString():"")+(f.path?"; path="+f.path:"")+(f.domain?"; domain="+f.domain:"")+(f.secure?"; secure":"")}t||(o={});for(var a=document.cookie?document.cookie.split("; "):[],v=/(%[0-9A-Z]{2})+/g,c=0;c<a.length;c++){l=a[c].split("=");e=l.slice(1).join("=");'"'===e.charAt(0)&&(e=e.slice(1,-1));try{if(s=l[0].replace(v,decodeURIComponent),e=i.read?i.read(e,s):i(e,s)||e.replace(v,decodeURIComponent),this.json)try{e=JSON.parse(e)}catch(y){}if(t===s){o=e;break}t||(o[s]=e)}catch(y){}}return o}}return r.set=r,r.get=function(n){return r.call(r,n)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,i){r(t,"",n(i,{expires:-1}))},r.withConverter=t,r}return t(function(){})});Array.prototype.indexOf||(Array.prototype.indexOf=function(n){var i=this.length>>>0,t=Number(arguments[1])||0;for(t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=i);t<i;t++)if(t in this&&this[t]===n)return t;return-1});jQuery.extend({getQueryParameters:function(n){return(n||document.location.search).replace(/(^\?)/,"").split("&").map(function(n){return n=n.split("="),this[n[0]]=n[1],this}.bind({}))[0]}});Date.prototype.yyyymmdd=function(){var n=this.getMonth()+1,t=this.getDate();return[this.getFullYear(),(n>9?"":"0")+n,(t>9?"":"0")+t].join("")};sw={getRootPath:function(){return window.location.host==="localhost"?window.location.origin+appPath+(appPath==="/"?"":"/"):appPath+(appPath==="/"?"":"/")},postForm:function(n,t,i,r){var u,f;r||(r="post");u=$("<form />",{method:r,action:n}).appendTo("body");for(f in t)u.append($("<input />",{type:"hidden",name:f,value:t[f]}));u.append($("<input />",{type:"hidden",name:"CSRF_Token",value:ajaxToken}));i!==undefined&&u.attr("target",i);u.submit()},ajax:function(n){var r={type:"POST",cache:!1,error:function(){},beforeSend:function(t,i){t.setRequestHeader("X-SW-AJAX","1");i.type==="POST"&&t.setRequestHeader("X-SW-AJAX-TOKEN",ajaxToken);n.action!="GET_PRESENCE"&&sw.showLoadingPanel()},complete:function(){sw.hideLoadingPanel()}},t=$.extend(!0,r,n),i={};n.data&&(i=n.data);n.action&&(t.url+="/"+n.action);t.contentType&&(t.data=t.contentType.indexOf("application/json")>-1?JSON.stringify(i):$.param(i));t.success=function(t,i,r){sw.handleAjaxResult(n.form,t,n.success,i,r)};$.ajax(t)},handleAjaxResult:function(n,t,i,r,u){var e,o,f;switch(t.Status){case"POST":$(t.Request).appendTo("body").submit();break;case"REDIRECT":window.location=rootPath+t.Request;break;case"ACCESS_DENIED":window.location=typeof accessDeniedUrl!="undefined"?window.accessDeniedUrl:t.Request;break;case"ERROR":e=$("#errorDialog");e.length===0&&(e=$('<div class="modal fade" tabindex="-1" role="dialog" id="errorDialog"><div class="modal-dialog error-dialog" role="document"><div class="modal-content"><div class="modal-header"><a href="#" class="right-close-btn" data-dismiss="modal" aria-label="Close"><span class="fa fa-close"><\/span><\/a><h4 class="modal-title">Error<\/h4><\/div><div class="modal-body"><\/div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">OK<\/button><\/div><\/div><\/div>').appendTo("body"));e.find(".modal-body").html(t.Message);e.modal("show");break;case"FAIL":alert(t.Messages[0]);break;case"VALIDATION":o=n.validate();o.showErrors(t.ValidationMessages);o.focusInvalid();break;case"SESSION_EXPIRED":f=$("#loginModal");f.length==0?(f=$("<div>",{id:"loginModal","class":"reveal-modal medium"}).appendTo("body"),typeof Foundation!="undefined"?f.foundation("reveal","open",{url:"../LoginFormModal.aspx"}).bind("opened",function(){$("#LoginForm input:enabled:first").focus()}):f.load("../LoginFormModal.aspx",function(){$(this).reveal("open",{closeOnBackgroundClick:!1,opened:function(){$("#LoginForm input:enabled:first").focus()}})})):typeof Foundation!="undefined"?f.foundation("reveal","open").bind("opened",function(){$("#LoginForm input:enabled:first").focus()}):f.reveal("open",{closeOnBackgroundClick:!1,opened:function(){$("#LoginForm input:enabled:first").focus()}});break;default:i(t,r,u)}},serializeForm:function(n){var t={},r=[];for(r.push(":input[name]"),i=0;i<r.length;i++)n.find(""+r[i]+"").each(function(n,i){var u=$(i),f=u.attr("type"),r=u.val();r=$.trim(r);f=="checkbox"||f=="radio"?u.is(":checked")&&(t[i.name]?t[i.name]+=","+r:t[i.name]=r):r!==""&&(t[i.name]=r)});return t},showLoadingPanel:function(){$("#loading_indicator").show()},hideLoadingPanel:function(){$("#loading_indicator").hide()},getQuerystring:function(n,t){t==null&&(t="");n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+n+"=([^&#]*)"),i=r.exec(window.location.href);return i==null?decodeURIComponent(t):decodeURIComponent(i[1])},isMobile:function(){return $("#deviceXs").is(":visible")||$("#deviceSm").is(":visible")},isXs:function(){return $("#deviceXs").is(":visible")},isSm:function(){return $("#deviceSm").is(":visible")},isTouchDevice:0};sw.remarksPopover=function(n){$(n).each(function(n,t){var i=$(t);new bootstrap.Popover(t,{placement:"bottom",trigger:"focus",animation:!1,template:'<div class="popover remarks" role="tooltip"><div class="arrow"><\/div><div class="popover-body"><\/div><\/div>',html:!1,container:"#container",content:i.attr("data-remarks")})}).on("hover",function(){var n=this;bootstrap.Popover.getInstance(this).show();$(".popover").on("mouseleave",function(){bootstrap.Popover.getInstance(n).hide()})}).on("mouseenter",function(){var n=this;bootstrap.Popover.getInstance(this).show();bootstrap.Popover.getInstance(this).show();$(".popover").on("mouseleave",function(){bootstrap.Popover.getInstance(n).hide()})}).on("mouseleave",function(){var n=this;setTimeout(function(){$(".popover:hover").length||bootstrap.Popover.getInstance(n).hide()},300)}).on("click",function(){return bootstrap.Popover.getInstance(this).show(),!1})};sw.clearPopover=function(n){sw.popoverTriggers=sw.popoverTriggers||{};sw.popoverTriggers[n]=0;var t=bootstrap.Popover.getInstance(document.querySelector(n));t&&t.dispose()};sw.popover=function(n,t,i,r,u,f,e){var o,h,c,s,a,l;if(typeof u=="undefined"&&(u=1),typeof f=="undefined"&&(f="click"),typeof e=="undefined"&&(e="#container"),sw.popoverTriggers=sw.popoverTriggers||{},sw.popoverTriggers[n]=1,o=t instanceof jQuery?t:$(t).clone(),h=$(n).next('input[type="hidden"]'),h.length>0&&(o.find(".fa").removeClass("fa-check"),o.find('a[data-id="'+h.val()+'"]').parent().parent().find(".fa").addClass("fa-check")),c=document.querySelector(n),c!==null&&o.length!=0){if(s={placement:i,trigger:"manual",animation:!1,template:'<div class="popover'+(r?" "+r:"")+'" role="tooltip"><div class="popover-arrow"><\/div><div class="popover-body"><\/div><\/div>',html:!0,container:e,content:$("<div>"+o.html()+"<\/div>")},new bootstrap.Popover(c,s),f==="click"){$(document).off("click",n).on("click",n,function(){var n=bootstrap.Popover.getInstance(this);return n||(n=new bootstrap.Popover(this,s)),n.toggle(),!1});if(!sw.isPopoverDismissInit){sw.isPopoverDismissInit=1;a=function(n){var t,i;for(t in sw.popoverTriggers)sw.popoverTriggers[t]!==0&&($(t).is(n.target)||$(t).has(n.target).length!==0||$(".popover").has(n.target).length!==0||(i=bootstrap.Popover.getInstance(document.querySelector(t)),i&&i.hide()))};$(document).on("click touchend",a)}}else{$(document).on("hover",n,function(){var n=bootstrap.Popover.getInstance(this);n||(n=new bootstrap.Popover(this,s));n.show();$(".popover").on("mouseleave",function(){n.hide()})}).on("mouseenter",n,function(){var n=bootstrap.Popover.getInstance(this);n.show();$(".popover").on("mouseleave",function(){n.hide()})}).on("mouseleave",n,function(){var n=this;setTimeout(function(){$(".popover:hover").length||bootstrap.Popover.getInstance(n).hide()},300)}).on("click",n,function(){var n=bootstrap.Popover.getInstance(this);return n||(n=new bootstrap.Popover(this,s)),n.show(),!1});if(!sw.hidePopover){sw.hidePopover=1;$(document).on("touchstart",function(n){var r=$(n.target),t,i;if(r.parents(".popover").length)return!0;for(t in sw.popoverTriggers)sw.popoverTriggers[t]!==0&&(r.parents(t).length||(i=bootstrap.Popover.getInstance(document.querySelector(t)),i&&i.hide()));return!0})}}if(r&&u===1){l="."+r;$(document).on("click",l+" a",function(){var t=$(this),r,i,f,e,o,s;return $(l+" .fa").removeClass("fa-check"),t.parent().parent().find(".fa").addClass("fa-check"),r=t.html(),i=t.parent(),u===1&&(i.hasClass("group-item")&&!i.hasClass("no-concat")&&(f=i.parent().prevAll(".group-heading:first"),f.attr("data-concat")==="1"&&(r+=" "+f.find("label").text())),$(n+" span:first-child").html(r),e=t.attr("data-id"),e&&(o=$(n).next('input[type="hidden"]'),o.length>0&&o.val(e).trigger("change"))),bootstrap.Popover.getInstance(document.querySelector(n)).hide(),u===1?(s=bootstrap.Popover.getInstance(document.querySelector(n)),s&&s.hide(),!1):!0})}}};sw.bsAlert=function(n,t,i){var r=$("#modal"),u;r.length===0?(r=$('<div id="modal" class="modal fade" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h4 class="modal-title"><\/h4><\/div><div class="modal-body"><\/div><div class="modal-footer"><button type="button" class="btn btn-default" data-bs-dismiss="modal">Close<\/button><\/div><\/div><!-- /.modal-content --><\/div><!-- /.modal-dialog --><\/div><!-- /.modal -->').appendTo("body"),u=new bootstrap.Modal(r[0],{keyboard:!0,show:!1}),r[0].addEventListener("hidden.bs.modal",function(){$(".modal-backdrop").remove();i&&i()})):u=bootstrap.Modal.getInstance(r[0]);r.find(".modal-title").html(n);r.find(".modal-body").html(t);u.show()};sw.bsConfirm=function(n,t,i,r){var u=$("#modal");u.length===0&&(u=$('<div id="modal" class="modal fade" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h4 class="modal-title"><\/h4><\/div><div class="modal-body"><\/div><div class="modal-footer"><button type="button" class="btn btn-default" id="bsConfirmOK">OK<\/button><button type="button" class="btn btn-default" data-dismiss="modal" id="bsConfirmCancel">Cancel<\/button><\/div><\/div><!-- /.modal-content --><\/div><!-- /.modal-dialog --><\/div><!-- /.modal -->').appendTo("body").modal({keyboard:!0,show:!1}).on("hidden.bs.modal",function(){$(".modal-backdrop").remove()}));$("#bsConfirmOK").unbind("click");i&&$("#bsConfirmOK").click(i);$("#bsConfirmCancel").unbind("click");r&&$("#bsConfirmCancel").click(r);u.find(".modal-title").html(n);u.find(".modal-body").html(t);u.modal("show")};DateHelper=DateHelper?DateHelper:{};DateHelper.today=new Date;DateHelper.isToday=function(n){return n.getDate()===this.today.getDate()&&n.getMonth()===this.today.getMonth()&&n.getFullYear()===this.today.getFullYear()};isFirstLoad=1;sw.sliderNav=function(n){var t=sw.isMobile();$(n).each(function(){var n=$(this),f=function(){var i=n.innerWidth(),t;return n.children(".quicklink-label").each(function(n,t){i-=$(t).outerWidth()}),t=0,n.find("button.btn-scroll").each(function(n,i){var r=$(i);t+=r.outerWidth()}),i-=t},e=f(),i=0,r=n.find("div.horizontal-scroll"),u=r.children().first(),o=u.children("li"),s=1,h,c,l;if(o.length===0&&(s=0,o=u.children("a,span")),h=0,o.each(function(n,r){var u=$(r);u.hasClass("btn-primary")&&(h=i);t?(i+=u.outerWidth()+.5,s&&(i+=5)):(i+=u.outerWidth()+1,s&&(i+=50))}),e<i){n.find("button.btn-scroll").show();c=function(){r.scrollLeft(r.scrollLeft()-(f()-84))};l=function(){r.scrollLeft(r.scrollLeft()+(f()-84))};n.find("button.btn-scroll:first-child").off("click").on("click",c);n.find("button.btn-scroll:last-child").off("click").on("click",l);u.width(i);r.width(e-1).css("overflow-x","scroll");isFirstLoad&&(r.scrollLeft(h),isFirstLoad=0)}else n.find("button.btn-scroll").hide(),u.width(i+5),r.width(e-1).css("overflow-x","hidden")}).css("visibility","visible")};sw.getLoadingCover=function(n,t,i){var r=$("#"+n),u;return t="body",u=$(t),r.length===0&&(r=$("<div>",{id:n,"class":"loading-cover"+(i?" "+i:"")}),r.prependTo(t)),r.css({width:u.width()+"px",height:u.height()+"px"}),r};String.prototype.replaceAll=function(n,t){var i=this;return i.replace(new RegExp(n,"g"),t)};currFS=0;siteId="1";$(function(){setGlobalVars(document);isFullScreenLayout=Cookies.get("IsFullWidth");sw.isTouchDevice="ontouchstart"in document.documentElement;$(document).on("click","a.file-download",function(){var n=$(this).attr("href");return navigator.userAgent.match(/(iPad)/g)||sw.isXs()||sw.isSm()?(sw.bsConfirm("Download Confirmation","Are you sure you want to download this file "+$(this).attr("data-size")+"?",function(){$("#modal").modal("hide");window.location=n}),!1):!0});var n=n||navigator.userAgent;if(!(n.indexOf("MSIE ")>-1||n.indexOf("Trident/")>-1||n.indexOf("Edge/")>-1)){$(document).on("keyup",".has-clear-button .form-control",function(){$(this).val()?$(this).parent().find(".clear-button").css({display:"block"}):$(this).parent().find(".clear-button").css({display:"none"})});$(document).on("focus",".has-clear-button .form-control",function(){$(this).val()?$(this).parent().find(".clear-button").css({display:"block"}):$(this).parent().find(".clear-button").css({display:"none"})});$(document).on("click",".clear-button",function(){$(this).hide();$(this).parent().find(".form-control").val("").focus()})}sw.popover(".show-status-info","#statusInfo","bottom","",0,"hover");$(".whatsnew-rss-link").attr("title","New Legislation RSS Feed");$("#decFS").click(function(){return currFS===0?!1:(currFS-=1,$("#fs").removeClass().addClass("sz-"+currFS),$("body").removeClass().addClass("sz-"+currFS),resizeFont(currFS),$(window).trigger("resize"),!1)});$("#incFS").click(function(){return currFS===2?!1:(currFS+=1,$("#fs").removeClass().addClass("sz-"+currFS),$("body").removeClass().addClass("sz-"+currFS),resizeFont(currFS),$(window).trigger("resize"),!1)});initMobileMenu();$("#toggleAnnouncement").click(function(){var n=$(this);return n.html().indexOf("More")>-1?($(".announcement-msg.collapse").show(),n.html('Less<span class="fa fa-angle-up"><\/span>'),n.appendTo($("#Announcement .toggle-ph").last())):($(".announcement-msg.collapse").hide(),n.html('More<span class="fa fa-angle-down"><\/span>'),n.appendTo($("#Announcement .toggle-ph").first())),!1});$("#hideSurveySection").click(function(){return $("#surveySection").hide(),!1});$("#mainMenu .dropdown2-toggle").click(function(){var t=$(this),n=t.attr("href");if(sw.isTouchDevice){if(t.parent().hasClass("open2")&&n&&n!=="#")return window.location=n,!0}else if(n&&n!=="#")return window.location=n,!0;return!0});setupPopover();initLoginMenu();initBasicSearchMenu();initAutocomplete();initPreviewSite();$(window).on("resize orientationchange",function(){setTimeout(function(){$(window).width()>=1024&&(hidePopover("#mobileMenuBtn"),setDropdownMenuPosition())},100)});$("#ToggleLayout").click(function(){isFullScreenLayout==="0"?($(".header, .menu, .body-content").addClass("full-width"),$(this).text("Set Centered"),isFullScreenLayout="1"):($(".header, .menu, .body-content").removeClass("full-width"),$(this).text("Set Full Width"),isFullScreenLayout="0");Cookies.set("IsFullWidth",isFullScreenLayout);$(window).trigger("resize")});$("#mainMenu .dropdown2-toggle,.dropdown-menu").hover(function(){$(this).parent().addClass("open2")});$("#mainMenu .dropdown2-toggle,.dropdown-menu").mouseleave(function(){$(this).parent().removeClass("open2")});$(document).on("click",function(n){var t=$(n.target);t.hasClass("dropdown-menu")||t.hasClass("dropdown2-toggle")||$(".dropdown").removeClass("open2");t.attr("data-bs-toggle")==="dropdown"||t.hasClass("dropdown-menu")||t.parents('.dropdown-menu,[data-bs-toggle="dropdown"]').length!==0||[].slice.call(document.querySelectorAll('[data-bs-toggle="dropdown"]')).map(function(n){var t=bootstrap.Dropdown.getInstance(n);t&&t.hide()})});setDropdownMenuPosition();$(window).scroll(function(){setScroll()});setScroll();initMyCollection();initHelpLink();sw.getQuerystring("toggleAnnouncement")=="1"&&$("#toggleAnnouncement").trigger("click")});collectionVM={collections:ko.observableArray([]),newCollectionName:ko.observable(""),addToCollectionUrl:"",addToCollectionTitle:ko.observable(""),isLoading:ko.observable(!0),editingRowIndex:ko.observable(-1),editingRowIndex2:ko.observable(-1),editingCollectionName:ko.observable(""),expandedRowIds:ko.observableArray([]),setEditingRow2:function(n){if(this.editingRowIndex2(n),n!==-1){var t=this.collections()[n];this.editingCollectionName(t.Name)}},setEditingRow:function(n){this.editingRowIndex(n)},saveChanges:function(n){var u=this.collections(),t,f,i,r,e;for(f in u)if(i=u[f],i.Id===n){t=i;break}if(t)return r=this,e={collectionId:t.Id,collectionName:this.editingCollectionName(),deletedItemIds:[]},sw.ajax({type:"POST",url:sw.getRootPath()+"Profile/SaveCollection",cache:!1,data:e,contentType:"application/json; charset=utf-8",success:function(n){if(n.Error!==""){alert(n.Error);return}r.bindCollections(n.Collections);r.editingRowIndex2(-1)}}),!1},deleteAllItems:function(n){var r,t,u,f,e,i;if(confirm("Do you really want to delete all items in the collection?")){r=this.collections();for(i in r)if(u=r[i],u.Id===n){t=u;break}if(t){f=this;e={collectionId:t.Id,collectionName:t.Name,deletedItemIds:[]};for(i in t.Items)e.deletedItemIds.push(t.Items[i].Id);return sw.ajax({type:"POST",url:sw.getRootPath()+"Profile/SaveCollection",cache:!1,data:e,contentType:"application/json; charset=utf-8",success:function(n){if(n.Error!==""){alert(n.Error);return}f.bindCollections(n.Collections);f.editingRowIndex(-1)}}),!1}}},deleteItems:function(n){var f=this.collections(),t,e,r,u,i;for(e in f)if(r=f[e],r.Id===n){t=r;break}if(t){if(u=this,i={collectionId:t.Id,collectionName:t.Name,deletedItemIds:[]},$(".deleting-item:checked").each(function(n,t){i.deletedItemIds.push($(t).val())}),i.deletedItemIds.length===0){alert("Please select at least one item to delete.");return}if(confirm("Do you really want to delete selected items?"))return sw.ajax({type:"POST",url:sw.getRootPath()+"Profile/SaveCollection",cache:!1,data:i,contentType:"application/json; charset=utf-8",success:function(n){if(n.Error!==""){alert(n.Error);return}u.bindCollections(n.Collections);u.editingRowIndex(-1)}}),!1}},deleteCollection:function(n){if(confirm("Do you really want to delete this collection?")){var t=this;return sw.ajax({type:"POST",url:sw.getRootPath()+"Profile/DeleteCollection",cache:!1,data:{collectionId:n},contentType:"application/json; charset=utf-8",success:function(n){if(n.Error!==""){alert(n.Error);return}t.bindCollections(n.Collections);t.editingRowIndex2(-1)}}),!1}},addToCollection:function(n,t){var i=this;return sw.ajax({type:"POST",url:this.addToCollectionUrl+(this.addToCollectionUrl.indexOf("?")>-1?"&":"?")+"ViewType=add-to-collection",cache:!1,data:{CollectionId:n,CollectionName:t},contentType:"application/json; charset=utf-8",success:function(n){if(n.Error!==""){alert(n.Error);return}i.bindCollections(n.Collections);$("#addToCollectionModal").modal("hide")}}),!1},legisTitle:ko.observable(""),submitNewCollectionForm:function(){return this.addToCollection("",this.newCollectionName()),!1},bindCollections:function(n){var u=collectionVM.expandedRowIds(),i,t,r;for(i in n)t=n[i],t.isExpanded=u.indexOf(t.Id)>-1?ko.observable(!0):ko.observable(!1);this.collections(n);r=$("#searchLegisTypePopover");$("#searchLegisType1,#searchLegisType2,#searchLegisType3,#searchLegisType4").each(function(){var n=bootstrap.Popover.getInstance(this);n&&(n.config.content=$("<div>"+r.html()+"<\/div>"))})}};isCollectionsLoaded=0;isLoggingIn=0;isFBInit=0