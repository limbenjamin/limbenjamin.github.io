[].map.call(document.querySelectorAll("aside.c-advertisement--out-of-page"),function replaceSection(c){var b="";var d=mcDataLayer.pagename.split(":")[3];var a=d!=""?d:"homepage";tempStr=c.getAttribute("data-js-options");newStr=tempStr.replace("[section]",a);c.setAttribute("data-js-options",newStr)});
window.initVideoTracking=function(i){window.gfkSsaConf={media:"",url:"//sg-config.sensic.net/sg1-ssa-w.js"};(function(k,n,p,m,o){if(n.getElementById(o)){return}k.gfk=k.gfk||{};k.gfk["ssa"]=k.gfk["ssa"]||{};k.gfk["ssa"].agents=k.gfk["ssa"].agents||[];k.gfk["ssa"].getAgent=function(){var q={queue:[],a:arguments};q.notifyLoaded=function(){q.queue.push({f:"notifyLoaded",t:new Date().getTime(),a:arguments})};q.notifyPlay=function(){q.queue.push({f:"notifyPlay",t:new Date().getTime(),a:arguments})};q.notifyIdle=function(){q.queue.push({f:"notifyIdle",t:new Date().getTime(),a:arguments})};q.notifySkipped=function(){q.queue.push({f:"notifySkipped",t:new Date().getTime(),a:arguments})};k.gfk["ssa"].agents.push(q);return q};var j=n.createElement(m);var l=n.getElementsByTagName(m)[0];j.id=o;j.async=true;j.type="text/javascript";j.src=p.url;l.parentNode.insertBefore(j,l)})(window,document,gfkSsaConf,"script","gfkSsa");window.cnaAgent=gfk.ssa.getAgent("ChannelNewsAsiaWeb");this.options.ComScoreOoyalaPlugin={c2:"6154803",labelmapping:"c3='CHANNELNEWSASIA.COM', c6='*null', ns_st_st='Channel NewsAsia', ns_st_pu='Mediacorp', ns_st_pr='*null', ns_st_ep='*null', ns_st_sn='*null', ns_st_en='*null', ns_st_ge='*null', ns_st_ti='*null', ns_st_ia='0', ns_st_ce='0', ns_st_ddt='2016-09-10', ns_st_tdt='2016-08-10'"};function f(l){for(var j=document.getElementsByTagName("meta"),k=0;k<j.length;k++){if(l==j[k].name||l==j[k].getAttribute("property")){return j[k].content}}return false}var e="news",b=0,h=typeof mcDataLayer!="undefined"?mcDataLayer.contentname:f("og:title"),g=e+"__OoyalaPlayer";this.options.videoTitle=e+"_"+this.options.title;this.options.duration=parseInt(this.options.duration);if(isNaN(this.options.duration)||this.options.duration==0){this.options.duration="null"}else{this.options.duration=Math.floor(this.options.duration>1000?this.options.duration/1000:this.options.duration)}var c=function(n){var k="Videos";var p=n.options.cmdoctype;var m="NA";var l="NA";var j="News Clips";var o="NA";if(n.options.contentId=="LiveStream"){k="Live";j="Live"}else{if(p=="MCTVVideo"||n.options.contentId=="LongForm"){k="Shows";j="Episode";if(n.options.cp16&&n.options.cp16!=="null"){m=n.options.cp16}if(n.options.cp18&&n.options.cp18!=="null"){l=n.options.cp18}if(n.options.ctitle!=="null"){o=n.options.ctitle}}}window.videoInfo={url:n.options.url,cp1:n.options.cp1,omniVideoType:k,contentId:n.options.contentId,vId:n.options.assetId,vTitle:n.options.title,duration:n.options.duration,epTitle:"null",pubDate:n.options.pubDate,upDate:n.options.pubDate,webExclusive:n.options.webExclusive,cTitle:n.options.ctitle,cmcontentid:n.options.cmcontentid};if(window.EventCoordinator){EventCoordinator.serve("com.cna.event.video.info",window.videoInfo)}else{console.info("WARNING: EventCoordinator missing")}window.MediaInfo={mediatype:"Video",mediaid:n.options.cmcontentid,mediatitle:n.options.title,mediaseriestitle:o,mediacategory:j,mediapublishdate:n.options.pubDate,mediaurl:n.options.url,referenceid:m,masrefid:l}};if(window.EventCoordinator){EventCoordinator.serve("com.cna.event.media.info",window.MediaInfo)}else{console.info("WARNING: EventCoordinator missing")}var d="null";if(this.options.cp16!==undefined){d=this.options.cp16}var a="null";if(this.options.cp18!==undefined){a=this.options.cp18}this.options.cnaGfK={contentId:this.options.contentId,cp:{cp1:this.options.cp1,cp2:this.options.assetId,cp3:this.options.title,cp4:this.options.duration,cp5:"null",cp6:this.options.episodeTitle||"null",cp7:"null",cp8:this.options.duration,cp9:this.options.pubDate?this.options.pubDate+"+0800":null,cp10:this.options.webExclusive,cp11:"0",cp12:location.href,cp13:"en",cp14:this.options.categoryTitle,cp15:"Channel NewsAsia",cp16:d,cp17:"null",cp18:a}};i.subscribe("*","play",(function(p){var m=p,l=m.options.cnaGfK,j=m.options.videoTitle,k=false,o=m.options.duration,n=true;c(m);console.log(["initVideoTracking",m.options,videoInfo,l]);return function(q){if(typeof window.s=="undefined"){window.s={}}if(q==OO.EVENTS.PLAYHEAD_TIME_CHANGED){b=arguments[1]}if(q==OO.EVENTS.PLAYBACK_READY){c(m);console.log(["playback ready",l.contentId,videoInfo]);cnaAgent.notifyLoaded(l.contentId,l.cp)}else{if(q=="videoPlay"){c(m);if(!k){k=true;window.oldContentId=s.prop7;s.prop7=videoInfo.cmcontentid;console.log(["omniInitMediaTracking",j,o,g,videoInfo]);omniInitMediaTracking(j,o,g)}}else{if(q==OO.EVENTS.PLAYING){c(m);console.log("--Video will Play--");cnaAgent.notifyPlay();if(n){console.log(["omniMediaTrackingResume",j,b,videoInfo]);omniMediaTrackingResume(j,parseInt(b));n=false}}else{if(q=="willPlaySingleAd"){c(m);console.log("--Ads going to play--");cnaAgent.notifyIdle();if(!k){k=true;window.oldContentId=s.prop7;s.prop7=videoInfo.cmcontentid;console.log(["omniInitMediaTracking",j,o,g,videoInfo]);omniInitMediaTracking(j,o,g)}omniMediaTrackingStop(j,parseInt(b));console.log(["omniMediaTrackingStop",j,b,videoInfo]);n=true}else{if(q==OO.EVENTS.PAUSED){c(m);console.log("--PAUSED--");cnaAgent.notifyIdle();omniMediaTrackingStop(j,parseInt(b));console.log(["omniMediaTrackingStop",j,b,videoInfo]);s.prop7=window.oldContentId;n=true}else{if(q==OO.EVENTS.PLAYED){c(m);cnaAgent.notifyIdle();omniMediaTrackingDone(j,parseInt(b));console.log(["omniMediaTrackingDone",j,b,videoInfo]);s.prop7=window.oldContentId}}}}}}}})(this))};
/*!
 * in-view 0.6.1 - Get notified when a DOM element enters or exits the viewport.
 * Copyright (c) 2016 Cam Wiegert <cam@camwiegert.com> - https://camwiegert.github.io/in-view
 * License: MIT
 */
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.inView=b():a.inView=b()}(this,function(){return function(a){function b(e){if(c[e]){return c[e].exports}var d=c[e]={exports:{},id:e,loaded:!1};return a[e].call(d.exports,d,d.exports,b),d.loaded=!0,d.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(b,d,g){function c(e){return e&&e.__esModule?e:{"default":e}}var a=g(2),f=c(a);b.exports=f["default"]},function(a,b){function c(d){var f=typeof d;return null!=d&&("object"==f||"function"==f)}a.exports=c},function(m,j,d){function a(c){return c&&c.__esModule?c:{"default":c}}Object.defineProperty(j,"__esModule",{value:!0});var g=d(9),b=a(g),l=d(3),h=a(l),p=d(4),k=function(){if("undefined"!=typeof window){var o=100,s=["scroll","resize","load"],v={history:[]},q={offset:{},threshold:0,test:p.inViewport},f=(0,b["default"])(function(){v.history.forEach(function(e){v[e].check()})},o);s.forEach(function(e){return addEventListener(e,f)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(f).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var c=function(i){if("string"==typeof i){var n=[].slice.call(document.querySelectorAll(i));return v.history.indexOf(i)>-1?v[i].elements=n:(v[i]=(0,h["default"])(n,q),v.history.push(i)),v[i]}};return c.offset=function(i){if(void 0===i){return q.offset}var n=function(e){return"number"==typeof e};return["top","right","bottom","left"].forEach(n(i)?function(r){return q.offset[r]=i}:function(e){return n(i[e])?q.offset[e]=i[e]:null}),q.offset},c.threshold=function(e){return"number"==typeof e&&e>=0&&e<=1?q.threshold=e:q.threshold},c.test=function(e){return"function"==typeof e?q.test=e:q.test},c.is=function(e){return q.test(e,q)},c.offset(0),c}};j["default"]=k()},function(b,d){function f(g,h){if(!(g instanceof h)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(d,"__esModule",{value:!0});var c=function(){function e(g,i){for(var j=0;j<i.length;j++){var h=i[j];h.enumerable=h.enumerable||!1,h.configurable=!0,"value" in h&&(h.writable=!0),Object.defineProperty(g,h.key,h)}}return function(h,i,g){return i&&e(h.prototype,i),g&&e(h,g),h}}(),a=function(){function e(h,g){f(this,e),this.options=g,this.elements=h,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return c(e,[{key:"check",value:function(){var g=this;return this.elements.forEach(function(l){var p=g.options.test(l,g.options),k=g.current.indexOf(l),j=k>-1,m=p&&!j,h=!p&&j;m&&(g.current.push(l),g.emit("enter",l)),h&&(g.current.splice(k,1),g.emit("exit",l))}),this}},{key:"on",value:function(g,h){return this.handlers[g].push(h),this}},{key:"once",value:function(g,h){return this.singles[g].unshift(h),this}},{key:"emit",value:function(g,h){for(;this.singles[g].length;){this.singles[g].pop()(h)}for(var i=this.handlers[g].length;--i>-1;){this.handlers[g][i](h)}return this}}]),e}();d["default"]=function(g,h){return new a(g,h)}},function(a,b){function c(v,l){var h=v.getBoundingClientRect(),d=h.top,j=h.right,g=h.bottom,q=h.left,k=h.width,w=h.height,m={t:g,r:window.innerWidth-q,b:window.innerHeight-d,l:j},p={x:l.threshold*k,y:l.threshold*w};return m.t>l.offset.top+p.y&&m.r>l.offset.right+p.x&&m.b>l.offset.bottom+p.y&&m.l>l.offset.left+p.x}Object.defineProperty(b,"__esModule",{value:!0}),b.inViewport=c},function(a,b){(function(c){var d="object"==typeof c&&c&&c.Object===Object&&c;a.exports=d}).call(b,function(){return this}())},function(b,d,g){var c=g(5),a="object"==typeof self&&self&&self.Object===Object&&self,f=c||a||Function("return this")();b.exports=f},function(m,j,d){function a(A,K,D){function B(v){var w=q,t=F;return q=F=void 0,z=v,s=A.apply(t,w)}function P(e){return z=e,H=setTimeout(I,K),i?B(e):s}function G(v){var x=v-f,w=v-z,e=K-x;return Q?k(e,J-w):e}function L(e){var w=e-f,v=e-z;return void 0===f||w>=K||w<0||Q&&v>=J}function I(){var e=b();return L(e)?C(e):void (H=setTimeout(I,G(e)))}function C(e){return H=void 0,c&&q?B(e):(q=F=void 0,s)}function u(){void 0!==H&&clearTimeout(H),z=0,q=f=F=H=void 0}function o(){return void 0===H?s:C(b())}function N(){var e=b(),r=L(e);if(q=arguments,F=this,f=e,r){if(void 0===H){return P(f)}if(Q){return H=setTimeout(I,K),B(f)}}return void 0===H&&(H=setTimeout(I,K)),s}var q,F,J,s,H,f,z=0,i=!1,Q=!1,c=!0;if("function"!=typeof A){throw new TypeError(h)}return K=l(K)||0,g(D)&&(i=!!D.leading,Q="maxWait" in D,J=Q?p(l(D.maxWait)||0,K):J,c="trailing" in D?!!D.trailing:c),N.cancel=u,N.flush=o,N}var g=d(1),b=d(8),l=d(10),h="Expected a function",p=Math.max,k=Math.min;m.exports=a},function(b,d,f){var c=f(6),a=function(){return c.Date.now()};b.exports=a},function(c,f,h){function d(i,l,m){var j=!0,k=!0;if("function"!=typeof i){throw new TypeError(a)}return g(m)&&(j="leading" in m?!!m.leading:j,k="trailing" in m?!!m.trailing:k),b(i,l,{leading:j,maxWait:l,trailing:k})}var b=h(7),g=h(1),a="Expected a function";c.exports=d},function(a,b){function c(d){return d}a.exports=c}])});
/*! CSS.supports() Polyfill
    * https://gist.github.com/codler/03a0995195aa2859465f
    * Copyright (c) 2014 Han Lin Yap http://yap.nu/; MIT license */
"CSS" in window||(window.CSS={}),"supports" in window.CSS||(window.CSS._cacheSupports={},window.CSS.supports=function(d,c){function b(l,j){function h(o,m){var i=o.split(m);return i.length>1?i.map(function(s,q,p){return q%2==0?s+p[q+1]:""}).filter(Boolean):void 0}var g=document.createElement("div").style;if("undefined"==typeof j){var k=h(l,/([)])\s*or\s*([(])/gi);if(k){return k.some(function(e){return window.CSS.supports(e)})}var f=h(l,/([)])\s*and\s*([(])/gi);if(f){return f.every(function(e){return window.CSS.supports(e)})}g.cssText=l.replace("(","").replace(/[)]$/,"")}else{g.cssText=l+":"+j}return !!g.length}var a=[d,c].toString();return a in window.CSS._cacheSupports?window.CSS._cacheSupports[a]:window.CSS._cacheSupports[a]=b(d,c)});
$(document).ready(function(){if(window.location.pathname==="/action/news/9185740/newsfeed"){console.info("[INFO] My News Feed Fix Loaded..");$("a.teaser__topic").each(function(c,d){var b=$(d).attr("href");var a=b.replace("http","https");$(d).attr("href",a)})}});

$(document).ready(function(){$(".c-rte--article h3 a").attr("href",function(a,b){return b+"?cid=h3_referral_inarticlelinks_24082018_cna"})});
$(document).ready(function(){$("ul.nav-sections__list li:first-child a").attr("target","_blank");$('a[href*="https://www.cnalifestyle.com"]').attr("target","_blank")});
function isIE(){ua=navigator.userAgent;var a=ua.indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1;return a}if(isIE()){$(".header__logo-desktop-tablet .image").attr("src","/blob/11389100/6e849a9a628d7a72f6f4a9829e9e985b/ie-logo-new-data.png");$(".header__logo-mobile .image").attr("src","/blob/11389102/ff6de9e3adf6907a6fb406dcdf8a0b7b/ie-logo-mobile-data.png")}else{};
