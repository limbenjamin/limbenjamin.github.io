function LocateTagetImage(){return ScreenWidth<=768?FetchElement(configArticle.targetImage):MultiplePhotos?FetchElement(configMultiplePhotosWeb.targetImage):GalleryFlag?FetchElement(configGalleryWeb.targetImage):FetchElement(configArticleWap.targetImage)}function SetReviveFlag(){ReviveCall=!0}function SetLocation(){config.location=window.location.hostname}function SetLanguage(){lang="en"}function CustomUrlCat(){urlcat=window.location.pathname.split("/")[1]}function SetWebPlacement(){placementID=placementsWeb[urlcat],void 0==placementID&&(placementID=placementsWeb.others)}function SetWapPlacement(){placementID=placementsWap[urlcat],void 0==placementID&&(placementID=placementsWap.others)}function setImpulseWH(wXh,extraParam,type,overImageFlag){ImpulseAdW=parseInt(wXh.split("x")[0]),ImpulseAdH=parseInt(wXh.split("x")[1]),log("Hail Adtech! "),AdtechAdditionalSettings(wXh)}function AdtechAdditionalSettings(wXh){StyleAdContainer(LocateTagetImage())}function StyleAdContainer(targetimage){if(1!==ImpulseAdW&&void 0!==ImpulseAdW){!0===WapBool?(AdContainer().style.width=ImpulseAdW+"px",AdContainer().style.marginLeft=(targetimage.width-ImpulseAdW)/2+"px",AdContainer().style.top=-ImpulseAdH+"px"):(CheckForResponsiveIframe()&&targetimage.width<ImpulseAdW?(AdContainer().style.width=targetimage.width+"px",AdContainer().style.margin="auto"):(AdContainer().style.width=ImpulseAdW+"px",AdContainer().style.marginLeft=(targetimage.width-ImpulseAdW)/2+"px"),AdContainer().style.top=0-ImpulseAdH+"px"),AdContainer().style.zIndex=5,AdContainer().style.position="relative",AdContainer().style.display="block";for(var InsElements=document.getElementsByTagName("ins"),i=0;i<InsElements.length;i++)InsElements[i].style.backgroundColor="transparent"}}function CheckForResponsiveIframe(){var elem=GetWapAd();return(void 0!==elem||null!=elem)&&"100%"==elem.getAttribute("style").split(";")[0].split(":")[1]}function SetImageSrc(){!1===WapBool&&(jData.imgurl=LocateTagetImage().parentNode.getAttriabute("href").split("?")[0])}function SetLanguageTrimFlag(){LanguageTrim=!0}function GetWapAd(){return AdContainer().getElementsByTagName("iframe")[0]}function FindTargetSlide(){var width=FetchElement(".multimedia-gallery-viewport > li").offsetWidth,transform=-1*parseInt(document.querySelector(".multimedia-gallery-viewport").style.transform.split("translate3d(")[1].split("px")[0]),currentSlide=transform/width+1;config.targetImage=".multimedia-gallery-viewport > li:nth-child("+currentSlide+") img",config.captions=".multimedia-gallery-viewport > li:nth-child("+currentSlide+") .node-abstract"}function GetSlideNumber(){return parseInt(FetchElement(".slide-number").innerHTML.split("/")[0])-1}function ChangeSelector(){if(!0===MultiplePhotos){var CurrentSlide=GetSlideNumber();config.targetImage="#highlight-photo-"+CurrentSlide+" a img",config.captions="#highlight-photo-"+CurrentSlide+" .photo-description"}}function WireMultiplePhotosButtons(){if(!0===MultiplePhotos){var Next=FetchElement(".next.browse.right");FetchElement(".prev.browse.left");Next.addEventListener("click",function(){setTimeout(function(){PipeLineExecutor(ExectutionPipeLine.EventPipeLine,"")},2e3)},!1),Prev.addEventListener("click",function(){setTimeout(function(){PipeLineExecutor(ExectutionPipeLine.EventPipeLine,"")},2e3)},!1)}}function WireButtonForGallery(){if(!0===GalleryFlag){var Next=FetchElement(".next-arrow");FetchElement(".previous-arrow");Next.addEventListener("click",function(){setTimeout(function(){PipeLineExecutor(ExectutionPipeLine.EventPipeLine,"")},2e3)},!1),Prev.addEventListener("click",function(){setTimeout(function(){PipeLineExecutor(ExectutionPipeLine.EventPipeLine,"")},2e3)},!1)}}function listener(){window.innerHeight+window.pageYOffset>getAbsolutePosition(LocateTagetImage()).y&&window.pageYOffset<getAbsolutePosition(LocateTagetImage()).y+LocateTagetImage().height&&0==adloaded&&(PrepareAdtechCall(),adloaded=!0,window.removeEventListener("scroll",listener,!1))}function LoadAd(){window.addEventListener("scroll",listener,!1),listener()}function PipeLineSelector(){ScreenWidth<=768?(null!=FetchElement(configArticleWap.targetImage)&&null!=FetchElement(configArticleWap.title)&&(console.log("WAP"),config=configArticleWap,ArticleFlag=!0,WapBool=!0),ExectutionPipeLine.InitPipeLine=ExectutionPipeLine.WapArticlePipeLine,ExectutionPipeLine.EventPipeLine=ExectutionPipeLine.WapEventPipeLine):(null!=FetchElement(configArticle.targetImage)&&null!=FetchElement(configArticle.title)&&null==FetchElement(".next.browse.right")?(config=configArticle,ArticleFlag=!0):null!=FetchElement(configMultiplePhotosWeb.targetImage)&&null!=FetchElement(configMultiplePhotosWeb.title)?(config=configMultiplePhotosWeb,MultiplePhotos=!0):null!=FetchElement(configGalleryWeb.targetImage)&&null!=FetchElement(configGalleryWeb.title)?(config=configGalleryWeb,GalleryFlag=!0):(config=configArticle,ArticleFlag=!0),ExectutionPipeLine.InitPipeLine=ExectutionPipeLine.WebArticlePipeLine,ExectutionPipeLine.EventPipeLine=ExectutionPipeLine.WebEventPipeLine)}function fireAfterImageLoad(func){function compute(){var loaded=0,total=document.getElementsByTagName("img");if(total.length>0){for(var i=0;i<total.length;i++)loaded+=total[i].complete?1:0;total.length==loaded&&(clearInterval(interval),func())}else++retries>30&&(clearInterval(interval),func())}var interval,retries=0;interval=setInterval(compute,1e3)}var Try={these:function(){for(var e,t=0,n=arguments.length;t<n;t++){var r=arguments[t];try{e=r();break}catch(i){}}return e}},Implax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||!1},request:function(e,t,n){var r=this.getTransport();if(r){if(null!==t&&"function"==typeof t)t.onSuccess=t;else if(!t.onSuccess)return!1;if(n){var i="",s=new Array;for(key in n)s.push(key+"="+encodeURIComponent(n[key]));i=s.join("&")}var o=i?"post":t.method?t.method:"get";if(r.open(o,e,!0),t.headers)for(header in t.headers)r.setRequestHeader("X-"+header,t.headers[header]);if("post"==o&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){if(4==r.readyState)return 200!=r.status&&304!=r.status?void(t.onFailure&&t.onFailure(r.status,r.responseText)):void t.onSuccess(r.responseText)},4!=r.readyState)return r.send(i),!0}}};!function(){function o(){if(!i&&(i=!0,s)){for(var e=0;e<s.length;e++)s[e].call(window,[]);s=[]}}function u(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t&&t(),e()}}function a(){if(!r){if(r=!0,document.addEventListener&&!n.opera&&document.addEventListener("DOMContentLoaded",o,!1),n.msie&&window==top&&function(){if(!i){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}o()}}(),n.opera&&document.addEventListener("DOMContentLoaded",function(){if(!i){for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].disabled)return void setTimeout(arguments.callee,0);o()}},!1),n.safari){var e;!function(){if(!i){if("loaded"!=document.readyState&&"complete"!=document.readyState)return void setTimeout(arguments.callee,0);if(void 0===e){for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++)"stylesheet"==t[n].getAttribute("rel")&&e++;var r=document.getElementsByTagName("style");e+=r.length}if(document.styleSheets.length!=e)return void setTimeout(arguments.callee,0);o()}}()}u(o)}}var e=window.ImpulseReady={},t=navigator.userAgent.toLowerCase(),n={version:(t.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(t),opera:/opera/.test(t),msie:/msie/.test(t)&&!/opera/.test(t),mozilla:/mozilla/.test(t)&&!/(compatible|webkit)/.test(t)},r=!1,i=!1,s=[];e.ready=function(e,t){a(),i?e.call(window,[]):s.push(function(){return e.call(window,[])})},a()}();var TargetImage=null,ImpulseAdW=null,ImpulseAdH=null,SpeedNullifier=null,ScreenWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),WapBool=!1,firefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,ArticleFlag=!1,MultiplePhotos=!1,GalleryFlag=!1,adloaded=!1,placementsWeb={news:"4058",world:"4059",business:"4060",technology:"4061",sports:"4062",entertainment:"4063",lifestyle:"4064",gallery:"4065",others:"4066"},placementsWap={news:"4067",world:"4068",business:"4069",technology:"4070",sports:"4071",entertainment:"4072",lifestyle:"4073",gallery:"4074",others:"4075"},config,configArticle={scrollerOptions:{useScroller:!1,modOpacity:!1},targetImage:".article-detail_imagefull figure img",textContainer:"",title:".article-detail_title",captions:".article-detail_imagefull figure .photo-desc",metaTagName:"description",hTagName:"keywords",urlcat:"",location:""},configGalleryWeb={scrollerOptions:{useScroller:!1,modOpacity:!1},targetImage:'li[style="display: block;"] img',textContainer:".td-post-content",title:".node__title.node-title",captions:'li[style="display: block;"] .node-abstract',metaTagName:"description",hTagName:"keywords",urlcat:"",location:""},configMultiplePhotosWeb={scrollerOptions:{useScroller:!1,modOpacity:!1},targetImage:"#highlight-photo-0 a img",textContainer:".td-post-content",title:"#page-title",captions:"#highlight-photo-0 .photo-description",metaTagName:"description",hTagName:"keywords",urlcat:"",location:""},configArticleWap={scrollerOptions:{useScroller:!1,modOpacity:!1},targetImage:".article-detail_imagefull figure img",textContainer:"",title:".article-detail_title",captions:".article-detail_imagefull figure .photo-desc",metaTagName:"description",hTagName:"keywords",urlcat:"",location:""},ExectutionPipeLine={WebArticlePipeLine:["SetReviveFlag","SetLocation","SetLanguage","CustomUrlCat","SetWebPlacement","RemoveContainer","ChangeSelector","WireButtonForGallery","WireMultiplePhotosButtons","GatherData","SetImageSrc","RemoveContainer","MakeIPUCall","CreateAdContianer","LoadAd"],WebEventPipeLine:["ChangeSelector","RemoveContainer","GatherData","SetImageSrc","MakeIPUCall","CreateAdContianer","LoadAd"],WapArticlePipeLine:["SetReviveFlag","SetLocation","SetLanguage","CustomUrlCat","SetWapPlacement","ChangeSelector","WireMultiplePhotosButtons","RemoveContainer","GatherData","MakeIPUCall","CreateAdContianer","LoadAd"],WapEventPipeLine:["ChangeSelector","GatherData","RemoveContainer","MakeIPUCall","CreateAdContianer","LoadAd"],InitPipeLine:[],EventPipeLine:[]},interval=setInterval(function(){"interactive"!==document.readyState&&"complete"!==document.readyState&&"loaded"!==document.readyState||(clearInterval(interval),PipeLineSelector(),PipeLineExecutor(ExectutionPipeLine.InitPipeLine,""))},100);window.addEventListener("orientationchange",function(){null!=LocateTagetImage()&&StyleAdContainer(LocateTagetImage())});