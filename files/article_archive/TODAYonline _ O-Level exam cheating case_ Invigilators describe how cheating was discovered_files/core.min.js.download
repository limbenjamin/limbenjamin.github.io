try{!function(){var OO={VERSION:{core:{releaseVersion:"4.33.25",rev:"<CORE_REV>"}},playerParams:{core_version:4,vast_proxy_url:"http://player.ooyala.com/adinsertion/vast_proxy"}};(function(){return function e(t,i,n){function a(s,o){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){return a(t[s][1][e]||e)},u,u.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}})()({1:[function(e,t,i){OO||(OO={})},{}],2:[function(e,t,i){e("./InitOO.js"),window._||(window._=e("underscore")),OO._||(OO._=window._.noConflict())},{"./InitOO.js":1,underscore:36}],3:[function(e,t,i){!function(e,t,i){e.getRandomString=function(){return Math.random().toString(36).substring(7)},e.safeClone=function(n){if(t.isNumber(n)||t.isString(n)||t.isBoolean(n)||t.isFunction(n)||t.isNull(n)||t.isUndefined(n))return n;var a=n instanceof Array?[]:{};try{i.extend(!0,a,n)}catch(t){e.log("deep clone error",t)}return a},e.d=function(){e.isDebug&&e.log.apply(e,arguments),e.$("#OOYALA_DEBUG_CONSOLE").append(JSON.stringify(e.safeClone(arguments))+"<br>")},e.inherit=function(t,i){if("function"!=typeof t)return e.log("invalid inherit, ParentClass need to be a class",t),null;var n=function(){t.apply(this,arguments),"function"==typeof i&&i.apply(this,arguments)},a=new t;return e._.extend(n.prototype,a),n.prototype.parentClass=a,n};var n={};e.attachStyle=function(e,t){var a=i('<style type="text/css">'+e+"</style>").appendTo("head");n[t]=n[t]||[],n[t].push(a)},e.removeStyles=function(t){e._.each(n[t],function(e){e.remove()})},e.getInnerProperty=function(e,i){for(var n=e,a=i;a.length>0;){var r=a.shift();if(t.isNull(n)||!t.isObject(n)||t.isFunction(n)||t.isArray(n))return null;n=n[r]}return n},e.formatSeconds=function(e){var t=parseInt(e,10)%60,i=parseInt(e/3600,10),n=parseInt((e-3600*i)/60,10);return i<10&&(i="0"+i),n<10&&(n="0"+n),t<10&&(t="0"+t),parseInt(i,10)>0?i+":"+n+":"+t:n+":"+t},e.timeStringToSeconds=function(e){var i=(e||"").split(":");return t.reduce(i,function(e,t){return 60*e+parseInt(t,10)},0)},e.leftPadding=function(e,t){for(var i=e?e.toString():"";i.length<t;)i="0"+i;return i},e.getColorString=function(t){return"#"+e.leftPadding(t.toString(16),6).toUpperCase()},e.hexToRgb=function(e){return[(16711680&e)>>16,(65280&e)>>8,255&e]},e.changeColor=function(t,i,n){var a=n?Math.max:Math.min,r=n?0:255,s=Math.round(255*i)*(n?-1:1),o=e.hexToRgb(t);return[e.leftPadding(a(o[0]+s,r).toString(16),2),e.leftPadding(a(o[1]+s,r).toString(16),2),e.leftPadding(a(o[2]+s,r).toString(16),2)].join("")},e.decode64=function(e){e=e.replace(/\n/g,"");var t,i="",n=0,a=[];if(window.atob)return atob(e);do{for(t=0;t<4;t++)a[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n++));i+=String.fromCharCode(a[0]<<2|a[1]>>4,64==a[2]?0:(15&a[1])<<4|a[2]>>2,64==a[3]?0:(3&a[2])<<6|a[3])}while(n<e.length);return i.replace(/\0/g,"")},e.pixelPing=function(t){var i=new Image;i.onerror=i.onabort=function(){e.d("onerror:",t)},i.src=e.getNormalizedTagUrl(t)},e.pixelPings=function(i){t.isEmpty(i)||t.each(i,function(t){e.pixelPing(t)},this)},e.stringToBoolean=function(e){return"string"==typeof e?e.toLowerCase().indexOf("true")>-1||e.toLowerCase().indexOf("yes")>-1:!!e},e.regexEscape=function(e){return e.replace(/[<>()\[\]{}]/g,"\\$&")},e.getNormalizedTagUrl=function(i,n){var a=(new Date).getTime(),r=escape(document.URL),s=function(n,a){t.each(n,function(t){var n=new RegExp("("+e.regexEscape(t)+")","gi");i=i.replace(n,a)},this)};return s(e.TEMPLATES.RANDOM_PLACE_HOLDER,a),s(e.TEMPLATES.REFERAK_PLACE_HOLDER,r),n&&s(e.TEMPLATES.EMBED_CODE_PLACE_HOLDER,n),i},e.safeSeekRange=function(e){return{start:e.length>0?e.start(0):0,end:e.length>0?e.end(0):0}},e.loadedJS=e.loadedJS||{},e.jsOnSuccessList=e.jsOnSuccessList||{},e.safeFuncCall=function(t){if("function"==typeof t)try{t.apply()}catch(t){e.log("Can not invoke function!",t)}},e.loadScriptOnce=function(t,n,a,r){return e.jsOnSuccessList[t]=e.jsOnSuccessList[t]||[],e.loadedJS[t]?("loaded"===e.loadedJS[t]?e.safeFuncCall(n):"loading"===e.loadedJS[t]&&e.jsOnSuccessList[t].unshift(n),!1):(e.loadedJS[t]="loading",i.ajax({url:t,type:"GET",cache:!0,dataType:"script",timeout:r||15e3,success:function(){e.loadedJS[t]="loaded",e.jsOnSuccessList[t].unshift(n),e._.each(e.jsOnSuccessList[t],function(t){e.safeFuncCall(t)},this),e.jsOnSuccessList[t]=[]},error:function(){e.safeFuncCall(a)}}),!0)};try{e.localStorage=window.localStorage}catch(t){e.log(t)}e.localStorage||(e.localStorage={getItem:function(e){return e&&this.hasOwnProperty(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(e){e&&this.hasOwnProperty(e)&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},e.localStorage.length=(document.cookie.match(/\=/g)||e.localStorage).length),e.setItem=function(t,i){try{e.localStorage.setItem(t,i)}catch(t){e.log(t)}},e.ensureNumber=function(e,i){var n;return(null===e||t.isArray(e))&&(e=NaN),n=t.isNumber(e)?e:Number(e),isFinite(n)?n:void 0===i?null:i},e.JSON=window.JSON}(OO,OO._,OO.$)},{}],4:[function(e,t,i){if(e("./InitAnalyticsNamespace.js"),!OO.Analytics.AD_TYPE){OO.Analytics.AD_TYPE={LINEAR_OVERLAY:"linearOverlay",NONLINEAR_OVERLAY:"nonlinearOverlay",LINEAR_VIDEO:"linearVideo",COMPANION:"companion"}}if(!OO.Analytics.STREAM_TYPE){OO.Analytics.STREAM_TYPE={VOD:"vod",LIVE_STREAM:"liveStream"}}if(!OO.Analytics.ERROR_CODE){var n={100:"General Error"};OO.Analytics.ERROR_CODE=n}if(!OO.Analytics.EVENTS){OO.Analytics.EVENTS={VIDEO_PLAYER_CREATED:"video_player_created",VIDEO_ELEMENT_CREATED:"video_element_created",INITIAL_PLAYBACK_REQUESTED:"initial_playback_requested",VIDEO_CONTENT_COMPLETED:"video_content_completed",PLAYBACK_COMPLETED:"playback_completed",VIDEO_PLAY_REQUESTED:"video_play_requested",VIDEO_PAUSE_REQUESTED:"video_pause_requested",VIDEO_PLAYING:"video_playing",VIDEO_PAUSED:"video_paused",VIDEO_REPLAY_REQUESTED:"video_replay_requested",VIDEO_SOURCE_CHANGED:"video_source_changed",VIDEO_STREAM_METADATA_UPDATED:"video_stream_metadata_updated",VIDEO_CONTENT_METADATA_UPDATED:"video_content_metadata_updated",STREAM_TYPE_UPDATED:"stream_type_updated",VIDEO_SEEK_REQUESTED:"video_seek_requested",VIDEO_SEEK_COMPLETED:"video_seek_completed",VIDEO_STREAM_DOWNLOADING:"video_stream_downloading",VIDEO_BUFFERING_STARTED:"video_buffering_started",VIDEO_BUFFERING_ENDED:"video_buffering_ended",VIDEO_STREAM_BITRATE_PROFILES:"video_stream_bitrate_profiles",VIDEO_STREAM_TARGET_BITRATE_REQUESTED:"video_stream_target_bitrate_requested",VIDEO_STREAM_BITRATE_CHANGED:"video_stream_bitrate_changed",VIDEO_STREAM_POSITION_CHANGED:"video_stream_position_changed",VIDEO_ERROR:"video_error",WILL_PLAY_FROM_BEGINNING:"willPlayFromBeginning",INITIAL_PLAY_STARTING:"initialPlayStarting",PLAYBACK_READY:"playbackReady",API_ERROR:"apiError",BITRATE_INITIAL:"bitrateInitial",BITRATE_FIVE_SEC:"bitrateFiveSec",BITRATE_STABLE:"bitrateStable",PLAYBACK_START_ERROR:"playbackStartError",PLAYBACK_MIDSTREAM_ERROR:"playbackMidstreamError",PLUGIN_LOADED:"pluginLoaded",VC_PLUGIN_ERROR:"videoPluginError",AD_SDK_LOADED:"adSdkLoaded",AD_SDK_LOAD_FAILURE:"adSdkLoadFailed",AD_REQUEST:"adRequest",AD_REQUEST_SUCCESS:"adRequestSuccess",AD_REQUEST_ERROR:"adRequestError",AD_REQUEST_EMPTY:"adRequestEmpty",AD_PLAYBACK_ERROR:"adPlaybackError",AD_SDK_IMPRESSION:"adSdkImpression",AD_BREAK_STARTED:"ad_break_started",AD_BREAK_ENDED:"ad_break_ended",AD_POD_STARTED:"ad_pod_started",AD_POD_ENDED:"ad_pod_ended",AD_STARTED:"ad_started",AD_ENDED:"ad_ended",AD_SKIPPED:"ad_skipped",AD_ERROR:"ad_error",AD_CLICKED:"ad_clicked",AD_IMPRESSION:"ad_impression",AD_COMPLETED:"adCompleted",AD_CLICKTHROUGH_OPENED:"ad_clickthrough_opened",SDK_AD_EVENT:"sdkAdEvent",REPORT_DISCOVERY_CLICK:"reportDiscoveryClick",REPORT_DISCOVERY_IMPRESSION:"reportDiscoveryImpression",FULLSCREEN_CHANGED:"fullscreen_changed",SSAI_PLAY_SINGLE_AD:"ssai_play_single_ad",SSAI_SINGLE_AD_PLAYED:"ssai_single_ad_played",SSAI_AD_TIMELINE_RECEIVED:"ssai_ad_timeline_received",VOLUME_CHANGED:"volume_changed",DESTROY:"destroy",ERROR:{GENERAL:"general_error",METADATA_LOADING:"metadata_loading_error",VIDEO_PLAYBACK:"video_playback_error",AUTHORIZATION:"authorization_error"}}}if(!OO.Analytics.EVENT_DATA){var a={VideoElementData:function(e){var t=OO._.bind(r,this,"VideoElementData");this.streamUrl=t(e,"streamUrl",["string"])},VideoSourceData:function(e,t){var i=OO._.bind(r,this,"VideoSourceData");this.embedCode=i(e,"embedCode",["string"]),this.metadata=i(t,"metadata",["object"])},VideoContentMetadata:function(e,t,i,n,a,s){var o=OO._.bind(r,this,"VideoContentMetadata");this.title=o(e,"title",["string"]),this.description=o(t,"description",["string"]),this.duration=o(i,"duration",["number"]),this.closedCaptions=o(n,"closedCaptions",["object"]),this.contentType=o(a,"contentType",["string"]),this.hostedAtURL=o(s,"hostedAtURL",["string"])},StreamTypeMetadata:function(e){var t=OO._.bind(r,this,"StreamTypeMetadata");this.streamType=t(e,"streamType",["string"])},GeoMetadata:function(e){var t=OO._.bind(r,this,"GeoMetadata");null==e&&(e={}),e.country&&(this.country=t(e.country,"country",["string"])),e.region&&(this.region=t(e.region,"region",["string"])),e.state&&(this.state=t(e.state,"state",["string"])),e.city&&(this.city=t(e.city,"city",["string"])),e.latitude&&(this.latitude=t(e.latitude,"latitude",["number"])),e.longitude&&(this.longitude=t(e.longitude,"longitude",["number"])),e.dma&&(this.dma=t(e.dma,"dma",["string"]))},VideoDownloadingMetadata:function(e,t,i,n,a){var s=OO._.bind(r,this,"VideoDownloadingMetadata");this.currentTime=s(e,"currentTime",["number"]),this.totalStreamDuration=s(t,"totalStreamDuration",["number"]),this.streamBufferedUntilTime=s(i,"streamBufferedUntilTime",["number"]),this.seekableRangeStart=s(n,"seekableRangeStart",["number"]),this.seekableRangeEnd=s(a,"seekableRangeEnd",["number"])},VideoBufferingStartedData:function(e,t,i){var n=OO._.bind(r,this,"VideoBufferingStartedData");this.streamUrl=n(e,"streamUrl",["string"]),this.videoId=n(t,"videoId",["string"]),this.position=n(i,"position",["number"])},VideoBufferingEndedData:function(e){var t=OO._.bind(r,this,"VideoBufferingEndedData");this.streamUrl=t(e,"streamUrl",["string"])},VideoBitrateProfileLookupData:function(e){var t=OO._.bind(r,this,"VideoBitrateProfileLookupData")(e,"bitrateProfileArray",["array"])||[];this.profiles={};for(var i=0;i<t.length;i++){var n=t[i];n&&n.id&&(this.profiles[n.id]=n)}},VideoBitrateProfileData:function(e){var t=OO._.bind(r,this,"VideoBitrateProfileData");this.bitrate=t(e.bitrate,"bitrate",["number","string"]),this.height=t(e.height,"height",["number"]),this.width=t(e.width,"width",["number"]),this.id=t(e.id,"id",["string"])},VideoTargetBitrateData:function(e){var t=OO._.bind(r,this,"VideoTargetBitrateData");this.targetProfile=t(e,"targetProfile",["string"])},VideoSeekRequestedData:function(e){var t=OO._.bind(r,this,"VideoSeekRequestedData");this.seekingToTime=t(e,"seekingToTime",["number"])},VideoSeekCompletedData:function(e){var t=OO._.bind(r,this,"VideoSeekCompletedData");this.timeSeekedTo=t(e,"timeSeekedTo",["number"])},VideoStreamPositionChangedData:function(e,t,i,n){var a=OO._.bind(r,this,"VideoStreamPositionChangedData");this.streamPosition=a(e,"streamPosition",["number"]),this.totalStreamDuration=a(t,"totalStreamDuration",["number"]),this.videoId=a(i,"videoId",["string"]),this.currentLiveTime=a(n,"currentLiveTime",["number"])},VideoErrorData:function(e){var t=OO._.bind(r,this,"VideoErrorData");this.errorCode=t(e,"errorCode",["string"]),this.errorMessage=o(e)},GeneralErrorData:function(e,t){var i=OO._.bind(r,this,"GeneralErrorData");this.errorCode=i(e,"errorCode",["string"]),this.errorMessage=i(t,"errorMessage",["string"])},MetadataLoadingErrorData:function(e,t){var i=OO._.bind(r,this,"MetadataLoadingErrorData");this.errorCode=i(e,"errorCode",["string"]),this.errorMessage=i(t,"errorMessage",["string"])},VideoPlaybackErrorData:function(e,t){var i=OO._.bind(r,this,"VideoPlaybackErrorData");this.errorCode=i(e,"errorCode",["string"]),this.errorMessage=i(t,"errorMessage",["string"])},AuthorizationErrorData:function(e,t){var i=OO._.bind(r,this,"AuthorizationErrorData");this.errorCode=i(e,"errorCode",["string"]),this.errorMessage=i(t,"errorMessage",["string"])},AdPodStartedData:function(e){var t=OO._.bind(r,this,"AdPodStartedData");this.numberOfAds=t(e,"numberOfAds",["number"])},AdPodEndedData:function(e){var t=OO._.bind(r,this,"AdPodEndedData");this.adId=t(e,"adId",["string"])},AdStartedData:function(e,t){var i=OO._.bind(r,this,"AdStartedData");this.adType=i(e,"adType",["string"]),this.adMetadata=s(e,t)},LinearVideoData:function(e,t,i){var n=OO._.bind(r,this,"LinearVideoData");this.adId=n(e,"adId",["string"]),this.adDuration=n(t,"adDuration",["number"]),this.adPodPosition=n(i,"adPodPosition",["number"])},NonLinearOverlayData:function(e){var t=OO._.bind(r,this,"NonLinearOverlayData");this.adId=t(e,"adId",["string"])},AdEndedData:function(e,t){var i=OO._.bind(r,this,"AdEndedData");this.adType=i(e,"adType",["string"]),this.adId=i(t,"adId",["string"])},AdErrorData:function(e){var t=OO._.bind(r,this,"AdErrorData");this.error=t(e,"error",["string","object"])},AdClickedData:function(e){var t=OO._.bind(r,this,"AdClickedData");this.metadata=t(e,"metadata",["object"])},VideoPlayerCreatedData:function(e,t,i,n){var a=OO._.bind(r,this,"VideoPlayerCreatedData");this.playerCoreVersion=a(e,"playerCoreVersion",["string"]),this.params=a(t,"params",["object"]),this.embedCode=a(i,"embedCode",["string"]),this.playerUrl=a(n,"playerUrl",["string"]),this.pcode=a(this.params.pcode,"pcode",["string"])},InitialPlayStartingData:function(e,t,i,n,a,s,o,l,c,u,d){var h=OO._.bind(r,this,"VideoPlayerCreatedData");this.playerCoreVersion=h(e,"playerCoreVersion",["string"]),this.timeSinceInitialPlay=h(t,"timeSinceInitialPlay",["number"]),this.autoplayed=h(i,"autoplayed",["boolean"]),this.hadPreroll=h(n,"hadPreroll",["boolean"]),this.position=h(a,"position",["number"]),this.plugin=h(s,"plugin",["string"]),this.technology=h(o,"technology",["string"]),this.encoding=h(l,"encoding",["string"]),this.streamUrl=h(c,"streamUrl",["string"]),this.drm=h(u,"drm",["string"]),this.isLive=h(d,"isLive",["boolean"])},PlaybackReadyData:function(e,t,i){var n=OO._.bind(r,this,"PlaybackReadyData");this.playerCoreVersion=n(e,"playerCoreVersion",["string"]),this.timeSincePlayerCreated=n(t,"timeSincePlayerCreated",["number"]),this.pluginList=n(i,"pluginList",["array"])},ApiErrorData:function(e,t,i,n){var a=OO._.bind(r,this,"ApiErrorData");this.playerCoreVersion=a(e,"playerCoreVersion",["string"]),this.errorCode=a(t,"errorCode",["number"]),this.errorMessage=a(i,"errorMessage",["string"]),this.url=a(n,"url",["string"])},BitrateInitialData:function(e){var t=OO._.bind(r,this,"BitrateInitialData");this.bitrate=t(e,"bitrate",["number"])},BitrateFiveSecData:function(e){var t=OO._.bind(r,this,"BitrateFiveSecData");this.bitrate=t(e,"bitrate",["number"])},BitrateStableData:function(e){var t=OO._.bind(r,this,"BitrateStableData");this.bitrate=t(e,"bitrate",["number"])},PlaybackStartErrorData:function(e,t,i){var n=OO._.bind(r,this,"PlaybackStartErrorData");this.errorCodes=n(e,"errorCodes",["object"]),this.errorMessages=n(t,"errorMessages",["object"]),this.drm=n(i,"drm",["object"])},PlaybackMidstreamErrorData:function(e,t,i){var n=OO._.bind(r,this,"PlaybackMidstreamErrorData");this.errorCodes=n(e,"errorCodes",["object"]),this.errorMessages=n(t,"errorMessages",["object"]),this.position=n(i,"position",["number"])},PluginLoadedData:function(e,t,i,n){var a=OO._.bind(r,this,"PluginLoadedData");this.playerCoreVersion=a(e,"playerCoreVersion",["string"]),this.pluginType=a(t,"pluginType",["string"]),this.pluginName=a(i,"pluginName",["string"]),this.loadTime=a(n,"loadTime",["number"])},AdErrorData:function(e){var t=OO._.bind(r,this,"AdErrorData");this.error=t(e,"error",["string","object"])},AdRequestData:function(e,t){var i=OO._.bind(r,this,"AdRequestData");this.adPluginName=i(e,"adPluginName",["string"]),this.adPosition=i(t,"adPosition",["number"])},AdRequestSuccessData:function(e,t,i,n){var a=OO._.bind(r,this,"AdRequestSuccessData");this.adPluginName=a(e,"adPluginName",["string"]),this.adPosition=a(t,"adPosition",["number"]),this.responseTime=a(i,"responseTime",["number"]),this.timeSinceInitialPlay=a(n,"timeSinceInitialPlay",["number"])},AdRequestEmptyData:function(e,t,i,n,a){var s=OO._.bind(r,this,"AdRequestEmptyData");this.adPluginName=s(e,"adPluginName",["string"]),this.adPosition=s(t,"adPosition",["number"]),this.adTagUrl=s(i,"adTagUrl",["string"]),this.errorCodes=s(n,"errorCodes",["object"]),this.errorMessage=s(a,"errorMessage",["string"])},AdRequestErrorData:function(e,t,i,n,a,s){var o=OO._.bind(r,this,"AdRequestErrorData");this.adPluginName=o(e,"adPluginName",["string"]),this.adPosition=o(t,"adPosition",["number"]),this.adTagUrl=o(i,"adTagUrl",["string"]),this.errorCodes=o(n,"errorCodes",["object"]),this.errorMessage=o(a,"errorMessage",["string"]),this.isTimeout=o(s,"isTimeout",["boolean"])},AdPlaybackErrorData:function(e,t,i,n,a,s,o){var l=OO._.bind(r,this,"AdPlaybackErrorData");this.adPluginName=l(e,"adPluginName",["string"]),this.adPosition=l(t,"adPosition",["number"]),this.adTagUrl=l(i,"adTagUrl",["string"]),this.errorCodes=l(n,"errorCodes",["object"]),this.errorMessage=l(a,"errorMessage",["string"]),this.videoPluginList=l(s,"videoPluginList",["array"]),this.mediaFileUrl=l(o,"mediaFileUrl",["string"])},AdSdkImpressionData:function(e,t,i,n,a){var s=OO._.bind(r,this,"AdSdkImpressionData");this.adPluginName=s(e,"adPluginName",["string"]),this.adPosition=s(t,"adPosition",["number"]),this.adLoadTime=s(i,"adLoadTime",["number"]),this.adProtocol=s(n,"adProtocol",["string"]),this.adType=s(a,"adType",["string"])},AdCompletedData:function(e,t,i,n){var a=OO._.bind(r,this,"AdCompletedData");this.adPluginName=a(e,"adPluginName",["string"]),this.timeSinceImpression=a(t,"timeSinceImpression",["number"]),this.skipped=a(i,"skipped",["boolean"]),this.adTagUrl=a(n,"adTagUrl",["string"])},LoadAdSdkData:function(e,t){var i=OO._.bind(r,this,"LoadAdSdkData");this.adPluginName=i(e,"adPluginName",["string"]),this.playerCoreVersion=i(t,"playerCoreVersion",["string"])},LoadAdSdkFailureData:function(e,t,i){var n=OO._.bind(r,this,"LoadAdSdkFailureData");this.adPluginName=n(e,"adPluginName",["string"]),this.playerCoreVersion=n(t,"playerCoreVersion",["string"]),this.errorMessage=n(i,"errorMessage",["string"])},ReportDiscoveryImpressionEventData:function(e){var t=OO._.bind(r,this,"ReportDiscoveryImpressionEventData");this.metadata=t(e,"metadata",["object"])},ReportDiscoveryClickEventData:function(e){var t=OO._.bind(r,this,"ReportDiscoveryClickEventData");this.metadata=t(e,"metadata",["object"])},SdkAdEventData:function(e,t,i){var n=OO._.bind(r,this,"SdkAdEventData");this.adPluginName=n(e,"adPluginName",["string"]),this.adEventName=n(t,"adEventName",["string"]),this.adEventData=n(i,"adEventData",["object"])},FullscreenChangedData:function(e){var t=OO._.bind(r,this,"FullscreenChangedData");this.changingToFullscreen=t(e,"changingToFullscreen",["boolean"])},SsaiPlaySingleAdData:function(e){var t=OO._.bind(r,this,"SsaiPlaySingleAdData");this.ad=t(e,"ad",["object"])},SsaiAdTimelineReceivedData:function(e){var t=OO._.bind(r,this,"SsaiAdTimelineReceivedData");this.timeline=t(e,"timeline",["array"])},VolumeChangedData:function(e){var t=OO._.bind(r,this,"VolumeChangedData");this.currentVolume=t(e,"currentVolume",["number"])}},r=function(e,t,i,n){for(var a=!0,r=t,s=0;s<n.length;s++){var o=n[s];if("string"===o){if(OO._.isString(r)){a=!1;break}}else if("object"===o){if(r&&OO._.isObject(r)){a=!1;break}}else if("array"===o)r&&OO._.isArray(r)&&(a=!1);else if("number"===o){var c=parseFloat(r);if(OO._.isNumber(r)){a=!1;break}if(!isNaN(c)){r=c,a=!1;break}}else if("boolean"===o)if(OO._.isBoolean(r))a=!1;else{if("true"===r){r=!0,a=!1;break}if("false"===r){r=!1,a=!1;break}}}if(!a)return r;l("Analytics.EVENT_DATA."+e+" being created with invalid "+i+". Should be one of these types ["+n+"] but was ["+typeof t+"].")},s=function(e,t){var i;switch(e){case OO.Analytics.AD_TYPE.LINEAR_VIDEO:i=new a.LinearVideoData(t.name,t.duration,t.indexInPod);break;case OO.Analytics.AD_TYPE.NONLINEAR_OVERLAY:i=new a.NonLinearOverlayData(t.id);break;default:l("Ad Type not recognized. Should be one of these values ["+OO._.values(OO.Analytics.AD_TYPE)+"] but was ["+e+"].")}return i},o=function(e){var t;return _.has(n,e)?t=n[e]:l("Error code not recognized. Error code provided was: "+e),t},l=function(e){OO.log("Error AnalyticsConstants: "+e)};OO.Analytics.EVENT_DATA=a}if(!OO.Analytics.REQUIRED_PLUGIN_FUNCTIONS){OO.Analytics.REQUIRED_PLUGIN_FUNCTIONS=["getName","getVersion","setPluginID","getPluginID","init","setMetadata","destroy","processEvent"]}},{"./InitAnalyticsNamespace.js":6}],5:[function(e,t,i){e("../../html5-common/js/utils/InitModules/InitOOUnderscore.js"),e("./InitAnalyticsNamespace.js"),e("./AnalyticsConstants.js"),OO.Analytics.RecordedEvent=function(e,t,i){this.timeStamp=e,this.eventName=t,this.params=i},OO.Analytics.Framework=function(){var e,t=OO._,i={},n=[],a=!0,r={},s=0,o=!0,l=t.bind(function(e){if(!t.isFunction(e))throw E("Trying to make private function but "+e+" is not a function.");return t.bind(e,this)},this);this.setPluginMetadata=function(i){var n=!1;if(e&&OO.log(E("Trying to run setPluginMetadata more than once. Ignoring new data.")),t.isObject(i)){e=i;for(var a=this.getPluginIDList(),r=0;r<a.length;r++){var s=d(a[r]);A(s)}n=!0}else OO.log(E("Calling setPluginMetadata without valid metadata object. Defaulting to no metadata"));return n},this.destroy=l(function(){for(var a in OO.Analytics.UnregisterFrameworkInstance(this),i)this.unregisterPlugin(a);t=null,i=null,n=null,e=null,r=null});var c=l(function(e,t){if(a&&n.length<500){var i=(new Date).getTime(),r=new OO.Analytics.RecordedEvent(i,e,t);n.push(r)}else u()}),u=(l(function(){n=[]}),l(function(){a=!0}),l(function(){a=!1}));this.getRecordedEvents=function(){return n?t.clone(n):[]},this.registerPlugin=function(t){var n,a,r=!1;if(t||(OO.log(E("Trying to register plugin class that is a falsy value.")),r=!0),!r)try{a=new t(this)}catch(e){OO.log(e),OO.log(E("Error was thrown during plugin creation.")),r=!0}if(r||(this.validatePlugin(a)?(p(a,"init"),e&&A(a)):r=!0),r||((n=h(a))?i[n]||(i[n]={factory:t,instance:a,active:!0},p(a,"setPluginID",[n])):r=!0),r)if(n)OO.log(E("'"+n+"' is not valid and was not registered."));else{var s=p(a,"getName");s?OO.log(E("'"+s+"' is not valid and was not registered.")):OO.log(E("Plugin validation failed and was not registered."))}return n},this.unregisterPlugin=function(e){var t=!1;if(e&&i&&i[e]){var n=d(e);p(n,"destroy"),delete i[e],t=!0}return t},this.validatePlugin=function(e){var i=!0;if(e||(i=!1,OO.log(E("Plugin has falsy value and is not valid. Actual value: "),e)),i){for(var n=0;n<OO.Analytics.REQUIRED_PLUGIN_FUNCTIONS.length;n++){var a=OO.Analytics.REQUIRED_PLUGIN_FUNCTIONS[n];if(!e.hasOwnProperty(a)||"function"!=typeof e[a]){if(i=!1,e.getName&&"function"==typeof e.getName)try{OO.log(E("Plugin '"+e.getName()+"' missing function: "+a))}catch(e){OO.log(E("Plugin missing function: "+a))}else OO.log(E("Plugin missing function: "+a));break}}if(i)try{var r=e.getName();r&&t.isString(r)||(OO.log(E("Plugin does not have 'string' as return type of getName() or is empty string")),i=!1)}catch(e){OO.log(E("Plugin throws error on call to getName")),i=!1}if(i)try{var s=e.getVersion();s&&t.isString(s)||(OO.log(E("Plugin does not have 'string' as return type of getVersion() or is empty string")),i=!1)}catch(e){OO.log(E("Plugin throws error on call to getVersion")),i=!1}}return i},this.getPluginIDList=function(){var e=[];if(i)for(var t in i)e.push(t);return e};var d=l(function(e){var t;return i&&i[e]&&(t=i[e].instance),t});this.isPluginActive=function(e){return!!(e&&i&&i[e]&&t.isBoolean(i[e].active))&&i[e].active},this.makePluginActive=function(e){var t=!1;return e&&i&&i[e]&&(i[e].active=!0,t=!0),t},this.makePluginInactive=function(e){var t=!1;return e&&i&&i[e]&&(i[e].active=!1,t=!0),t},this.flattenEvents=function(e){for(var i=[],n=t.keys(e),a=0;a<n.length;a++){var r=e[n[a]];if("object"==typeof r)for(var s=this.flattenEvents(r),o=0;o<s.length;o++){var l=s[o];i.push(l)}else i.push(r)}return i},this.createEventDictionary=function(){var e=null,t=this.flattenEvents(OO.Analytics.EVENTS);if(t&&t instanceof Array){e={};for(var i=0;i<t.length;i++){e[t[i]]=!0}}return e},r=this.createEventDictionary(),this.stopPublishingEvents=function(){o=!1},this.resumePublishingEvents=function(){o=!0},this.publishEvent=function(e,n){if(!o)return!1;var s=!1;if(r[e]){var l;for(l in t.isArray(n)||(n=[]),a&&c(e,n),i)if(this.isPluginActive(l)){var u=d(l);p(u,"processEvent",[e,n])}s=!0}else OO.log(E("Event '"+e+"' being published and it's not in the list of OO.Analytics.EVENTS"));return s};var h=l(function(e){var t=null;if(e){var n=p(e,"getName"),a=p(e,"getVersion");n&&a&&(i[t=s+"_"+n+"_"+a]?(OO.log(E("Failed to create a unique name for plugin "+n+"_"+a)),t=null):s++,s>20&&OO.log(E("You have tried to create more than 20 unique plugin ids. There is probably an infinite loop or some other error.")))}return t}),A=l(function(t){if(e){var i=p(t,"getName");if(!i)return void OO.log(E("Trying to pass in metadata to plugin that does not have valid name"));var n=e[i];p(t,"setMetadata",[n])}}),E=function(e){return"ERROR Analytics Framework: "+e},p=l(function(e,i,n){OO.DEBUG&&f(i);try{if(t.isFunction(e[i]))return e[i].apply(e,n)}catch(n){try{e&&t.isFunction(e.getName)&&(OO.log(E("Error occurred during call to function '"+i+"' on plugin '"+e.getName()+"'\n")),OO.log(n))}catch(e){OO.log(E("Error occurred during call to function '"+i+"' on plugin\n",n))}}return null}),f=l(function(e){t.contains(OO.Analytics.REQUIRED_PLUGIN_FUNCTIONS,e)||OO.log(E("Calling function '"+e+"' in framework code and it's not in the REQUIRED_PLUGIN_FUNCTIONS list."))});OO.Analytics.RegisterFrameworkInstance(this)}},{"../../html5-common/js/utils/InitModules/InitOOUnderscore.js":2,"./AnalyticsConstants.js":4,"./InitAnalyticsNamespace.js":6}],6:[function(e,t,i){e("../../html5-common/js/utils/InitModules/InitOO.js"),e("../../html5-common/js/utils/InitModules/InitOOUnderscore.js"),OO.Analytics||(OO.Analytics={}),OO.Analytics.FrameworkInstanceList||(OO.Analytics.FrameworkInstanceList=[]),OO.Analytics.PluginFactoryList||(OO.Analytics.PluginFactoryList=[]),OO.Analytics.RegisterPluginFactory||(OO.Analytics.RegisterPluginFactory=function(e){if(OO.Analytics.PluginFactoryList.push(e),OO.Analytics.FrameworkInstanceList&&OO.Analytics.FrameworkInstanceList.length)for(var t=0;t<OO.Analytics.FrameworkInstanceList.length;t++)OO.Analytics.FrameworkInstanceList[t].registerPluginFactory(e)}),OO.Analytics.FrameworkRegistrationObject||(OO.Analytics.FrameworkRegistrationObject=function(e){this.registerPluginFactory=function(t){e.registerPlugin(t)}}),OO.Analytics.RegisterFrameworkInstance||(OO.Analytics.RegisterFrameworkInstance=function(e){var t=new OO.Analytics.FrameworkRegistrationObject(e);if(e.frameworkRegistrationObject=t,OO.Analytics.FrameworkInstanceList.push(t),OO._.isArray(OO.Analytics.PluginFactoryList)&&OO.Analytics.PluginFactoryList.length>0)for(var i=0;i<OO.Analytics.PluginFactoryList.length;i++)e.registerPlugin(OO.Analytics.PluginFactoryList[i])}),OO.Analytics.UnregisterFrameworkInstance||(OO.Analytics.UnregisterFrameworkInstance=function(e){if(e){var t=e.frameworkRegistrationObject;t&&(OO.Analytics.FrameworkInstanceList=OO._.without(OO.Analytics.FrameworkInstanceList,t))}})},{"../../html5-common/js/utils/InitModules/InitOO.js":1,"../../html5-common/js/utils/InitModules/InitOOUnderscore.js":2}],7:[function(e,t,i){e("../framework/InitAnalyticsNamespace.js"),e("../../html5-common/js/utils/utils.js");var n=function(e){var t,i=e,n=!1,a=null,r=null,s="",o=null,l=!1,c=!1,u=!1,d=null,h=null,A=!1,E=!1,p=!1,f=!1,T=0,g=0,y=0,m=[],_=!1,S=!1,O=null;this.ooyalaReporter=null,this.videoStartSent=!1,this.testMode=!1,this.getName=function(){return"iq"},this.getVersion=function(){return"v1"},this.getAutoPlay=function(){return n},this.getIqEnabled=function(){return c},this.getAllowThrift=function(){return u},this.getThriftPcode=function(){return d},this.getJsonPcode=function(){return h},this.setPluginID=function(e){t=e},this.getPluginID=function(){return t},this.init=function(){this.testMode?I():this.ooyalaReporter||OO.loadScriptOnce("//analytics.ooyala.com/static/v3/analytics.js",I,b,3e3)},this.setMetadata=function(e){e&&e.metadata&&(null!=e.metadata.enabled&&(c=1==e.metadata.enabled||"true"===e.metadata.enabled),null!=e.metadata.allowThrift&&(u=1==e.metadata.allowThrift||"true"===e.metadata.allowThrift),null!=e.metadata.thriftPcode&&(d=e.metadata.thriftPcode),null!=e.metadata.jsonPcode&&(h=e.metadata.jsonPcode,a=h)),OO.log("Analytics Template: PluginID '"+t+"' received this metadata:",e)},this.processAdTimeline=function(e){if(null===e||"array"!=typeof e)return[];for(var t=[],i=0,n=0;n<e.length;n++){var a=Math.floor(1e3*e[n].duration),r=Math.floor(1e3*e[n].start);i+=a;var s={adId:e[n].id,start:r,end:r+a,duration:a,offset:i};t.push(s)}return t},this.updateAdOffset=function(e){if(null!==m){y=0;for(var t=0;t<m.length;t++)m[t].start<=e&&(y+=m[t].duration)}},this.isSSAIAdPlaying=function(e){for(var t=0;t<m.length;t++)if(e>=m[t].start&&e<m[t].end)return!0;return!1},this.reportAdPlaythrough=function(e,t,i){var n=0,a=!1;if(OO._.isFinite(t)&&t>=0&&OO._.isFinite(i)&&i>0){var r=Math.floor(1e3*t),s=Math.floor(1e3*i);r>=.25*s&&!A?(n=.25,A=!0,a=!0):r>=.5*s&&!E?(n=.5,E=!0,a=!0):r>=.75*s&&!p?(n=.75,p=!0,a=!0):r>=1*s&&!f&&(n=1,f=!0,a=!0),a&&(OO.log("IQ: Reported: reportCustomEvent() for event: adPlaythrough with args:"+JSON.stringify(n)),this.ooyalaReporter.reportCustomEvent(e,{adEventName:"adPlaythrough",percent:n}))}},this.processEvent=function(e,i){switch(OO.log("IQ: PluginID '"+t+"' received this event '"+e+"' with these params:",i),e){case OO.Analytics.EVENTS.VIDEO_STREAM_METADATA_UPDATED:if(i&&i[0]){var b=i[0].modules;b&&this.setMetadata(b.iq)}break;case OO.Analytics.EVENTS.VIDEO_SOURCE_CHANGED:i&&i[0]&&i[0].metadata&&(n=i[0].metadata.autoPlay,s=i[0].embedCode!=o?o:"",o=i[0].embedCode);break;case OO.Analytics.EVENTS.SSAI_AD_TIMELINE_RECEIVED:i&&i[0]&&i[0].timeline&&(m=this.processAdTimeline(i[0].timeline)),this.updateAdOffset(T);break;case OO.Analytics.EVENTS.SSAI_PLAY_SINGLE_AD:for(var I=!1,v=0;v<m.length;v++)m[v].adId===i[0].ad.adId&&(I=!0);if(!I){var N=Math.floor(1e3*i[0].ad.duration),D={adId:i[0].ad.adId,start:T,end:T+N,duration:N,offset:0};m.push(D)}_=!0;break;case OO.Analytics.EVENTS.SSAI_SINGLE_AD_PLAYED:_=!1,S=!0}if(e!==OO.Analytics.EVENTS.STREAM_TYPE_UPDATED)if(e!==OO.Analytics.EVENTS.STREAM_TYPE_UPDATED){if(c)if(this.ooyalaReporter)switch(e){case OO.Analytics.EVENTS.VIDEO_CONTENT_METADATA_UPDATED:if(i&&i[0]){S=!1,_=!1,T=0,g=0,y=0,m=[];var C=i[0].duration;this.ooyalaReporter.initializeMedia(o,"ooyala"),OO.log("IQ: Reported: initializeMedia() with args: "+o+", ooyala"),this.ooyalaReporter.setMediaDuration(C),OO.log("IQ: Reported: setMediaDuration() with args: "+C)}break;case OO.Analytics.EVENTS.VIDEO_PLAYER_CREATED:if(i&&i[0]&&i[0].params){var R=i[0];a=R.params.pcode,null!=h&&(a=h),r=R.params.playerBrandingId,(V=i[0]).qosEventName=e,this.ooyalaReporter._base.pcode=a,this.ooyalaReporter.reportCustomEvent(e,V),OO.log("IQ: Reported: reportCustomEvent() for event: "+e+" with args:"+JSON.stringify(V)),u&&null==d&&null==h||(this.ooyalaReporter.reportPlayerLoad(),OO.log("IQ: Reported: reportPlayerLoad()"))}break;case OO.Analytics.EVENTS.INITIAL_PLAYBACK_REQUESTED:u&&null==d&&null==h||(OO.log("IQ: Reported: reportPlayRequested() with args: "+n),this.ooyalaReporter.reportPlayRequested(n));break;case OO.Analytics.EVENTS.VIDEO_STREAM_POSITION_CHANGED:if(i&&i[0]&&i[0].streamPosition>0)if(l||_)l&&this.reportAdPlaythrough(e,i[0].streamPosition,i[0].totalStreamDuration);else if(!u||null!=d||null!=h){var L=i[0].streamPosition;OO._.isFinite(i[0].currentLiveTime)&&i[0].currentLiveTime>0&&(L=i[0].currentLiveTime,y=0);var P=Math.floor(1e3*L);if(OO._.isFinite(L)&&L>0){if(S){if(this.isSSAIAdPlaying(P))break;this.updateAdOffset(P),S=!1}var w=(T=P)-y;w>=0&&w>g&&(g=w,this.ooyalaReporter.reportPlayHeadUpdate(w),OO.log("IQ: Reported: reportPlayHeadUpdate() with args: "+w))}}break;case OO.Analytics.EVENTS.VIDEO_PAUSED:this.ooyalaReporter.reportPause(),OO.log("IQ: Reported: reportPause()");break;case OO.Analytics.EVENTS.VIDEO_PLAYING:u&&null==d&&null==h||(this.videoStartSent?(this.ooyalaReporter.reportResume(),OO.log("IQ: Reported: reportResume()")):(s!=o?(this.ooyalaReporter.reportPlaybackStarted(),OO.log("IQ: Reported: reportPlaybackStarted()")):(this.ooyalaReporter.reportReplay(),OO.log("IQ: Reported: reportReplay()")),s=o,this.videoStartSent=!0));break;case OO.Analytics.EVENTS.VIDEO_SEEK_COMPLETED:if(g=0,i&&i[0]){var k=Math.floor(1e3*i[0].timeSeekedTo);_=this.isSSAIAdPlaying(k),this.updateAdOffset(k),this.ooyalaReporter.reportSeek(T,k),OO.log("IQ: Reported: reportSeek() with args: "+T+", "+k),T=k}break;case OO.Analytics.EVENTS.PLAYBACK_COMPLETED:this.ooyalaReporter.reportComplete(),OO.log("IQ: Reported: reportComplete()");break;case OO.Analytics.EVENTS.VIDEO_REPLAY_REQUESTED:g=0,_=this.isSSAIAdPlaying(0),this.updateAdOffset(0);break;case OO.EVENTS.WILL_PLAY_FROM_BEGINNING:this.videoStartSent=!1;break;case OO.Analytics.EVENTS.VIDEO_BUFFERING_STARTED:case OO.Analytics.EVENTS.VIDEO_BUFFERING_ENDED:case OO.Analytics.EVENTS.INITIAL_PLAY_STARTING:case OO.Analytics.EVENTS.PLAYBACK_READY:case OO.Analytics.EVENTS.API_ERROR:case OO.Analytics.EVENTS.BITRATE_INITIAL:case OO.Analytics.EVENTS.BITRATE_FIVE_SEC:case OO.Analytics.EVENTS.BITRATE_STABLE:case OO.Analytics.EVENTS.PLAYBACK_START_ERROR:case OO.Analytics.EVENTS.PLAYBACK_MIDSTREAM_ERROR:case OO.Analytics.EVENTS.PLUGIN_LOADED:(V=i&&i[0]?i[0]:{}).qosEventName=e,OO.log("IQ: Reported: reportCustomEvent() for event: "+e+" with args:"+JSON.stringify(V)),this.ooyalaReporter.reportCustomEvent(e,V);break;case OO.Analytics.EVENTS.AD_BREAK_STARTED:l=!0,this.ooyalaReporter.reportCustomEvent(e,{adEventName:e});break;case OO.Analytics.EVENTS.AD_BREAK_ENDED:l=!1,this.ooyalaReporter.reportCustomEvent(e,{adEventName:e});break;case OO.Analytics.EVENTS.AD_STARTED:A=!1,E=!1,p=!1,f=!1;case OO.Analytics.EVENTS.AD_REQUEST:case OO.Analytics.EVENTS.AD_REQUEST_SUCCESS:case OO.Analytics.EVENTS.AD_SDK_LOADED:case OO.Analytics.EVENTS.AD_SDK_LOAD_FAILURE:case OO.Analytics.EVENTS.AD_POD_STARTED:case OO.Analytics.EVENTS.AD_POD_ENDED:case OO.Analytics.EVENTS.AD_ENDED:case OO.Analytics.EVENTS.AD_SKIPPED:case OO.Analytics.EVENTS.AD_ERROR:case OO.Analytics.EVENTS.AD_REQUEST_EMPTY:case OO.Analytics.EVENTS.AD_REQUEST_ERROR:case OO.Analytics.EVENTS.AD_PLAYBACK_ERROR:case OO.Analytics.EVENTS.AD_IMPRESSION:case OO.Analytics.EVENTS.AD_SDK_IMPRESSION:case OO.Analytics.EVENTS.AD_COMPLETED:case OO.Analytics.EVENTS.AD_CLICKTHROUGH_OPENED:case OO.Analytics.EVENTS.AD_CLICKED:case OO.Analytics.EVENTS.SDK_AD_EVENT:i&&i[0]||(i=[]);var V=i[0];V||(V={}),V.adEventName?V.adEventName=e+":"+V.adEventName:V.adEventName=e,this.ooyalaReporter.reportCustomEvent(e,V),OO.log("IQ: Reported: reportCustomEvent() for event: "+e+" with args:"+JSON.stringify(V));break;case OO.Analytics.EVENTS.REPORT_DISCOVERY_IMPRESSION:if((!u||null!=d||null!=h)&&i&&i[0]&&i[0].metadata)try{V=i[0].metadata,OO.log("IQ: Reported: reportAssetImpression() with args: "+JSON.stringify(i[0])),this.ooyalaReporter.reportAssetImpression(V.asset,V.customData,V.uiTag,V.contentSource,V.pageSize,V.assetPosition)}catch(t){OO.log("IQ: Tried reporting event: "+e+" but received error: "+t)}break;case OO.Analytics.EVENTS.REPORT_DISCOVERY_CLICK:if((!u||null!=d||null!=h)&&i&&i[0]&&i[0].metadata)try{V=i[0].metadata,OO.log("IQ: Reported: reportAssetClick() with args: "+JSON.stringify(i[0])),this.ooyalaReporter.reportAssetClick(V.asset,V.customData,V.uiTag,V.contentSource,V.pageSize,V.assetPosition)}catch(t){OO.log("IQ: Tried reporting event: "+e+" but received error: "+t)}}else OO.log("Tried reporting event: "+e+" but ooyalaReporter is: "+this.ooyalaReporter)}else i&&i[1]&&((O=i[1]).countryCode=O.country,delete O.country,O.geoVendor=O.dma,delete O.dma,this.ooyalaReporter.setUserInfo(null,null,null,O));else i&&i[1]&&((O=i[1]).countryCode=O.country,delete O.country,O.geoVendor=O.dma,delete O.dma,this.ooyalaReporter.setUserInfo(null,null,null,O))},this.destroy=function(){i=null};var b=function(){OO._.isString(t)&&e.unregisterPlugin(t),this.destroy()},I=OO._.bind(function(){if(window.Ooyala){var e;if(this.ooyalaReporter=new Ooyala.Analytics.Reporter,i&&OO._.isFunction(i.getRecordedEvents)){e=i.getRecordedEvents();for(var t=0;t<e.length;t++)recordedEvent=e[t],this.processEvent(recordedEvent.eventName,recordedEvent.params)}var n=OO.VERSION.core.releaseVersion,a=!1;switch(OO.trackingLevel){case OO.TRACKING_LEVEL.DISABLED:case OO.TRACKING_LEVEL.ANONYMOUS:a=!0;break;case OO.TRACKING_LEVEL.DEFAULT:}this.ooyalaReporter.setDeviceInfo(null,null,null,a),this.ooyalaReporter.setPlayerInfo(r,"Ooyala Player",n)}else OO.log("IQ Plugin: Analytics SDK not loaded")},this)};OO.Analytics.RegisterPluginFactory(n),t.exports=n},{"../../html5-common/js/utils/utils.js":3,"../framework/InitAnalyticsNamespace.js":6}],8:[function(e,t,i){t.exports=function(e){if(Array.isArray(e))return e}},{}],9:[function(e,t,i){function n(e,t,i,n,a,r,s){try{var o=e[r](s),l=o.value}catch(e){return void i(e)}o.done?t(l):Promise.resolve(l).then(n,a)}t.exports=function(e){return function(){var t=this,i=arguments;return new Promise(function(a,r){var s=e.apply(t,i);function o(e){n(s,a,r,o,l,"next",e)}function l(e){n(s,a,r,o,l,"throw",e)}o(void 0)})}}},{}],10:[function(e,t,i){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],11:[function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},{}],12:[function(e,t,i){t.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},{}],13:[function(e,t,i){t.exports=function(e){return e&&e.__esModule?e:{default:e}}},{}],14:[function(e,t,i){t.exports=function(e,t){var i=[],n=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return i}},{}],15:[function(e,t,i){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},{}],16:[function(e,t,i){var n=e("./defineProperty");t.exports=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),a.forEach(function(t){n(e,t,i[t])})}return e}},{"./defineProperty":12}],17:[function(e,t,i){var n=e("./arrayWithHoles"),a=e("./iterableToArrayLimit"),r=e("./nonIterableRest");t.exports=function(e,t){return n(e)||a(e,t)||r()}},{"./arrayWithHoles":8,"./iterableToArrayLimit":14,"./nonIterableRest":15}],18:[function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=a=function(e){return n(e)}:t.exports=a=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},a(e)}t.exports=a},{}],19:[function(e,t,i){var n=function(e){"use strict";var t,i=Object.prototype,n=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function l(e,t,i,n){var a=t&&t.prototype instanceof p?t:p,r=Object.create(a.prototype),s=new N(n||[]);return r._invoke=function(e,t,i){var n=u;return function(a,r){if(n===h)throw new Error("Generator is already running");if(n===A){if("throw"===a)throw r;return C()}for(i.method=a,i.arg=r;;){var s=i.delegate;if(s){var o=b(s,i);if(o){if(o===E)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===u)throw n=A,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=h;var l=c(e,t,i);if("normal"===l.type){if(n=i.done?A:d,l.arg===E)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=A,i.method="throw",i.arg=l.arg)}}}(e,i,s),r}function c(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u="suspendedStart",d="suspendedYield",h="executing",A="completed",E={};function p(){}function f(){}function T(){}var g={};g[r]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(D([])));m&&m!==i&&n.call(m,r)&&(g=m);var _=T.prototype=p.prototype=Object.create(g);function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function O(e){var t;this._invoke=function(i,a){function r(){return new Promise(function(t,r){!function t(i,a,r,s){var o=c(e[i],e,a);if("throw"!==o.type){var l=o.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,r,s)},function(e){t("throw",e,r,s)}):Promise.resolve(u).then(function(e){l.value=e,r(l)},function(e){return t("throw",e,r,s)})}s(o.arg)}(i,a,t,r)})}return t=t?t.then(r,r):r()}}function b(e,i){var n=e.iterator[i.method];if(n===t){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=t,b(e,i),"throw"===i.method))return E;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var a=c(n,e.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,E;var r=a.arg;return r?r.done?(i[e.resultName]=r.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,E):r:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,E)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function v(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function D(e){if(e){var i=e[r];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,s=function i(){for(;++a<e.length;)if(n.call(e,a))return i.value=e[a],i.done=!1,i;return i.value=t,i.done=!0,i};return s.next=s}}return{next:C}}function C(){return{value:t,done:!0}}return f.prototype=_.constructor=T,T.constructor=f,T[o]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},S(O.prototype),O.prototype[s]=function(){return this},e.AsyncIterator=O,e.async=function(t,i,n,a){var r=new O(l(t,i,n,a));return e.isGeneratorFunction(i)?r:r.next().then(function(e){return e.done?e.value:r.next()})},S(_),_[o]="Generator",_[r]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(v),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function a(n,a){return o.type="throw",o.arg=e,i.next=n,a&&(i.method="next",i.arg=t),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,E):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),v(i),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var a=n.arg;v(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:D(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),E}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},{}],20:[function(e,t,i){t.exports=e("regenerator-runtime")},{"regenerator-runtime":19}],21:[function(e,t,i){"use strict";var n=e("./utils");function a(){var e={},t=0,i=0,n=0;return{add:function(a,r){r||(r=a,a=0),a>i?i=a:a<n&&(n=a),e[a]||(e[a]=[]),e[a].push(r),t++},process:function(){for(var t=n;t<=i;t++)for(var a=e[t],r=0;r<a.length;r++)(0,a[r])()},size:function(){return t}}}t.exports=function(e){var t=(e=e||{}).reporter,i=n.getOption(e,"async",!0),r=n.getOption(e,"auto",!0);r&&!i&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),i=!0);var s,o=a(),l=!1;function c(){for(l=!0;o.size();){var e=o;o=a(),e.process()}l=!1}function u(){var e;e=c,s=setTimeout(e,0)}return{add:function(e,t){!l&&r&&i&&0===o.size()&&u(),o.add(e,t)},force:function(e){l||(void 0===e&&(e=i),s&&(clearTimeout(s),s=null),e?u():c())}}}},{"./utils":22}],22:[function(e,t,i){"use strict";(t.exports={}).getOption=function(e,t,i){var n=e[t];if(null==n&&void 0!==i)return i;return n}},{}],23:[function(e,t,i){"use strict";var n=t.exports={};n.isIE=function(e){return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e=3,t=document.createElement("div"),i=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(i[0]);return e>4?e:void 0}());var t},n.isLegacyOpera=function(){return!!window.opera}},{}],24:[function(e,t,i){"use strict";(t.exports={}).forEach=function(e,t){for(var i=0;i<e.length;i++){var n=t(e[i]);if(n)return n}}},{}],25:[function(e,t,i){"use strict";var n=e("../browser-detector");t.exports=function(e){var t=(e=e||{}).reporter,i=e.batchProcessor,a=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function r(e){return a(e).object}return{makeDetectable:function(e,r,s){s||(s=r,r=e,e=null),(e=e||{}).debug,n.isIE(8)?s(r):function(e,r){var s="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",o=!1,l=window.getComputedStyle(e),c=e.offsetWidth,u=e.offsetHeight;function d(){function i(){if("static"===l.position){e.style.position="relative";var i=function(e,t,i,n){var a=i[n];"auto"!==a&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(a)&&(e.warn("An element that is positioned static has style."+n+"="+a+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+n+" will be set to 0. Element: ",t),t.style[n]=0)};i(t,e,l,"top"),i(t,e,l,"right"),i(t,e,l,"bottom"),i(t,e,l,"left")}}""!==l.position&&(i(),o=!0);var c=document.createElement("object");c.style.cssText=s,c.tabIndex=-1,c.type="text/html",c.onload=function(){o||i(),function e(t,i){t.contentDocument?i(t.contentDocument):setTimeout(function(){e(t,i)},100)}(this,function(t){r(e)})},n.isIE()||(c.data="about:blank"),e.appendChild(c),a(e).object=c,n.isIE()&&(c.data="about:blank")}a(e).startSize={width:c,height:u},i?i.add(d):d()}(r,s)},addListener:function(e,t){if(!r(e))throw new Error("Element is not detectable by this strategy.");function i(){t(e)}n.isIE(8)?(a(e).object={proxy:i},e.attachEvent("onresize",i)):r(e).contentDocument.defaultView.addEventListener("resize",i)},uninstall:function(e){n.isIE(8)?e.detachEvent("onresize",a(e).object.proxy):e.removeChild(r(e)),delete a(e).object}}}},{"../browser-detector":23}],26:[function(e,t,i){"use strict";var n=e("../collection-utils").forEach;t.exports=function(e){var t=(e=e||{}).reporter,i=e.batchProcessor,a=e.stateHandler.getState,r=(e.stateHandler.hasState,e.idHandler);if(!i)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var s=function(){var e=document.createElement("div");e.style.cssText="position: absolute; width: 1000px; height: 1000px; visibility: hidden; margin: 0; padding: 0;";var t=document.createElement("div");t.style.cssText="position: absolute; width: 500px; height: 500px; overflow: scroll; visibility: none; top: -1500px; left: -1500px; visibility: hidden; margin: 0; padding: 0;",t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var i=500-t.clientWidth,n=500-t.clientHeight;return document.body.removeChild(t),{width:i,height:n}}(),o="erd_scroll_detection_container";function l(e,i,n){if(e.addEventListener)e.addEventListener(i,n);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+i,n)}}function c(e,i,n){if(e.removeEventListener)e.removeEventListener(i,n);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+i,n)}}function u(e){return a(e).container.childNodes[0].childNodes[0].childNodes[0]}function d(e){return a(e).container.childNodes[0].childNodes[0].childNodes[1]}return function(e,t){if(!document.getElementById(e)){var i=t+"_animation",n=t+"_animation_active",a="/* Created by the element-resize-detector library. */\n";a+="."+t+" > div::-webkit-scrollbar { display: none; }\n\n",a+="."+n+" { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+i+"; animation-name: "+i+"; }\n",a+="@-webkit-keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(t,i){i=i||function(e){document.head.appendChild(e)};var n=document.createElement("style");n.innerHTML=t,n.id=e,i(n)}(a+="@keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}("erd_scroll_detection_scrollbar_style",o),{makeDetectable:function(e,c,h){function A(){if(e.debug){var i=Array.prototype.slice.call(arguments);if(i.unshift(r.get(c),"Scroll: "),t.log.apply)t.log.apply(null,i);else for(var n=0;n<i.length;n++)t.log(i[n])}}function E(e){var t=a(e).container.childNodes[0],i=window.getComputedStyle(t);return!i.width||-1===i.width.indexOf("px")}function p(){var e=window.getComputedStyle(c),t={};return t.position=e.position,t.width=c.offsetWidth,t.height=c.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function f(){if(A("storeStyle invoked."),a(c)){var e=p();a(c).style=e}else A("Aborting because element has been uninstalled")}function T(e,t,i){a(e).lastWidth=t,a(e).lastHeight=i}function g(){return 2*s.width+1}function y(){return 2*s.height+1}function m(e){return e+10+g()}function _(e){return e+10+y()}function S(e,t,i){var n=u(e),a=d(e),r=m(t),s=_(i),o=function(e){return 2*e+g()}(t),l=function(e){return 2*e+y()}(i);n.scrollLeft=r,n.scrollTop=s,a.scrollLeft=o,a.scrollTop=l}function O(){var e=a(c).container;if(!e){(e=document.createElement("div")).className=o,e.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",a(c).container=e,function(e){e.className+=" "+o+"_animation_active"}(e),c.appendChild(e);var t=function(){a(c).onRendered&&a(c).onRendered()};l(e,"animationstart",t),a(c).onAnimationStart=t}return e}function b(){if(A("Injecting elements"),a(c)){!function(){var e=a(c).style;if("static"===e.position){c.style.position="relative";var i=function(e,t,i,n){var a=i[n];"auto"!==a&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(a)&&(e.warn("An element that is positioned static has style."+n+"="+a+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+n+" will be set to 0. Element: ",t),t.style[n]=0)};i(t,c,e,"top"),i(t,c,e,"right"),i(t,c,e,"bottom"),i(t,c,e,"left")}}();var e=a(c).container;e||(e=O());var i,n,r,u,d=s.width,h=s.height,E="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; left: "+(i=(i=-(1+d))?i+"px":"0")+"; top: "+(n=(n=-(1+h))?n+"px":"0")+"; right: "+(u=(u=-d)?u+"px":"0")+"; bottom: "+(r=(r=-h)?r+"px":"0")+";",p=document.createElement("div"),f=document.createElement("div"),T=document.createElement("div"),g=document.createElement("div"),y=document.createElement("div"),m=document.createElement("div");p.dir="ltr",p.style.cssText="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",p.className=o,f.className=o,f.style.cssText=E,T.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",g.style.cssText="position: absolute; left: 0; top: 0;",y.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",m.style.cssText="position: absolute; width: 200%; height: 200%;",T.appendChild(g),y.appendChild(m),f.appendChild(T),f.appendChild(y),p.appendChild(f),e.appendChild(p),l(T,"scroll",_),l(y,"scroll",S),a(c).onExpandScroll=_,a(c).onShrinkScroll=S}else A("Aborting because element has been uninstalled");function _(){a(c).onExpand&&a(c).onExpand()}function S(){a(c).onShrink&&a(c).onShrink()}}function I(){function s(e,t,i){var n=function(e){return u(e).childNodes[0]}(e),a=m(t),r=_(i);n.style.width=a+"px",n.style.height=r+"px"}function o(n){var o=c.offsetWidth,u=c.offsetHeight;A("Storing current size",o,u),T(c,o,u),i.add(0,function(){if(a(c))if(l()){if(e.debug){var i=c.offsetWidth,n=c.offsetHeight;i===o&&n===u||t.warn(r.get(c),"Scroll: Size changed before updating detector elements.")}s(c,o,u)}else A("Aborting because element container has not been initialized");else A("Aborting because element has been uninstalled")}),i.add(1,function(){a(c)?l()?S(c,o,u):A("Aborting because element container has not been initialized"):A("Aborting because element has been uninstalled")}),n&&i.add(2,function(){a(c)?l()?n():A("Aborting because element container has not been initialized"):A("Aborting because element has been uninstalled")})}function l(){return!!a(c).container}function h(){A("notifyListenersIfNeeded invoked");var e=a(c);return void 0===a(c).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?A("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?A("Not notifying: Size already notified"):(A("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void n(a(c).listeners,function(e){e(c)}))}function p(){if(A("Scroll detected."),E(c))A("Scroll event fired while unrendered. Ignoring...");else{var e=c.offsetWidth,t=c.offsetHeight;e!==a(c).lastWidth||t!==a(c).lastHeight?(A("Element size changed."),o(h)):A("Element size has not changed ("+e+"x"+t+").")}}if(A("registerListenersAndPositionElements invoked."),a(c)){a(c).onRendered=function(){if(A("startanimation triggered."),E(c))A("Ignoring since element is still unrendered...");else{A("Element rendered.");var e=u(c),t=d(c);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(A("Scrollbars out of sync. Updating detector elements..."),o(h))}},a(c).onExpand=p,a(c).onShrink=p;var f=a(c).style;s(c,f.width,f.height)}else A("Aborting because element has been uninstalled")}function v(){if(A("finalizeDomMutation invoked."),a(c)){var e=a(c).style;T(c,e.width,e.height),S(c,e.width,e.height)}else A("Aborting because element has been uninstalled")}function N(){h(c)}function D(){var e;A("Installing..."),a(c).listeners=[],e=p(),a(c).startSize={width:e.width,height:e.height},A("Element start size",a(c).startSize),i.add(0,f),i.add(1,b),i.add(2,I),i.add(3,v),i.add(4,N)}h||(h=c,c=e,e=null),e=e||{},A("Making detectable..."),function(e){return!function(e){return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)}(e)||null===window.getComputedStyle(e)}(c)?(A("Element is detached"),O(),A("Waiting until element is attached..."),a(c).onRendered=function(){A("Element is now attached"),D()}):D()},addListener:function(e,t){if(!a(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");a(e).listeners.push(t)},uninstall:function(e){var t=a(e);t&&(t.onExpandScroll&&c(u(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&c(d(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&c(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))}}}},{"../collection-utils":24}],27:[function(e,t,i){"use strict";var n=e("./collection-utils").forEach,a=e("./element-utils"),r=e("./listener-handler"),s=e("./id-generator"),o=e("./id-handler"),l=e("./reporter"),c=e("./browser-detector"),u=e("batch-processor"),d=e("./state-handler"),h=e("./detection-strategy/object.js"),A=e("./detection-strategy/scroll.js");function E(e){return Array.isArray(e)||void 0!==e.length}function p(e){if(Array.isArray(e))return e;var t=[];return n(e,function(e){t.push(e)}),t}function f(e){return e&&1===e.nodeType}function T(e,t,i){var n=e[t];return null==n&&void 0!==i?i:n}t.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var i=s(),g=o({idGenerator:i,stateHandler:d});t=g}var y=e.reporter;y||(y=l(!1===y));var m=T(e,"batchProcessor",u({reporter:y})),_={};_.callOnAdd=!!T(e,"callOnAdd",!0),_.debug=!!T(e,"debug",!1);var S,O=r(t),b=a({stateHandler:d}),I=T(e,"strategy","object"),v={reporter:y,batchProcessor:m,stateHandler:d,idHandler:t};if("scroll"===I&&(c.isLegacyOpera()?(y.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),I="object"):c.isIE(9)&&(y.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),I="object")),"scroll"===I)S=A(v);else{if("object"!==I)throw new Error("Invalid strategy name: "+I);S=h(v)}var N={};return{listenTo:function(e,i,a){function r(e){var t=O.get(e);n(t,function(t){t(e)})}function s(e,t,i){O.add(t,i),e&&i(t)}if(a||(a=i,i=e,e={}),!i)throw new Error("At least one element required.");if(!a)throw new Error("Listener required.");if(f(i))i=[i];else{if(!E(i))return y.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");i=p(i)}var o=0,l=T(e,"callOnAdd",_.callOnAdd),c=T(e,"onReady",function(){}),u=T(e,"debug",_.debug);n(i,function(e){d.getState(e)||(d.initState(e),t.set(e));var h=t.get(e);if(u&&y.log("Attaching listener to element",h,e),!b.isDetectable(e))return u&&y.log(h,"Not detectable."),b.isBusy(e)?(u&&y.log(h,"System busy making it detectable"),s(l,e,a),N[h]=N[h]||[],void N[h].push(function(){++o===i.length&&c()})):(u&&y.log(h,"Making detectable..."),b.markBusy(e,!0),S.makeDetectable({debug:u},e,function(e){if(u&&y.log(h,"onElementDetectable"),d.getState(e)){b.markAsDetectable(e),b.markBusy(e,!1),S.addListener(e,r),s(l,e,a);var t=d.getState(e);if(t&&t.startSize){var A=e.offsetWidth,E=e.offsetHeight;t.startSize.width===A&&t.startSize.height===E||r(e)}N[h]&&n(N[h],function(e){e()})}else u&&y.log(h,"Element uninstalled before being detectable.");delete N[h],++o===i.length&&c()}));u&&y.log(h,"Already detecable, adding listener."),s(l,e,a),o++}),o===i.length&&c()},removeListener:O.removeListener,removeAllListeners:O.removeAllListeners,uninstall:function(e){if(!e)return y.error("At least one element is required.");if(f(e))e=[e];else{if(!E(e))return y.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=p(e)}n(e,function(e){O.removeAllListeners(e),S.uninstall(e),d.cleanState(e)})}}}},{"./browser-detector":23,"./collection-utils":24,"./detection-strategy/object.js":25,"./detection-strategy/scroll.js":26,"./element-utils":28,"./id-generator":29,"./id-handler":30,"./listener-handler":31,"./reporter":32,"./state-handler":33,"batch-processor":21}],28:[function(e,t,i){"use strict";t.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var i=t(e);return i&&!!i.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,i){t(e).busy=!!i}}}},{}],29:[function(e,t,i){"use strict";t.exports=function(){var e=1;return{generate:function(){return e++}}}},{}],30:[function(e,t,i){"use strict";t.exports=function(e){var t=e.idGenerator,i=e.stateHandler.getState;return{get:function(e){var t=i(e);return t&&void 0!==t.id?t.id:null},set:function(e){var n=i(e);if(!n)throw new Error("setId required the element to have a resize detection state.");var a=t.generate();return n.id=a,a}}}},{}],31:[function(e,t,i){"use strict";t.exports=function(e){var t={};function i(i){var n=e.get(i);return void 0===n?[]:t[n]||[]}return{get:i,add:function(i,n){var a=e.get(i);t[a]||(t[a]=[]),t[a].push(n)},removeListener:function(e,t){for(var n=i(e),a=0,r=n.length;a<r;++a)if(n[a]===t){n.splice(a,1);break}},removeAllListeners:function(e){var t=i(e);t&&(t.length=0)}}}},{}],32:[function(e,t,i){"use strict";t.exports=function(e){function t(){}var i={log:t,warn:t,error:t};if(!e&&window.console){var n=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var i=0;i<arguments.length;i++)e(arguments[i])}};n(i,"log"),n(i,"warn"),n(i,"error")}return i}},{}],33:[function(e,t,i){"use strict";var n="_erd";function a(e){return e[n]}t.exports={initState:function(e){return e[n]={},a(e)},getState:a,cleanState:function(e){delete e[n]}}},{}],34:[function(e,t,i){!function(e,i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var i=[],n=e.document,a=Object.getPrototypeOf,r=i.slice,s=i.concat,o=i.push,l=i.indexOf,c={},u=c.toString,d=c.hasOwnProperty,h=d.toString,A=h.call(Object),E={},p=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},f=function(e){return null!=e&&e===e.window},T={type:!0,src:!0,noModule:!0};function g(e,t,i){var a,r=(t=t||n).createElement("script");if(r.text=e,i)for(a in T)i[a]&&(r[a]=i[a]);t.head.appendChild(r).parentNode.removeChild(r)}function y(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[u.call(e)]||"object":typeof e}var m=function(e,t){return new m.fn.init(e,t)},_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(e){var t=!!e&&"length"in e&&e.length,i=y(e);return!p(e)&&!f(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}m.fn=m.prototype={jquery:"3.3.1",constructor:m,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=m.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return m.each(this,e)},map:function(e){return this.pushStack(m.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:i.sort,splice:i.splice},m.extend=m.fn.extend=function(){var e,t,i,n,a,r,s=arguments[0]||{},o=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[o]||{},o++),"object"==typeof s||p(s)||(s={}),o===l&&(s=this,o--);o<l;o++)if(null!=(e=arguments[o]))for(t in e)i=s[t],s!==(n=e[t])&&(c&&n&&(m.isPlainObject(n)||(a=Array.isArray(n)))?(a?(a=!1,r=i&&Array.isArray(i)?i:[]):r=i&&m.isPlainObject(i)?i:{},s[t]=m.extend(c,r,n)):void 0!==n&&(s[t]=n));return s},m.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==u.call(e))&&(!(t=a(e))||"function"==typeof(i=d.call(t,"constructor")&&t.constructor)&&h.call(i)===A)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){g(e)},each:function(e,t){var i,n=0;if(S(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(_,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(S(Object(e))?m.merge(i,"string"==typeof e?[e]:e):o.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:l.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,a=e.length;n<i;n++)e[a++]=t[n];return e.length=a,e},grep:function(e,t,i){for(var n=[],a=0,r=e.length,s=!i;a<r;a++)!t(e[a],a)!==s&&n.push(e[a]);return n},map:function(e,t,i){var n,a,r=0,o=[];if(S(e))for(n=e.length;r<n;r++)null!=(a=t(e[r],r,i))&&o.push(a);else for(r in e)null!=(a=t(e[r],r,i))&&o.push(a);return s.apply([],o)},guid:1,support:E}),"function"==typeof Symbol&&(m.fn[Symbol.iterator]=i[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});var O=function(e){var t,i,n,a,r,s,o,l,c,u,d,h,A,E,p,f,T,g,y,m="sizzle"+1*new Date,_=e.document,S=0,O=0,b=se(),I=se(),v=se(),N=function(e,t){return e===t&&(d=!0),0},D={}.hasOwnProperty,C=[],R=C.pop,L=C.push,P=C.push,w=C.slice,k=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},V="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+B+"*("+M+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+B+"*\\]",U=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",x=new RegExp(B+"+","g"),H=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),G=new RegExp("^"+B+"*,"+B+"*"),Y=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),j=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),W=new RegExp(U),K=new RegExp("^"+M+"$"),z={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+V+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,$=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){h()},ae=ge(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{P.apply(C=w.call(_.childNodes),_.childNodes),C[_.childNodes.length].nodeType}catch(e){P={apply:C.length?function(e,t){L.apply(e,w.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function re(e,t,n,a){var r,o,c,u,d,E,T,g=t&&t.ownerDocument,S=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return n;if(!a&&((t?t.ownerDocument||t:_)!==A&&h(t),t=t||A,p)){if(11!==S&&(d=Z.exec(e)))if(r=d[1]){if(9===S){if(!(c=t.getElementById(r)))return n;if(c.id===r)return n.push(c),n}else if(g&&(c=g.getElementById(r))&&y(t,c)&&c.id===r)return n.push(c),n}else{if(d[2])return P.apply(n,t.getElementsByTagName(e)),n;if((r=d[3])&&i.getElementsByClassName&&t.getElementsByClassName)return P.apply(n,t.getElementsByClassName(r)),n}if(i.qsa&&!v[e+" "]&&(!f||!f.test(e))){if(1!==S)g=t,T=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ie):t.setAttribute("id",u=m),o=(E=s(e)).length;o--;)E[o]="#"+u+" "+Te(E[o]);T=E.join(","),g=J.test(e)&&pe(t.parentNode)||t}if(T)try{return P.apply(n,g.querySelectorAll(T)),n}catch(e){}finally{u===m&&t.removeAttribute("id")}}}return l(e.replace(H,"$1"),t,n,a)}function se(){var e=[];return function t(i,a){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=a}}function oe(e){return e[m]=!0,e}function le(e){var t=A.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var i=e.split("|"),a=i.length;a--;)n.attrHandle[i[a]]=t}function ue(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function Ae(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function Ee(e){return oe(function(t){return t=+t,oe(function(i,n){for(var a,r=e([],i.length,t),s=r.length;s--;)i[a=r[s]]&&(i[a]=!(n[a]=i[a]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=re.support={},r=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=re.setDocument=function(e){var t,a,s=e?e.ownerDocument||e:_;return s!==A&&9===s.nodeType&&s.documentElement?(E=(A=s).documentElement,p=!r(A),_!==A&&(a=A.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",ne,!1):a.attachEvent&&a.attachEvent("onunload",ne)),i.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=le(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=Q.test(A.getElementsByClassName),i.getById=le(function(e){return E.appendChild(e).id=m,!A.getElementsByName||!A.getElementsByName(m).length}),i.getById?(n.filter.ID=function(e){var t=e.replace($,ee);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&p){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace($,ee);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&p){var i,n,a,r=t.getElementById(e);if(r){if((i=r.getAttributeNode("id"))&&i.value===e)return[r];for(a=t.getElementsByName(e),n=0;r=a[n++];)if((i=r.getAttributeNode("id"))&&i.value===e)return[r]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],a=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[a++];)1===i.nodeType&&n.push(i);return n}return r},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&p)return t.getElementsByClassName(e)},T=[],f=[],(i.qsa=Q.test(A.querySelectorAll))&&(le(function(e){E.appendChild(e).innerHTML="<a id='"+m+"'></a><select id='"+m+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&f.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||f.push("\\["+B+"*(?:value|"+V+")"),e.querySelectorAll("[id~="+m+"-]").length||f.push("~="),e.querySelectorAll(":checked").length||f.push(":checked"),e.querySelectorAll("a#"+m+"+*").length||f.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=A.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&f.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&f.push(":enabled",":disabled"),E.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),f.push(",.*:")})),(i.matchesSelector=Q.test(g=E.matches||E.webkitMatchesSelector||E.mozMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&le(function(e){i.disconnectedMatch=g.call(e,"*"),g.call(e,"[s!='']:x"),T.push("!=",U)}),f=f.length&&new RegExp(f.join("|")),T=T.length&&new RegExp(T.join("|")),t=Q.test(E.compareDocumentPosition),y=t||Q.test(E.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===A||e.ownerDocument===_&&y(_,e)?-1:t===A||t.ownerDocument===_&&y(_,t)?1:u?k(u,e)-k(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var i,n=0,a=e.parentNode,r=t.parentNode,s=[e],o=[t];if(!a||!r)return e===A?-1:t===A?1:a?-1:r?1:u?k(u,e)-k(u,t):0;if(a===r)return ue(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)o.unshift(i);for(;s[n]===o[n];)n++;return n?ue(s[n],o[n]):s[n]===_?-1:o[n]===_?1:0},A):A},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&h(e),t=t.replace(j,"='$1']"),i.matchesSelector&&p&&!v[t+" "]&&(!T||!T.test(t))&&(!f||!f.test(t)))try{var n=g.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return re(t,A,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==A&&h(e),y(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==A&&h(e);var a=n.attrHandle[t.toLowerCase()],r=a&&D.call(n.attrHandle,t.toLowerCase())?a(e,t,!p):void 0;return void 0!==r?r:i.attributes||!p?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},re.escape=function(e){return(e+"").replace(te,ie)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],a=0,r=0;if(d=!i.detectDuplicates,u=!i.sortStable&&e.slice(0),e.sort(N),d){for(;t=e[r++];)t===e[r]&&(a=n.push(r));for(;a--;)e.splice(n[a],1)}return u=null,e},a=re.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=a(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=a(t);return i},(n=re.selectors={cacheLength:50,createPseudo:oe,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,ee),e[3]=(e[3]||e[4]||e[5]||"").replace($,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&W.test(i)&&(t=s(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace($,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=b[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&b(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var a=re.attr(n,e);return null==a?"!="===t:!t||(a+="","="===t?a===i:"!="===t?a!==i:"^="===t?i&&0===a.indexOf(i):"*="===t?i&&a.indexOf(i)>-1:"$="===t?i&&a.slice(-i.length)===i:"~="===t?(" "+a.replace(x," ")+" ").indexOf(i)>-1:"|="===t&&(a===i||a.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,a){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===n&&0===a?function(e){return!!e.parentNode}:function(t,i,l){var c,u,d,h,A,E,p=r!==s?"nextSibling":"previousSibling",f=t.parentNode,T=o&&t.nodeName.toLowerCase(),g=!l&&!o,y=!1;if(f){if(r){for(;p;){for(h=t;h=h[p];)if(o?h.nodeName.toLowerCase()===T:1===h.nodeType)return!1;E=p="only"===e&&!E&&"nextSibling"}return!0}if(E=[s?f.firstChild:f.lastChild],s&&g){for(y=(A=(c=(u=(d=(h=f)[m]||(h[m]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===S&&c[1])&&c[2],h=A&&f.childNodes[A];h=++A&&h&&h[p]||(y=A=0)||E.pop();)if(1===h.nodeType&&++y&&h===t){u[e]=[S,A,y];break}}else if(g&&(y=A=(c=(u=(d=(h=t)[m]||(h[m]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===S&&c[1]),!1===y)for(;(h=++A&&h&&h[p]||(y=A=0)||E.pop())&&((o?h.nodeName.toLowerCase()!==T:1!==h.nodeType)||!++y||(g&&((u=(d=h[m]||(h[m]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[S,y]),h!==t)););return(y-=a)===n||y%n==0&&y/n>=0}}},PSEUDO:function(e,t){var i,a=n.pseudos[e]||n.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return a[m]?a(t):a.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,i){for(var n,r=a(e,t),s=r.length;s--;)e[n=k(e,r[s])]=!(i[n]=r[s])}):function(e){return a(e,0,i)}):a}},pseudos:{not:oe(function(e){var t=[],i=[],n=o(e.replace(H,"$1"));return n[m]?oe(function(e,t,i,a){for(var r,s=n(e,null,a,[]),o=e.length;o--;)(r=s[o])&&(e[o]=!(t[o]=r))}):function(e,a,r){return t[0]=e,n(t,null,r,i),t[0]=null,!i.pop()}}),has:oe(function(e){return function(t){return re(e,t).length>0}}),contains:oe(function(e){return e=e.replace($,ee),function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:oe(function(e){return K.test(e||"")||re.error("unsupported lang: "+e),e=e.replace($,ee).toLowerCase(),function(t){var i;do{if(i=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===E},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:Ae(!1),disabled:Ae(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:Ee(function(){return[0]}),last:Ee(function(e,t){return[t-1]}),eq:Ee(function(e,t,i){return[i<0?i+t:i]}),even:Ee(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:Ee(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:Ee(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:Ee(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=he(t);function fe(){}function Te(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ge(e,t,i){var n=t.dir,a=t.next,r=a||n,s=i&&"parentNode"===r,o=O++;return t.first?function(t,i,a){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,a);return!1}:function(t,i,l){var c,u,d,h=[S,o];if(l){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(u=(d=t[m]||(t[m]={}))[t.uniqueID]||(d[t.uniqueID]={}),a&&a===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=u[r])&&c[0]===S&&c[1]===o)return h[2]=c[2];if(u[r]=h,h[2]=e(t,i,l))return!0}return!1}}function ye(e){return e.length>1?function(t,i,n){for(var a=e.length;a--;)if(!e[a](t,i,n))return!1;return!0}:e[0]}function me(e,t,i,n,a){for(var r,s=[],o=0,l=e.length,c=null!=t;o<l;o++)(r=e[o])&&(i&&!i(r,n,a)||(s.push(r),c&&t.push(o)));return s}function _e(e,t,i,n,a,r){return n&&!n[m]&&(n=_e(n)),a&&!a[m]&&(a=_e(a,r)),oe(function(r,s,o,l){var c,u,d,h=[],A=[],E=s.length,p=r||function(e,t,i){for(var n=0,a=t.length;n<a;n++)re(e,t[n],i);return i}(t||"*",o.nodeType?[o]:o,[]),f=!e||!r&&t?p:me(p,h,e,o,l),T=i?a||(r?e:E||n)?[]:s:f;if(i&&i(f,T,o,l),n)for(c=me(T,A),n(c,[],o,l),u=c.length;u--;)(d=c[u])&&(T[A[u]]=!(f[A[u]]=d));if(r){if(a||e){if(a){for(c=[],u=T.length;u--;)(d=T[u])&&c.push(f[u]=d);a(null,T=[],c,l)}for(u=T.length;u--;)(d=T[u])&&(c=a?k(r,d):h[u])>-1&&(r[c]=!(s[c]=d))}}else T=me(T===s?T.splice(E,T.length):T),a?a(null,s,T,l):P.apply(s,T)})}function Se(e){for(var t,i,a,r=e.length,s=n.relative[e[0].type],o=s||n.relative[" "],l=s?1:0,u=ge(function(e){return e===t},o,!0),d=ge(function(e){return k(t,e)>-1},o,!0),h=[function(e,i,n){var a=!s&&(n||i!==c)||((t=i).nodeType?u(e,i,n):d(e,i,n));return t=null,a}];l<r;l++)if(i=n.relative[e[l].type])h=[ge(ye(h),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[m]){for(a=++l;a<r&&!n.relative[e[a].type];a++);return _e(l>1&&ye(h),l>1&&Te(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(H,"$1"),i,l<a&&Se(e.slice(l,a)),a<r&&Se(e=e.slice(a)),a<r&&Te(e))}h.push(i)}return ye(h)}return fe.prototype=n.filters=n.pseudos,n.setFilters=new fe,s=re.tokenize=function(e,t){var i,a,r,s,o,l,c,u=I[e+" "];if(u)return t?0:u.slice(0);for(o=e,l=[],c=n.preFilter;o;){for(s in i&&!(a=G.exec(o))||(a&&(o=o.slice(a[0].length)||o),l.push(r=[])),i=!1,(a=Y.exec(o))&&(i=a.shift(),r.push({value:i,type:a[0].replace(H," ")}),o=o.slice(i.length)),n.filter)!(a=z[s].exec(o))||c[s]&&!(a=c[s](a))||(i=a.shift(),r.push({value:i,type:s,matches:a}),o=o.slice(i.length));if(!i)break}return t?o.length:o?re.error(e):I(e,l).slice(0)},o=re.compile=function(e,t){var i,a=[],r=[],o=v[e+" "];if(!o){for(t||(t=s(e)),i=t.length;i--;)(o=Se(t[i]))[m]?a.push(o):r.push(o);(o=v(e,function(e,t){var i=t.length>0,a=e.length>0,r=function(r,s,o,l,u){var d,E,f,T=0,g="0",y=r&&[],m=[],_=c,O=r||a&&n.find.TAG("*",u),b=S+=null==_?1:Math.random()||.1,I=O.length;for(u&&(c=s===A||s||u);g!==I&&null!=(d=O[g]);g++){if(a&&d){for(E=0,s||d.ownerDocument===A||(h(d),o=!p);f=e[E++];)if(f(d,s||A,o)){l.push(d);break}u&&(S=b)}i&&((d=!f&&d)&&T--,r&&y.push(d))}if(T+=g,i&&g!==T){for(E=0;f=t[E++];)f(y,m,s,o);if(r){if(T>0)for(;g--;)y[g]||m[g]||(m[g]=R.call(l));m=me(m)}P.apply(l,m),u&&!r&&m.length>0&&T+t.length>1&&re.uniqueSort(l)}return u&&(S=b,c=_),y};return i?oe(r):r}(r,a))).selector=e}return o},l=re.select=function(e,t,i,a){var r,l,c,u,d,h="function"==typeof e&&e,A=!a&&s(e=h.selector||e);if(i=i||[],1===A.length){if((l=A[0]=A[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&p&&n.relative[l[1].type]){if(!(t=(n.find.ID(c.matches[0].replace($,ee),t)||[])[0]))return i;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(r=z.needsContext.test(e)?0:l.length;r--&&(c=l[r],!n.relative[u=c.type]);)if((d=n.find[u])&&(a=d(c.matches[0].replace($,ee),J.test(l[0].type)&&pe(t.parentNode)||t))){if(l.splice(r,1),!(e=a.length&&Te(l)))return P.apply(i,a),i;break}}return(h||o(e,A))(a,t,!p,i,!t||J.test(e)&&pe(t.parentNode)||t),i},i.sortStable=m.split("").sort(N).join("")===m,i.detectDuplicates=!!d,h(),i.sortDetached=le(function(e){return 1&e.compareDocumentPosition(A.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(V,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),re}(e);m.find=O,m.expr=O.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=O.uniqueSort,m.text=O.getText,m.isXMLDoc=O.isXML,m.contains=O.contains,m.escapeSelector=O.escape;var b=function(e,t,i){for(var n=[],a=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&m(e).is(i))break;n.push(e)}return n},I=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},v=m.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function C(e,t,i){return p(t)?m.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?m.grep(e,function(e){return e===t!==i}):"string"!=typeof t?m.grep(e,function(e){return l.call(t,e)>-1!==i}):m.filter(t,e,i)}m.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?m.find.matchesSelector(n,e)?[n]:[]:m.find.matches(e,m.grep(t,function(e){return 1===e.nodeType}))},m.fn.extend({find:function(e){var t,i,n=this.length,a=this;if("string"!=typeof e)return this.pushStack(m(e).filter(function(){for(t=0;t<n;t++)if(m.contains(a[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)m.find(e,a[t],i);return n>1?m.uniqueSort(i):i},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&v.test(e)?m(e):e||[],!1).length}});var R,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(m.fn.init=function(e,t,i){var a,r;if(!e)return this;if(i=i||R,"string"==typeof e){if(!(a="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!a[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(a[1]){if(t=t instanceof m?t[0]:t,m.merge(this,m.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:n,!0)),D.test(a[1])&&m.isPlainObject(t))for(a in t)p(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}return(r=n.getElementById(a[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):p(e)?void 0!==i.ready?i.ready(e):e(m):m.makeArray(e,this)}).prototype=m.fn,R=m(n);var P=/^(?:parents|prev(?:Until|All))/,w={children:!0,contents:!0,next:!0,prev:!0};function k(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}m.fn.extend({has:function(e){var t=m(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(m.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,a=this.length,r=[],s="string"!=typeof e&&m(e);if(!v.test(e))for(;n<a;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&m.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?m.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?l.call(m(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),m.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b(e,"parentNode")},parentsUntil:function(e,t,i){return b(e,"parentNode",i)},next:function(e){return k(e,"nextSibling")},prev:function(e){return k(e,"previousSibling")},nextAll:function(e){return b(e,"nextSibling")},prevAll:function(e){return b(e,"previousSibling")},nextUntil:function(e,t,i){return b(e,"nextSibling",i)},prevUntil:function(e,t,i){return b(e,"previousSibling",i)},siblings:function(e){return I((e.parentNode||{}).firstChild,e)},children:function(e){return I(e.firstChild)},contents:function(e){return N(e,"iframe")?e.contentDocument:(N(e,"template")&&(e=e.content||e),m.merge([],e.childNodes))}},function(e,t){m.fn[e]=function(i,n){var a=m.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(a=m.filter(n,a)),this.length>1&&(w[e]||m.uniqueSort(a),P.test(e)&&a.reverse()),this.pushStack(a)}});var V=/[^\x20\t\r\n\f]+/g;function B(e){return e}function M(e){throw e}function F(e,t,i,n){var a;try{e&&p(a=e.promise)?a.call(e).done(t).fail(i):e&&p(a=e.then)?a.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}m.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return m.each(e.match(V)||[],function(e,i){t[i]=!0}),t}(e):m.extend({},e);var t,i,n,a,r=[],s=[],o=-1,l=function(){for(a=a||e.once,n=t=!0;s.length;o=-1)for(i=s.shift();++o<r.length;)!1===r[o].apply(i[0],i[1])&&e.stopOnFalse&&(o=r.length,i=!1);e.memory||(i=!1),t=!1,a&&(r=i?[]:"")},c={add:function(){return r&&(i&&!t&&(o=r.length-1,s.push(i)),function t(i){m.each(i,function(i,n){p(n)?e.unique&&c.has(n)||r.push(n):n&&n.length&&"string"!==y(n)&&t(n)})}(arguments),i&&!t&&l()),this},remove:function(){return m.each(arguments,function(e,t){for(var i;(i=m.inArray(t,r,i))>-1;)r.splice(i,1),i<=o&&o--}),this},has:function(e){return e?m.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return a=s=[],r=i="",this},disabled:function(){return!r},lock:function(){return a=s=[],i||t||(r=i=""),this},locked:function(){return!!a},fireWith:function(e,i){return a||(i=[e,(i=i||[]).slice?i.slice():i],s.push(i),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},m.extend({Deferred:function(t){var i=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],n="pending",a={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var e=arguments;return m.Deferred(function(t){m.each(i,function(i,n){var a=p(e[n[4]])&&e[n[4]];r[n[1]](function(){var e=a&&a.apply(this,arguments);e&&p(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,a?[e]:arguments)})}),e=null}).promise()},then:function(t,n,a){var r=0;function s(t,i,n,a){return function(){var o=this,l=arguments,c=function(){var e,c;if(!(t<r)){if((e=n.apply(o,l))===i.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,p(c)?a?c.call(e,s(r,i,B,a),s(r,i,M,a)):(r++,c.call(e,s(r,i,B,a),s(r,i,M,a),s(r,i,B,i.notifyWith))):(n!==B&&(o=void 0,l=[e]),(a||i.resolveWith)(o,l))}},u=a?c:function(){try{c()}catch(e){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(e,u.stackTrace),t+1>=r&&(n!==M&&(o=void 0,l=[e]),i.rejectWith(o,l))}};t?u():(m.Deferred.getStackHook&&(u.stackTrace=m.Deferred.getStackHook()),e.setTimeout(u))}}return m.Deferred(function(e){i[0][3].add(s(0,e,p(a)?a:B,e.notifyWith)),i[1][3].add(s(0,e,p(t)?t:B)),i[2][3].add(s(0,e,p(n)?n:M))}).promise()},promise:function(e){return null!=e?m.extend(e,a):a}},r={};return m.each(i,function(e,t){var s=t[2],o=t[5];a[t[1]]=s.add,o&&s.add(function(){n=o},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),s.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=s.fireWith}),a.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,i=t,n=Array(i),a=r.call(arguments),s=m.Deferred(),o=function(e){return function(i){n[e]=this,a[e]=arguments.length>1?r.call(arguments):i,--t||s.resolveWith(n,a)}};if(t<=1&&(F(e,s.done(o(i)).resolve,s.reject,!t),"pending"===s.state()||p(a[i]&&a[i].then)))return s.then();for(;i--;)F(a[i],o(i),s.reject);return s.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&U.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},m.readyException=function(t){e.setTimeout(function(){throw t})};var x=m.Deferred();function H(){n.removeEventListener("DOMContentLoaded",H),e.removeEventListener("load",H),m.ready()}m.fn.ready=function(e){return x.then(e).catch(function(e){m.readyException(e)}),this},m.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==e&&--m.readyWait>0||x.resolveWith(n,[m]))}}),m.ready.then=x.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?e.setTimeout(m.ready):(n.addEventListener("DOMContentLoaded",H),e.addEventListener("load",H));var G=function(e,t,i,n,a,r,s){var o=0,l=e.length,c=null==i;if("object"===y(i))for(o in a=!0,i)G(e,t,o,i[o],!0,r,s);else if(void 0!==n&&(a=!0,p(n)||(s=!0),c&&(s?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(m(e),i)})),t))for(;o<l;o++)t(e[o],i,s?n:n.call(e[o],o,t(e[o],i)));return a?e:c?t.call(e):l?t(e[0],i):r},Y=/^-ms-/,j=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function K(e){return e.replace(Y,"ms-").replace(j,W)}var z=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function q(){this.expando=m.expando+q.uid++}q.uid=1,q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},z(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,a=this.cache(e);if("string"==typeof t)a[K(t)]=i;else for(n in t)a[K(n)]=t[n];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][K(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(K):(t=K(t))in n?[t]:t.match(V)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||m.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!m.isEmptyObject(t)}};var X=new q,Q=new q,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function $(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}(i)}catch(e){}Q.set(e,t,i)}else i=void 0;return i}m.extend({hasData:function(e){return Q.hasData(e)||X.hasData(e)},data:function(e,t,i){return Q.access(e,t,i)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,i){return X.access(e,t,i)},_removeData:function(e,t){X.remove(e,t)}}),m.fn.extend({data:function(e,t){var i,n,a,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(a=Q.get(r),1===r.nodeType&&!X.get(r,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=K(n.slice(5)),$(r,n,a[n]));X.set(r,"hasDataAttrs",!0)}return a}return"object"==typeof e?this.each(function(){Q.set(this,e)}):G(this,function(t){var i;if(r&&void 0===t)return void 0!==(i=Q.get(r,e))?i:void 0!==(i=$(r,e))?i:void 0;this.each(function(){Q.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),m.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=X.get(e,t),i&&(!n||Array.isArray(i)?n=X.access(e,t,m.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=m.queue(e,t),n=i.length,a=i.shift(),r=m._queueHooks(e,t);"inprogress"===a&&(a=i.shift(),n--),a&&("fx"===t&&i.unshift("inprogress"),delete r.stop,a.call(e,function(){m.dequeue(e,t)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return X.get(e,i)||X.access(e,i,{empty:m.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",i])})})}}),m.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?m.queue(this[0],e):void 0===t?this:this.each(function(){var i=m.queue(this,e,t);m._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&m.dequeue(this,e)})},dequeue:function(e){return this.each(function(){m.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,a=m.Deferred(),r=this,s=this.length,o=function(){--n||a.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=X.get(r[s],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(o));return o(),a.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],ne=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&m.contains(e.ownerDocument,e)&&"none"===m.css(e,"display")},ae=function(e,t,i,n){var a,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in a=i.apply(e,n||[]),t)e.style[r]=s[r];return a};function re(e,t,i,n){var a,r,s=20,o=n?function(){return n.cur()}:function(){return m.css(e,t,"")},l=o(),c=i&&i[3]||(m.cssNumber[t]?"":"px"),u=(m.cssNumber[t]||"px"!==c&&+l)&&te.exec(m.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)m.style(e,t,u+c),(1-r)*(1-(r=o()/l||.5))<=0&&(s=0),u/=r;u*=2,m.style(e,t,u+c),i=i||[]}return i&&(u=+u||+l||0,a=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=a)),a}var se={};function oe(e){var t,i=e.ownerDocument,n=e.nodeName,a=se[n];return a||(t=i.body.appendChild(i.createElement(n)),a=m.css(t,"display"),t.parentNode.removeChild(t),"none"===a&&(a="block"),se[n]=a,a)}function le(e,t){for(var i,n,a=[],r=0,s=e.length;r<s;r++)(n=e[r]).style&&(i=n.style.display,t?("none"===i&&(a[r]=X.get(n,"display")||null,a[r]||(n.style.display="")),""===n.style.display&&ne(n)&&(a[r]=oe(n))):"none"!==i&&(a[r]="none",X.set(n,"display",i)));for(r=0;r<s;r++)null!=a[r]&&(e[r].style.display=a[r]);return e}m.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ne(this)?m(this).show():m(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,ue=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,de=/^$|^module$|\/(?:java|ecma)script/i,he={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ae(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?m.merge([e],i):i}function Ee(e,t){for(var i=0,n=e.length;i<n;i++)X.set(e[i],"globalEval",!t||X.get(t[i],"globalEval"))}he.optgroup=he.option,he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td;var pe,fe,Te=/<|&#?\w+;/;function ge(e,t,i,n,a){for(var r,s,o,l,c,u,d=t.createDocumentFragment(),h=[],A=0,E=e.length;A<E;A++)if((r=e[A])||0===r)if("object"===y(r))m.merge(h,r.nodeType?[r]:r);else if(Te.test(r)){for(s=s||d.appendChild(t.createElement("div")),o=(ue.exec(r)||["",""])[1].toLowerCase(),l=he[o]||he._default,s.innerHTML=l[1]+m.htmlPrefilter(r)+l[2],u=l[0];u--;)s=s.lastChild;m.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(r));for(d.textContent="",A=0;r=h[A++];)if(n&&m.inArray(r,n)>-1)a&&a.push(r);else if(c=m.contains(r.ownerDocument,r),s=Ae(d.appendChild(r),"script"),c&&Ee(s),i)for(u=0;r=s[u++];)de.test(r.type||"")&&i.push(r);return d}pe=n.createDocumentFragment().appendChild(n.createElement("div")),(fe=n.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),pe.appendChild(fe),E.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",E.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue;var ye=n.documentElement,me=/^key/,_e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function be(){return!1}function Ie(){try{return n.activeElement}catch(e){}}function ve(e,t,i,n,a,r){var s,o;if("object"==typeof t){for(o in"string"!=typeof i&&(n=n||i,i=void 0),t)ve(e,o,i,n,t[o],r);return e}if(null==n&&null==a?(a=i,n=i=void 0):null==a&&("string"==typeof i?(a=n,n=void 0):(a=n,n=i,i=void 0)),!1===a)a=be;else if(!a)return e;return 1===r&&(s=a,(a=function(e){return m().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=m.guid++)),e.each(function(){m.event.add(this,t,a,n,i)})}m.event={global:{},add:function(e,t,i,n,a){var r,s,o,l,c,u,d,h,A,E,p,f=X.get(e);if(f)for(i.handler&&(i=(r=i).handler,a=r.selector),a&&m.find.matchesSelector(ye,a),i.guid||(i.guid=m.guid++),(l=f.events)||(l=f.events={}),(s=f.handle)||(s=f.handle=function(t){return void 0!==m&&m.event.triggered!==t.type?m.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(V)||[""]).length;c--;)A=p=(o=Se.exec(t[c])||[])[1],E=(o[2]||"").split(".").sort(),A&&(d=m.event.special[A]||{},A=(a?d.delegateType:d.bindType)||A,d=m.event.special[A]||{},u=m.extend({type:A,origType:p,data:n,handler:i,guid:i.guid,selector:a,needsContext:a&&m.expr.match.needsContext.test(a),namespace:E.join(".")},r),(h=l[A])||((h=l[A]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,E,s)||e.addEventListener&&e.addEventListener(A,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),a?h.splice(h.delegateCount++,0,u):h.push(u),m.event.global[A]=!0)},remove:function(e,t,i,n,a){var r,s,o,l,c,u,d,h,A,E,p,f=X.hasData(e)&&X.get(e);if(f&&(l=f.events)){for(c=(t=(t||"").match(V)||[""]).length;c--;)if(A=p=(o=Se.exec(t[c])||[])[1],E=(o[2]||"").split(".").sort(),A){for(d=m.event.special[A]||{},h=l[A=(n?d.delegateType:d.bindType)||A]||[],o=o[2]&&new RegExp("(^|\\.)"+E.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)u=h[r],!a&&p!==u.origType||i&&i.guid!==u.guid||o&&!o.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(r,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,E,f.handle)||m.removeEvent(e,A,f.handle),delete l[A])}else for(A in l)m.event.remove(e,A+t[c],i,n,!0);m.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,i,n,a,r,s,o=m.event.fix(e),l=new Array(arguments.length),c=(X.get(this,"events")||{})[o.type]||[],u=m.event.special[o.type]||{};for(l[0]=o,t=1;t<arguments.length;t++)l[t]=arguments[t];if(o.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,o)){for(s=m.event.handlers.call(this,o,c),t=0;(a=s[t++])&&!o.isPropagationStopped();)for(o.currentTarget=a.elem,i=0;(r=a.handlers[i++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(r.namespace)||(o.handleObj=r,o.data=r.data,void 0!==(n=((m.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,l))&&!1===(o.result=n)&&(o.preventDefault(),o.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,o),o.result}},handlers:function(e,t){var i,n,a,r,s,o=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],s={},i=0;i<l;i++)void 0===s[a=(n=t[i]).selector+" "]&&(s[a]=n.needsContext?m(a,this).index(c)>-1:m.find(a,this,null,[c]).length),s[a]&&r.push(n);r.length&&o.push({elem:c,handlers:r})}return c=this,l<t.length&&o.push({elem:c,handlers:t.slice(l)}),o},addProp:function(e,t){Object.defineProperty(m.Event.prototype,e,{enumerable:!0,configurable:!0,get:p(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[m.expando]?e:new m.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ie()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ie()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(e){return N(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},m.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},m.Event=function(e,t){if(!(this instanceof m.Event))return new m.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:be,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&m.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:be,isPropagationStopped:be,isImmediatePropagationStopped:be,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&me.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&_e.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},m.event.addProp),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){m.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,a=e.handleObj;return n&&(n===this||m.contains(this,n))||(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}}),m.fn.extend({on:function(e,t,i,n){return ve(this,e,t,i,n)},one:function(e,t,i,n){return ve(this,e,t,i,n,1)},off:function(e,t,i){var n,a;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,m(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=be),this.each(function(){m.event.remove(this,e,i,t)})}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,De=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")&&m(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function we(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ke(e,t){var i,n,a,r,s,o,l,c;if(1===t.nodeType){if(X.hasData(e)&&(r=X.access(e),s=X.set(t,r),c=r.events))for(a in delete s.handle,s.events={},c)for(i=0,n=c[a].length;i<n;i++)m.event.add(t,a,c[a][i]);Q.hasData(e)&&(o=Q.access(e),l=m.extend({},o),Q.set(t,l))}}function Ve(e,t,i,n){t=s.apply([],t);var a,r,o,l,c,u,d=0,h=e.length,A=h-1,f=t[0],T=p(f);if(T||h>1&&"string"==typeof f&&!E.checkClone&&Ce.test(f))return e.each(function(a){var r=e.eq(a);T&&(t[0]=f.call(this,a,r.html())),Ve(r,t,i,n)});if(h&&(r=(a=ge(t,e[0].ownerDocument,!1,e,n)).firstChild,1===a.childNodes.length&&(a=r),r||n)){for(l=(o=m.map(Ae(a,"script"),Pe)).length;d<h;d++)c=a,d!==A&&(c=m.clone(c,!0,!0),l&&m.merge(o,Ae(c,"script"))),i.call(e[d],c,d);if(l)for(u=o[o.length-1].ownerDocument,m.map(o,we),d=0;d<l;d++)c=o[d],de.test(c.type||"")&&!X.access(c,"globalEval")&&m.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?m._evalUrl&&m._evalUrl(c.src):g(c.textContent.replace(Re,""),u,c))}return e}function Be(e,t,i){for(var n,a=t?m.filter(t,e):e,r=0;null!=(n=a[r]);r++)i||1!==n.nodeType||m.cleanData(Ae(n)),n.parentNode&&(i&&m.contains(n.ownerDocument,n)&&Ee(Ae(n,"script")),n.parentNode.removeChild(n));return e}m.extend({htmlPrefilter:function(e){return e.replace(Ne,"<$1></$2>")},clone:function(e,t,i){var n,a,r,s,o,l,c,u=e.cloneNode(!0),d=m.contains(e.ownerDocument,e);if(!(E.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||m.isXMLDoc(e)))for(s=Ae(u),n=0,a=(r=Ae(e)).length;n<a;n++)o=r[n],l=s[n],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&ce.test(o.type)?l.checked=o.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=o.defaultValue);if(t)if(i)for(r=r||Ae(e),s=s||Ae(u),n=0,a=r.length;n<a;n++)ke(r[n],s[n]);else ke(e,u);return(s=Ae(u,"script")).length>0&&Ee(s,!d&&Ae(e,"script")),u},cleanData:function(e){for(var t,i,n,a=m.event.special,r=0;void 0!==(i=e[r]);r++)if(z(i)){if(t=i[X.expando]){if(t.events)for(n in t.events)a[n]?m.event.remove(i,n):m.removeEvent(i,n,t.handle);i[X.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),m.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return G(this,function(e){return void 0===e?m.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ve(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Ve(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ve(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ve(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(m.cleanData(Ae(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return m.clone(this,e,t)})},html:function(e){return G(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!he[(ue.exec(e)||["",""])[1].toLowerCase()]){e=m.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(m.cleanData(Ae(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ve(this,arguments,function(t){var i=this.parentNode;m.inArray(this,e)<0&&(m.cleanData(Ae(this)),i&&i.replaceChild(t,this))},e)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){m.fn[e]=function(e){for(var i,n=[],a=m(e),r=a.length-1,s=0;s<=r;s++)i=s===r?this:this.clone(!0),m(a[s])[t](i),o.apply(n,i.get());return this.pushStack(n)}});var Me=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Fe=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},Ue=new RegExp(ie.join("|"),"i");function xe(e,t,i){var n,a,r,s,o=e.style;return(i=i||Fe(e))&&(""!==(s=i.getPropertyValue(t)||i[t])||m.contains(e.ownerDocument,e)||(s=m.style(e,t)),!E.pixelBoxStyles()&&Me.test(s)&&Ue.test(t)&&(n=o.width,a=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=i.width,o.width=n,o.minWidth=a,o.maxWidth=r)),void 0!==s?s+"":s}function He(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ye.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);a="1%"!==t.top,l=12===i(t.marginLeft),u.style.right="60%",o=36===i(t.right),r=36===i(t.width),u.style.position="absolute",s=36===u.offsetWidth||"absolute",ye.removeChild(c),u=null}}function i(e){return Math.round(parseFloat(e))}var a,r,s,o,l,c=n.createElement("div"),u=n.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",E.clearCloneStyle="content-box"===u.style.backgroundClip,m.extend(E,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),a},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),s}}))}();var Ge=/^(none|table(?!-c[ea]).+)/,Ye=/^--/,je={position:"absolute",visibility:"hidden",display:"block"},We={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","Moz","ms"],ze=n.createElement("div").style;function qe(e){var t=m.cssProps[e];return t||(t=m.cssProps[e]=function(e){if(e in ze)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=Ke.length;i--;)if((e=Ke[i]+t)in ze)return e}(e)||e),t}function Xe(e,t,i){var n=te.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Qe(e,t,i,n,a,r){var s="width"===t?1:0,o=0,l=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(l+=m.css(e,i+ie[s],!0,a)),n?("content"===i&&(l-=m.css(e,"padding"+ie[s],!0,a)),"margin"!==i&&(l-=m.css(e,"border"+ie[s]+"Width",!0,a))):(l+=m.css(e,"padding"+ie[s],!0,a),"padding"!==i?l+=m.css(e,"border"+ie[s]+"Width",!0,a):o+=m.css(e,"border"+ie[s]+"Width",!0,a));return!n&&r>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-o-.5))),l}function Ze(e,t,i){var n=Fe(e),a=xe(e,t,n),r="border-box"===m.css(e,"boxSizing",!1,n),s=r;if(Me.test(a)){if(!i)return a;a="auto"}return s=s&&(E.boxSizingReliable()||a===e.style[t]),("auto"===a||!parseFloat(a)&&"inline"===m.css(e,"display",!1,n))&&(a=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(a=parseFloat(a)||0)+Qe(e,t,i||(r?"border":"content"),s,n,a)+"px"}function Je(e,t,i,n,a){return new Je.prototype.init(e,t,i,n,a)}m.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=xe(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,s,o=K(t),l=Ye.test(t),c=e.style;if(l||(t=qe(o)),s=m.cssHooks[t]||m.cssHooks[o],void 0===i)return s&&"get"in s&&void 0!==(a=s.get(e,!1,n))?a:c[t];"string"===(r=typeof i)&&(a=te.exec(i))&&a[1]&&(i=re(e,t,a),r="number"),null!=i&&i==i&&("number"===r&&(i+=a&&a[3]||(m.cssNumber[o]?"":"px")),E.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(i=s.set(e,i,n))||(l?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,n){var a,r,s,o=K(t);return Ye.test(t)||(t=qe(o)),(s=m.cssHooks[t]||m.cssHooks[o])&&"get"in s&&(a=s.get(e,!0,i)),void 0===a&&(a=xe(e,t,n)),"normal"===a&&t in We&&(a=We[t]),""===i||i?(r=parseFloat(a),!0===i||isFinite(r)?r||0:a):a}}),m.each(["height","width"],function(e,t){m.cssHooks[t]={get:function(e,i,n){if(i)return!Ge.test(m.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,n):ae(e,je,function(){return Ze(e,t,n)})},set:function(e,i,n){var a,r=Fe(e),s="border-box"===m.css(e,"boxSizing",!1,r),o=n&&Qe(e,t,n,s,r);return s&&E.scrollboxSize()===r.position&&(o-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-Qe(e,t,"border",!1,r)-.5)),o&&(a=te.exec(i))&&"px"!==(a[3]||"px")&&(e.style[t]=i,i=m.css(e,t)),Xe(0,i,o)}}}),m.cssHooks.marginLeft=He(E.reliableMarginLeft,function(e,t){if(t)return(parseFloat(xe(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),m.each({margin:"",padding:"",border:"Width"},function(e,t){m.cssHooks[e+t]={expand:function(i){for(var n=0,a={},r="string"==typeof i?i.split(" "):[i];n<4;n++)a[e+ie[n]+t]=r[n]||r[n-2]||r[0];return a}},"margin"!==e&&(m.cssHooks[e+t].set=Xe)}),m.fn.extend({css:function(e,t){return G(this,function(e,t,i){var n,a,r={},s=0;if(Array.isArray(t)){for(n=Fe(e),a=t.length;s<a;s++)r[t[s]]=m.css(e,t[s],!1,n);return r}return void 0!==i?m.style(e,t,i):m.css(e,t)},e,t,arguments.length>1)}}),m.Tween=Je,Je.prototype={constructor:Je,init:function(e,t,i,n,a,r){this.elem=e,this.prop=i,this.easing=a||m.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(m.cssNumber[i]?"":"px")},cur:function(){var e=Je.propHooks[this.prop];return e&&e.get?e.get(this):Je.propHooks._default.get(this)},run:function(e){var t,i=Je.propHooks[this.prop];return this.options.duration?this.pos=t=m.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Je.propHooks._default.set(this),this}},Je.prototype.init.prototype=Je.prototype,Je.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=m.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){m.fx.step[e.prop]?m.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[m.cssProps[e.prop]]&&!m.cssHooks[e.prop]?e.elem[e.prop]=e.now:m.style(e.elem,e.prop,e.now+e.unit)}}},Je.propHooks.scrollTop=Je.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},m.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},m.fx=Je.prototype.init,m.fx.step={};var $e,et,tt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function nt(){et&&(!1===n.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(nt):e.setTimeout(nt,m.fx.interval),m.fx.tick())}function at(){return e.setTimeout(function(){$e=void 0}),$e=Date.now()}function rt(e,t){var i,n=0,a={height:e};for(t=t?1:0;n<4;n+=2-t)a["margin"+(i=ie[n])]=a["padding"+i]=e;return t&&(a.opacity=a.width=e),a}function st(e,t,i){for(var n,a=(ot.tweeners[t]||[]).concat(ot.tweeners["*"]),r=0,s=a.length;r<s;r++)if(n=a[r].call(i,t,e))return n}function ot(e,t,i){var n,a,r=0,s=ot.prefilters.length,o=m.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=$e||at(),i=Math.max(0,c.startTime+c.duration-t),n=1-(i/c.duration||0),r=0,s=c.tweens.length;r<s;r++)c.tweens[r].run(n);return o.notifyWith(e,[c,n,i]),n<1&&s?i:(s||o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:m.extend({},t),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},i),originalProperties:t,originalOptions:i,startTime:$e||at(),duration:i.duration,tweens:[],createTween:function(t,i){var n=m.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(a)return this;for(a=!0;i<n;i++)c.tweens[i].run(1);return t?(o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c,t])):o.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var i,n,a,r,s;for(i in e)if(a=t[n=K(i)],r=e[i],Array.isArray(r)&&(a=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(s=m.cssHooks[n])&&"expand"in s)for(i in r=s.expand(r),delete e[n],r)i in e||(e[i]=r[i],t[i]=a);else t[n]=a}(u,c.opts.specialEasing);r<s;r++)if(n=ot.prefilters[r].call(c,e,u,c.opts))return p(n.stop)&&(m._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return m.map(u,st,c),p(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),m.fx.timer(m.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}m.Animation=m.extend(ot,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return re(i.elem,e,te.exec(t),i),i}]},tweener:function(e,t){p(e)?(t=e,e=["*"]):e=e.match(V);for(var i,n=0,a=e.length;n<a;n++)i=e[n],ot.tweeners[i]=ot.tweeners[i]||[],ot.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,a,r,s,o,l,c,u,d="width"in t||"height"in t,h=this,A={},E=e.style,p=e.nodeType&&ne(e),f=X.get(e,"fxshow");for(n in i.queue||(null==(s=m._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,m.queue(e,"fx").length||s.empty.fire()})})),t)if(a=t[n],tt.test(a)){if(delete t[n],r=r||"toggle"===a,a===(p?"hide":"show")){if("show"!==a||!f||void 0===f[n])continue;p=!0}A[n]=f&&f[n]||m.style(e,n)}if((l=!m.isEmptyObject(t))||!m.isEmptyObject(A))for(n in d&&1===e.nodeType&&(i.overflow=[E.overflow,E.overflowX,E.overflowY],null==(c=f&&f.display)&&(c=X.get(e,"display")),"none"===(u=m.css(e,"display"))&&(c?u=c:(le([e],!0),c=e.style.display||c,u=m.css(e,"display"),le([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===m.css(e,"float")&&(l||(h.done(function(){E.display=c}),null==c&&(u=E.display,c="none"===u?"":u)),E.display="inline-block")),i.overflow&&(E.overflow="hidden",h.always(function(){E.overflow=i.overflow[0],E.overflowX=i.overflow[1],E.overflowY=i.overflow[2]})),l=!1,A)l||(f?"hidden"in f&&(p=f.hidden):f=X.access(e,"fxshow",{display:c}),r&&(f.hidden=!p),p&&le([e],!0),h.done(function(){for(n in p||le([e]),X.remove(e,"fxshow"),A)m.style(e,n,A[n])})),l=st(p?f[n]:0,n,h),n in f||(f[n]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ot.prefilters.unshift(e):ot.prefilters.push(e)}}),m.speed=function(e,t,i){var n=e&&"object"==typeof e?m.extend({},e):{complete:i||!i&&t||p(e)&&e,duration:e,easing:i&&t||t&&!p(t)&&t};return m.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in m.fx.speeds?n.duration=m.fx.speeds[n.duration]:n.duration=m.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){p(n.old)&&n.old.call(this),n.queue&&m.dequeue(this,n.queue)},n},m.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ne).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var a=m.isEmptyObject(e),r=m.speed(t,i,n),s=function(){var t=ot(this,m.extend({},e),r);(a||X.get(this,"finish"))&&t.stop(!0)};return s.finish=s,a||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",r=m.timers,s=X.get(this);if(a)s[a]&&s[a].stop&&n(s[a]);else for(a in s)s[a]&&s[a].stop&&it.test(a)&&n(s[a]);for(a=r.length;a--;)r[a].elem!==this||null!=e&&r[a].queue!==e||(r[a].anim.stop(i),t=!1,r.splice(a,1));!t&&i||m.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=X.get(this),n=i[e+"queue"],a=i[e+"queueHooks"],r=m.timers,s=n?n.length:0;for(i.finish=!0,m.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),m.each(["toggle","show","hide"],function(e,t){var i=m.fn[t];m.fn[t]=function(e,n,a){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(rt(t,!0),e,n,a)}}),m.each({slideDown:rt("show"),slideUp:rt("hide"),slideToggle:rt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){m.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),m.timers=[],m.fx.tick=function(){var e,t=0,i=m.timers;for($e=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||m.fx.stop(),$e=void 0},m.fx.timer=function(e){m.timers.push(e),m.fx.start()},m.fx.interval=13,m.fx.start=function(){et||(et=!0,nt())},m.fx.stop=function(){et=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(t,i){return t=m.fx&&m.fx.speeds[t]||t,i=i||"fx",this.queue(i,function(i,n){var a=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(a)}})},function(){var e=n.createElement("input"),t=n.createElement("select").appendChild(n.createElement("option"));e.type="checkbox",E.checkOn=""!==e.value,E.optSelected=t.selected,(e=n.createElement("input")).value="t",e.type="radio",E.radioValue="t"===e.value}();var lt,ct=m.expr.attrHandle;m.fn.extend({attr:function(e,t){return G(this,m.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){m.removeAttr(this,e)})}}),m.extend({attr:function(e,t,i){var n,a,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?m.prop(e,t,i):(1===r&&m.isXMLDoc(e)||(a=m.attrHooks[t.toLowerCase()]||(m.expr.match.bool.test(t)?lt:void 0)),void 0!==i?null===i?void m.removeAttr(e,t):a&&"set"in a&&void 0!==(n=a.set(e,i,t))?n:(e.setAttribute(t,i+""),i):a&&"get"in a&&null!==(n=a.get(e,t))?n:null==(n=m.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!E.radioValue&&"radio"===t&&N(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,a=t&&t.match(V);if(a&&1===e.nodeType)for(;i=a[n++];)e.removeAttribute(i)}}),lt={set:function(e,t,i){return!1===t?m.removeAttr(e,i):e.setAttribute(i,i),i}},m.each(m.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ct[t]||m.find.attr;ct[t]=function(e,t,n){var a,r,s=t.toLowerCase();return n||(r=ct[s],ct[s]=a,a=null!=i(e,t,n)?s:null,ct[s]=r),a}});var ut=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(V)||[]).join(" ")}function At(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(V)||[]}m.fn.extend({prop:function(e,t){return G(this,m.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[m.propFix[e]||e]})}}),m.extend({prop:function(e,t,i){var n,a,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&m.isXMLDoc(e)||(t=m.propFix[t]||t,a=m.propHooks[t]),void 0!==i?a&&"set"in a&&void 0!==(n=a.set(e,i,t))?n:e[t]=i:a&&"get"in a&&null!==(n=a.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=m.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),E.optSelected||(m.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),m.fn.extend({addClass:function(e){var t,i,n,a,r,s,o,l=0;if(p(e))return this.each(function(t){m(this).addClass(e.call(this,t,At(this)))});if((t=Et(e)).length)for(;i=this[l++];)if(a=At(i),n=1===i.nodeType&&" "+ht(a)+" "){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a!==(o=ht(n))&&i.setAttribute("class",o)}return this},removeClass:function(e){var t,i,n,a,r,s,o,l=0;if(p(e))return this.each(function(t){m(this).removeClass(e.call(this,t,At(this)))});if(!arguments.length)return this.attr("class","");if((t=Et(e)).length)for(;i=this[l++];)if(a=At(i),n=1===i.nodeType&&" "+ht(a)+" "){for(s=0;r=t[s++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a!==(o=ht(n))&&i.setAttribute("class",o)}return this},toggleClass:function(e,t){var i=typeof e,n="string"===i||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):p(e)?this.each(function(i){m(this).toggleClass(e.call(this,i,At(this),t),t)}):this.each(function(){var t,a,r,s;if(n)for(a=0,r=m(this),s=Et(e);t=s[a++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||((t=At(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+ht(At(i))+" ").indexOf(t)>-1)return!0;return!1}});var pt=/\r/g;m.fn.extend({val:function(e){var t,i,n,a=this[0];return arguments.length?(n=p(e),this.each(function(i){var a;1===this.nodeType&&(null==(a=n?e.call(this,i,m(this).val()):e)?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=m.map(a,function(e){return null==e?"":e+""})),(t=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))})):a?(t=m.valHooks[a.type]||m.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(a,"value"))?i:"string"==typeof(i=a.value)?i.replace(pt,""):null==i?"":i:void 0}}),m.extend({valHooks:{option:{get:function(e){var t=m.find.attr(e,"value");return null!=t?t:ht(m.text(e))}},select:{get:function(e){var t,i,n,a=e.options,r=e.selectedIndex,s="select-one"===e.type,o=s?null:[],l=s?r+1:a.length;for(n=r<0?l:s?r:0;n<l;n++)if(((i=a[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!N(i.parentNode,"optgroup"))){if(t=m(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,a=e.options,r=m.makeArray(t),s=a.length;s--;)((n=a[s]).selected=m.inArray(m.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(e.selectedIndex=-1),r}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=m.inArray(m(e).val(),t)>-1}},E.checkOn||(m.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),E.focusin="onfocusin"in e;var ft=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};m.extend(m.event,{trigger:function(t,i,a,r){var s,o,l,c,u,h,A,E,T=[a||n],g=d.call(t,"type")?t.type:t,y=d.call(t,"namespace")?t.namespace.split("."):[];if(o=E=l=a=a||n,3!==a.nodeType&&8!==a.nodeType&&!ft.test(g+m.event.triggered)&&(g.indexOf(".")>-1&&(y=g.split("."),g=y.shift(),y.sort()),u=g.indexOf(":")<0&&"on"+g,(t=t[m.expando]?t:new m.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),i=null==i?[t]:m.makeArray(i,[t]),A=m.event.special[g]||{},r||!A.trigger||!1!==A.trigger.apply(a,i))){if(!r&&!A.noBubble&&!f(a)){for(c=A.delegateType||g,ft.test(c+g)||(o=o.parentNode);o;o=o.parentNode)T.push(o),l=o;l===(a.ownerDocument||n)&&T.push(l.defaultView||l.parentWindow||e)}for(s=0;(o=T[s++])&&!t.isPropagationStopped();)E=o,t.type=s>1?c:A.bindType||g,(h=(X.get(o,"events")||{})[t.type]&&X.get(o,"handle"))&&h.apply(o,i),(h=u&&o[u])&&h.apply&&z(o)&&(t.result=h.apply(o,i),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||A._default&&!1!==A._default.apply(T.pop(),i)||!z(a)||u&&p(a[g])&&!f(a)&&((l=a[u])&&(a[u]=null),m.event.triggered=g,t.isPropagationStopped()&&E.addEventListener(g,Tt),a[g](),t.isPropagationStopped()&&E.removeEventListener(g,Tt),m.event.triggered=void 0,l&&(a[u]=l)),t.result}},simulate:function(e,t,i){var n=m.extend(new m.Event,i,{type:e,isSimulated:!0});m.event.trigger(n,null,t)}}),m.fn.extend({trigger:function(e,t){return this.each(function(){m.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return m.event.trigger(e,t,i,!0)}}),E.focusin||m.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){m.event.simulate(t,e.target,m.event.fix(e))};m.event.special[t]={setup:function(){var n=this.ownerDocument||this,a=X.access(n,t);a||n.addEventListener(e,i,!0),X.access(n,t,(a||0)+1)},teardown:function(){var n=this.ownerDocument||this,a=X.access(n,t)-1;a?X.access(n,t,a):(n.removeEventListener(e,i,!0),X.remove(n,t))}}});var gt=e.location,yt=Date.now(),mt=/\?/;m.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+t),i};var _t=/\[\]$/,St=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,bt=/^(?:input|select|textarea|keygen)/i;function It(e,t,i,n){var a;if(Array.isArray(t))m.each(t,function(t,a){i||_t.test(e)?n(e,a):It(e+"["+("object"==typeof a&&null!=a?t:"")+"]",a,i,n)});else if(i||"object"!==y(t))n(e,t);else for(a in t)It(e+"["+a+"]",t[a],i,n)}m.param=function(e,t){var i,n=[],a=function(e,t){var i=p(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!m.isPlainObject(e))m.each(e,function(){a(this.name,this.value)});else for(i in e)It(i,e[i],t,a);return n.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=m.prop(this,"elements");return e?m.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!m(this).is(":disabled")&&bt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var i=m(this).val();return null==i?null:Array.isArray(i)?m.map(i,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:i.replace(St,"\r\n")}}).get()}});var vt=/%20/g,Nt=/#.*$/,Dt=/([?&])_=[^&]*/,Ct=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Lt=/^\/\//,Pt={},wt={},kt="*/".concat("*"),Vt=n.createElement("a");function Bt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,a=0,r=t.toLowerCase().match(V)||[];if(p(i))for(;n=r[a++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Mt(e,t,i,n){var a={},r=e===wt;function s(o){var l;return a[o]=!0,m.each(e[o]||[],function(e,o){var c=o(t,i,n);return"string"!=typeof c||r||a[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!a["*"]&&s("*")}function Ft(e,t){var i,n,a=m.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((a[i]?e:n||(n={}))[i]=t[i]);return n&&m.extend(!0,e,n),e}Vt.href=gt.href,m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,m.ajaxSettings),t):Ft(m.ajaxSettings,e)},ajaxPrefilter:Bt(Pt),ajaxTransport:Bt(wt),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0),i=i||{};var a,r,s,o,l,c,u,d,h,A,E=m.ajaxSetup({},i),p=E.context||E,f=E.context&&(p.nodeType||p.jquery)?m(p):m.event,T=m.Deferred(),g=m.Callbacks("once memory"),y=E.statusCode||{},_={},S={},O="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(u){if(!o)for(o={};t=Ct.exec(s);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(e,t){return null==u&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==u&&(E.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)b.always(e[b.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||O;return a&&a.abort(t),I(0,t),this}};if(T.promise(b),E.url=((t||E.url||gt.href)+"").replace(Lt,gt.protocol+"//"),E.type=i.method||i.type||E.method||E.type,E.dataTypes=(E.dataType||"*").toLowerCase().match(V)||[""],null==E.crossDomain){c=n.createElement("a");try{c.href=E.url,c.href=c.href,E.crossDomain=Vt.protocol+"//"+Vt.host!=c.protocol+"//"+c.host}catch(e){E.crossDomain=!0}}if(E.data&&E.processData&&"string"!=typeof E.data&&(E.data=m.param(E.data,E.traditional)),Mt(Pt,E,i,b),u)return b;for(h in(d=m.event&&E.global)&&0==m.active++&&m.event.trigger("ajaxStart"),E.type=E.type.toUpperCase(),E.hasContent=!Rt.test(E.type),r=E.url.replace(Nt,""),E.hasContent?E.data&&E.processData&&0===(E.contentType||"").indexOf("application/x-www-form-urlencoded")&&(E.data=E.data.replace(vt,"+")):(A=E.url.slice(r.length),E.data&&(E.processData||"string"==typeof E.data)&&(r+=(mt.test(r)?"&":"?")+E.data,delete E.data),!1===E.cache&&(r=r.replace(Dt,"$1"),A=(mt.test(r)?"&":"?")+"_="+yt+++A),E.url=r+A),E.ifModified&&(m.lastModified[r]&&b.setRequestHeader("If-Modified-Since",m.lastModified[r]),m.etag[r]&&b.setRequestHeader("If-None-Match",m.etag[r])),(E.data&&E.hasContent&&!1!==E.contentType||i.contentType)&&b.setRequestHeader("Content-Type",E.contentType),b.setRequestHeader("Accept",E.dataTypes[0]&&E.accepts[E.dataTypes[0]]?E.accepts[E.dataTypes[0]]+("*"!==E.dataTypes[0]?", "+kt+"; q=0.01":""):E.accepts["*"]),E.headers)b.setRequestHeader(h,E.headers[h]);if(E.beforeSend&&(!1===E.beforeSend.call(p,b,E)||u))return b.abort();if(O="abort",g.add(E.complete),b.done(E.success),b.fail(E.error),a=Mt(wt,E,i,b)){if(b.readyState=1,d&&f.trigger("ajaxSend",[b,E]),u)return b;E.async&&E.timeout>0&&(l=e.setTimeout(function(){b.abort("timeout")},E.timeout));try{u=!1,a.send(_,I)}catch(e){if(u)throw e;I(-1,e)}}else I(-1,"No Transport");function I(t,i,n,o){var c,h,A,_,S,O=i;u||(u=!0,l&&e.clearTimeout(l),a=void 0,s=o||"",b.readyState=t>0?4:0,c=t>=200&&t<300||304===t,n&&(_=function(e,t,i){for(var n,a,r,s,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(a in o)if(o[a]&&o[a].test(n)){l.unshift(a);break}if(l[0]in i)r=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}s||(s=a)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),i[r]}(E,b,n)),_=function(e,t,i,n){var a,r,s,o,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=u.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(a in c)if((o=a.split(" "))[1]===r&&(s=c[l+" "+o[0]]||c["* "+o[0]])){!0===s?s=c[a]:!0!==c[a]&&(r=o[0],u.unshift(o[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(E,_,b,c),c?(E.ifModified&&((S=b.getResponseHeader("Last-Modified"))&&(m.lastModified[r]=S),(S=b.getResponseHeader("etag"))&&(m.etag[r]=S)),204===t||"HEAD"===E.type?O="nocontent":304===t?O="notmodified":(O=_.state,h=_.data,c=!(A=_.error))):(A=O,!t&&O||(O="error",t<0&&(t=0))),b.status=t,b.statusText=(i||O)+"",c?T.resolveWith(p,[h,O,b]):T.rejectWith(p,[b,O,A]),b.statusCode(y),y=void 0,d&&f.trigger(c?"ajaxSuccess":"ajaxError",[b,E,c?h:A]),g.fireWith(p,[b,O]),d&&(f.trigger("ajaxComplete",[b,E]),--m.active||m.event.trigger("ajaxStop")))}return b},getJSON:function(e,t,i){return m.get(e,t,i,"json")},getScript:function(e,t){return m.get(e,void 0,t,"script")}}),m.each(["get","post"],function(e,t){m[t]=function(e,i,n,a){return p(i)&&(a=a||n,n=i,i=void 0),m.ajax(m.extend({url:e,type:t,dataType:a,data:i,success:n},m.isPlainObject(e)&&e))}}),m._evalUrl=function(e){return m.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(e){var t;return this[0]&&(p(e)&&(e=e.call(this[0])),t=m(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return p(e)?this.each(function(t){m(this).wrapInner(e.call(this,t))}):this.each(function(){var t=m(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=p(e);return this.each(function(i){m(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){m(this).replaceWith(this.childNodes)}),this}}),m.expr.pseudos.hidden=function(e){return!m.expr.pseudos.visible(e)},m.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},xt=m.ajaxSettings.xhr();E.cors=!!xt&&"withCredentials"in xt,E.ajax=xt=!!xt,m.ajaxTransport(function(t){var i,n;if(E.cors||xt&&!t.crossDomain)return{send:function(a,r){var s,o=t.xhr();if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)o[s]=t.xhrFields[s];for(s in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)o.setRequestHeader(s,a[s]);i=function(e){return function(){i&&(i=n=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?r(0,"error"):r(o.status,o.statusText):r(Ut[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=i(),n=o.onerror=o.ontimeout=i("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{o.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),m.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return m.globalEval(e),e}}}),m.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),m.ajaxTransport("script",function(e){var t,i;if(e.crossDomain)return{send:function(a,r){t=m("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),n.head.appendChild(t[0])},abort:function(){i&&i()}}});var Ht,Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||m.expando+"_"+yt++;return this[e]=!0,e}}),m.ajaxPrefilter("json jsonp",function(t,i,n){var a,r,s,o=!1!==t.jsonp&&(Yt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return a=t.jsonpCallback=p(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Yt,"$1"+a):!1!==t.jsonp&&(t.url+=(mt.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return s||m.error(a+" was not called"),s[0]},t.dataTypes[0]="json",r=e[a],e[a]=function(){s=arguments},n.always(function(){void 0===r?m(e).removeProp(a):e[a]=r,t[a]&&(t.jsonpCallback=i.jsonpCallback,Gt.push(a)),s&&p(r)&&r(s[0]),s=r=void 0}),"script"}),E.createHTMLDocument=((Ht=n.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ht.childNodes.length),m.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(E.createHTMLDocument?((a=(t=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,t.head.appendChild(a)):t=n),s=!i&&[],(r=D.exec(e))?[t.createElement(r[1])]:(r=ge([e],t,s),s&&s.length&&m(s).remove(),m.merge([],r.childNodes)));var a,r,s},m.fn.load=function(e,t,i){var n,a,r,s=this,o=e.indexOf(" ");return o>-1&&(n=ht(e.slice(o)),e=e.slice(0,o)),p(t)?(i=t,t=void 0):t&&"object"==typeof t&&(a="POST"),s.length>0&&m.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){r=arguments,s.html(n?m("<div>").append(m.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,r||[e.responseText,t,e])})}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){m.fn[t]=function(e){return this.on(t,e)}}),m.expr.pseudos.animated=function(e){return m.grep(m.timers,function(t){return e===t.elem}).length},m.offset={setOffset:function(e,t,i){var n,a,r,s,o,l,c=m.css(e,"position"),u=m(e),d={};"static"===c&&(e.style.position="relative"),o=u.offset(),r=m.css(e,"top"),l=m.css(e,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(s=(n=u.position()).top,a=n.left):(s=parseFloat(r)||0,a=parseFloat(l)||0),p(t)&&(t=t.call(e,i,m.extend({},o))),null!=t.top&&(d.top=t.top-o.top+s),null!=t.left&&(d.left=t.left-o.left+a),"using"in t?t.using.call(e,d):u.css(d)}},m.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){m.offset.setOffset(this,e,t)});var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],a={top:0,left:0};if("fixed"===m.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===m.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((a=m(e).offset()).top+=m.css(e,"borderTopWidth",!0),a.left+=m.css(e,"borderLeftWidth",!0))}return{top:t.top-a.top-m.css(n,"marginTop",!0),left:t.left-a.left-m.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===m.css(e,"position");)e=e.offsetParent;return e||ye})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;m.fn[e]=function(n){return G(this,function(e,n,a){var r;if(f(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===a)return r?r[t]:e[n];r?r.scrollTo(i?r.pageXOffset:a,i?a:r.pageYOffset):e[n]=a},e,n,arguments.length)}}),m.each(["top","left"],function(e,t){m.cssHooks[t]=He(E.pixelPosition,function(e,i){if(i)return i=xe(e,t),Me.test(i)?m(e).position()[t]+"px":i})}),m.each({Height:"height",Width:"width"},function(e,t){m.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){m.fn[n]=function(a,r){var s=arguments.length&&(i||"boolean"!=typeof a),o=i||(!0===a||!0===r?"margin":"border");return G(this,function(t,i,a){var r;return f(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===a?m.css(t,i,o):m.style(t,i,a,o)},t,s?a:void 0,s)}})}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){m.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),m.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),m.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),m.proxy=function(e,t){var i,n,a;if("string"==typeof t&&(i=e[t],t=e,e=i),p(e))return n=r.call(arguments,2),(a=function(){return e.apply(t||this,n.concat(r.call(arguments)))}).guid=e.guid=e.guid||m.guid++,a},m.holdReady=function(e){e?m.readyWait++:m.ready(!0)},m.isArray=Array.isArray,m.parseJSON=JSON.parse,m.nodeName=N,m.isFunction=p,m.isWindow=f,m.camelCase=K,m.type=y,m.now=Date.now,m.isNumeric=function(e){var t=m.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var jt=e.jQuery,Wt=e.$;return m.noConflict=function(t){return e.$===m&&(e.$=Wt),t&&e.jQuery===m&&(e.jQuery=jt),m},t||(e.jQuery=e.$=m),m})},{}],35:[function(e,t,i){var n,a,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{a="function"==typeof clearTimeout?clearTimeout:o}catch(e){a=o}}();var c,u=[],d=!1,h=-1;function A(){d&&c&&(d=!1,c.length?u=c.concat(u):h=-1,u.length&&E())}function E(){if(!d){var e=l(A);d=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,d=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new p(e,t)),1!==u.length||d||l(E)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],36:[function(e,t,i){(function(e){!function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},a=n._,r=Array.prototype,s=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,l=r.push,c=r.slice,u=s.toString,d=s.hasOwnProperty,h=Array.isArray,A=Object.keys,E=Object.create,p=function(){},f=function(e){return e instanceof f?e:this instanceof f?void(this._wrapped=e):new f(e)};void 0===i||i.nodeType?n._=f:(void 0!==t&&!t.nodeType&&t.exports&&(i=t.exports=f),i._=f),f.VERSION="1.9.1";var T,g=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,a){return e.call(t,i,n,a)};case 4:return function(i,n,a,r){return e.call(t,i,n,a,r)}}return function(){return e.apply(t,arguments)}},y=function(e,t,i){return f.iteratee!==T?f.iteratee(e,t):null==e?f.identity:f.isFunction(e)?g(e,t,i):f.isObject(e)&&!f.isArray(e)?f.matcher(e):f.property(e)};f.iteratee=T=function(e,t){return y(e,t,1/0)};var m=function(e,t){return t=null==t?e.length-1:+t,function(){for(var i=Math.max(arguments.length-t,0),n=Array(i),a=0;a<i;a++)n[a]=arguments[a+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var r=Array(t+1);for(a=0;a<t;a++)r[a]=arguments[a];return r[t]=n,e.apply(this,r)}},_=function(e){if(!f.isObject(e))return{};if(E)return E(e);p.prototype=e;var t=new p;return p.prototype=null,t},S=function(e){return function(t){return null==t?void 0:t[e]}},O=function(e,t){return null!=e&&d.call(e,t)},b=function(e,t){for(var i=t.length,n=0;n<i;n++){if(null==e)return;e=e[t[n]]}return i?e:void 0},I=Math.pow(2,53)-1,v=S("length"),N=function(e){var t=v(e);return"number"==typeof t&&t>=0&&t<=I};f.each=f.forEach=function(e,t,i){var n,a;if(t=g(t,i),N(e))for(n=0,a=e.length;n<a;n++)t(e[n],n,e);else{var r=f.keys(e);for(n=0,a=r.length;n<a;n++)t(e[r[n]],r[n],e)}return e},f.map=f.collect=function(e,t,i){t=y(t,i);for(var n=!N(e)&&f.keys(e),a=(n||e).length,r=Array(a),s=0;s<a;s++){var o=n?n[s]:s;r[s]=t(e[o],o,e)}return r};var D=function(e){return function(t,i,n,a){var r=arguments.length>=3;return function(t,i,n,a){var r=!N(t)&&f.keys(t),s=(r||t).length,o=e>0?0:s-1;for(a||(n=t[r?r[o]:o],o+=e);o>=0&&o<s;o+=e){var l=r?r[o]:o;n=i(n,t[l],l,t)}return n}(t,g(i,a,4),n,r)}};f.reduce=f.foldl=f.inject=D(1),f.reduceRight=f.foldr=D(-1),f.find=f.detect=function(e,t,i){var n=(N(e)?f.findIndex:f.findKey)(e,t,i);if(void 0!==n&&-1!==n)return e[n]},f.filter=f.select=function(e,t,i){var n=[];return t=y(t,i),f.each(e,function(e,i,a){t(e,i,a)&&n.push(e)}),n},f.reject=function(e,t,i){return f.filter(e,f.negate(y(t)),i)},f.every=f.all=function(e,t,i){t=y(t,i);for(var n=!N(e)&&f.keys(e),a=(n||e).length,r=0;r<a;r++){var s=n?n[r]:r;if(!t(e[s],s,e))return!1}return!0},f.some=f.any=function(e,t,i){t=y(t,i);for(var n=!N(e)&&f.keys(e),a=(n||e).length,r=0;r<a;r++){var s=n?n[r]:r;if(t(e[s],s,e))return!0}return!1},f.contains=f.includes=f.include=function(e,t,i,n){return N(e)||(e=f.values(e)),("number"!=typeof i||n)&&(i=0),f.indexOf(e,t,i)>=0},f.invoke=m(function(e,t,i){var n,a;return f.isFunction(t)?a=t:f.isArray(t)&&(n=t.slice(0,-1),t=t[t.length-1]),f.map(e,function(e){var r=a;if(!r){if(n&&n.length&&(e=b(e,n)),null==e)return;r=e[t]}return null==r?r:r.apply(e,i)})}),f.pluck=function(e,t){return f.map(e,f.property(t))},f.where=function(e,t){return f.filter(e,f.matcher(t))},f.findWhere=function(e,t){return f.find(e,f.matcher(t))},f.max=function(e,t,i){var n,a,r=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,l=(e=N(e)?e:f.values(e)).length;o<l;o++)null!=(n=e[o])&&n>r&&(r=n);else t=y(t,i),f.each(e,function(e,i,n){((a=t(e,i,n))>s||a===-1/0&&r===-1/0)&&(r=e,s=a)});return r},f.min=function(e,t,i){var n,a,r=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,l=(e=N(e)?e:f.values(e)).length;o<l;o++)null!=(n=e[o])&&n<r&&(r=n);else t=y(t,i),f.each(e,function(e,i,n){((a=t(e,i,n))<s||a===1/0&&r===1/0)&&(r=e,s=a)});return r},f.shuffle=function(e){return f.sample(e,1/0)},f.sample=function(e,t,i){if(null==t||i)return N(e)||(e=f.values(e)),e[f.random(e.length-1)];var n=N(e)?f.clone(e):f.values(e),a=v(n);t=Math.max(Math.min(t,a),0);for(var r=a-1,s=0;s<t;s++){var o=f.random(s,r),l=n[s];n[s]=n[o],n[o]=l}return n.slice(0,t)},f.sortBy=function(e,t,i){var n=0;return t=y(t,i),f.pluck(f.map(e,function(e,i,a){return{value:e,index:n++,criteria:t(e,i,a)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return e.index-t.index}),"value")};var C=function(e,t){return function(i,n,a){var r=t?[[],[]]:{};return n=y(n,a),f.each(i,function(t,a){var s=n(t,a,i);e(r,t,s)}),r}};f.groupBy=C(function(e,t,i){O(e,i)?e[i].push(t):e[i]=[t]}),f.indexBy=C(function(e,t,i){e[i]=t}),f.countBy=C(function(e,t,i){O(e,i)?e[i]++:e[i]=1});var R=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;f.toArray=function(e){return e?f.isArray(e)?c.call(e):f.isString(e)?e.match(R):N(e)?f.map(e,f.identity):f.values(e):[]},f.size=function(e){return null==e?0:N(e)?e.length:f.keys(e).length},f.partition=C(function(e,t,i){e[i?0:1].push(t)},!0),f.first=f.head=f.take=function(e,t,i){return null==e||e.length<1?null==t?void 0:[]:null==t||i?e[0]:f.initial(e,e.length-t)},f.initial=function(e,t,i){return c.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},f.last=function(e,t,i){return null==e||e.length<1?null==t?void 0:[]:null==t||i?e[e.length-1]:f.rest(e,Math.max(0,e.length-t))},f.rest=f.tail=f.drop=function(e,t,i){return c.call(e,null==t||i?1:t)},f.compact=function(e){return f.filter(e,Boolean)};var L=function(e,t,i,n){for(var a=(n=n||[]).length,r=0,s=v(e);r<s;r++){var o=e[r];if(N(o)&&(f.isArray(o)||f.isArguments(o)))if(t)for(var l=0,c=o.length;l<c;)n[a++]=o[l++];else L(o,t,i,n),a=n.length;else i||(n[a++]=o)}return n};f.flatten=function(e,t){return L(e,t,!1)},f.without=m(function(e,t){return f.difference(e,t)}),f.uniq=f.unique=function(e,t,i,n){f.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=y(i,n));for(var a=[],r=[],s=0,o=v(e);s<o;s++){var l=e[s],c=i?i(l,s,e):l;t&&!i?(s&&r===c||a.push(l),r=c):i?f.contains(r,c)||(r.push(c),a.push(l)):f.contains(a,l)||a.push(l)}return a},f.union=m(function(e){return f.uniq(L(e,!0,!0))}),f.intersection=function(e){for(var t=[],i=arguments.length,n=0,a=v(e);n<a;n++){var r=e[n];if(!f.contains(t,r)){var s;for(s=1;s<i&&f.contains(arguments[s],r);s++);s===i&&t.push(r)}}return t},f.difference=m(function(e,t){return t=L(t,!0,!0),f.filter(e,function(e){return!f.contains(t,e)})}),f.unzip=function(e){for(var t=e&&f.max(e,v).length||0,i=Array(t),n=0;n<t;n++)i[n]=f.pluck(e,n);return i},f.zip=m(f.unzip),f.object=function(e,t){for(var i={},n=0,a=v(e);n<a;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i};var P=function(e){return function(t,i,n){i=y(i,n);for(var a=v(t),r=e>0?0:a-1;r>=0&&r<a;r+=e)if(i(t[r],r,t))return r;return-1}};f.findIndex=P(1),f.findLastIndex=P(-1),f.sortedIndex=function(e,t,i,n){for(var a=(i=y(i,n,1))(t),r=0,s=v(e);r<s;){var o=Math.floor((r+s)/2);i(e[o])<a?r=o+1:s=o}return r};var w=function(e,t,i){return function(n,a,r){var s=0,o=v(n);if("number"==typeof r)e>0?s=r>=0?r:Math.max(r+o,s):o=r>=0?Math.min(r+1,o):r+o+1;else if(i&&r&&o)return n[r=i(n,a)]===a?r:-1;if(a!=a)return(r=t(c.call(n,s,o),f.isNaN))>=0?r+s:-1;for(r=e>0?s:o-1;r>=0&&r<o;r+=e)if(n[r]===a)return r;return-1}};f.indexOf=w(1,f.findIndex,f.sortedIndex),f.lastIndexOf=w(-1,f.findLastIndex),f.range=function(e,t,i){null==t&&(t=e||0,e=0),i||(i=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/i),0),a=Array(n),r=0;r<n;r++,e+=i)a[r]=e;return a},f.chunk=function(e,t){if(null==t||t<1)return[];for(var i=[],n=0,a=e.length;n<a;)i.push(c.call(e,n,n+=t));return i};var k=function(e,t,i,n,a){if(!(n instanceof t))return e.apply(i,a);var r=_(e.prototype),s=e.apply(r,a);return f.isObject(s)?s:r};f.bind=m(function(e,t,i){if(!f.isFunction(e))throw new TypeError("Bind must be called on a function");var n=m(function(a){return k(e,n,t,this,i.concat(a))});return n}),f.partial=m(function(e,t){var i=f.partial.placeholder,n=function(){for(var a=0,r=t.length,s=Array(r),o=0;o<r;o++)s[o]=t[o]===i?arguments[a++]:t[o];for(;a<arguments.length;)s.push(arguments[a++]);return k(e,n,this,this,s)};return n}),f.partial.placeholder=f,f.bindAll=m(function(e,t){var i=(t=L(t,!1,!1)).length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=t[i];e[n]=f.bind(e[n],e)}}),f.memoize=function(e,t){var i=function(n){var a=i.cache,r=""+(t?t.apply(this,arguments):n);return O(a,r)||(a[r]=e.apply(this,arguments)),a[r]};return i.cache={},i},f.delay=m(function(e,t,i){return setTimeout(function(){return e.apply(null,i)},t)}),f.defer=f.partial(f.delay,f,1),f.throttle=function(e,t,i){var n,a,r,s,o=0;i||(i={});var l=function(){o=!1===i.leading?0:f.now(),n=null,s=e.apply(a,r),n||(a=r=null)},c=function(){var c=f.now();o||!1!==i.leading||(o=c);var u=t-(c-o);return a=this,r=arguments,u<=0||u>t?(n&&(clearTimeout(n),n=null),o=c,s=e.apply(a,r),n||(a=r=null)):n||!1===i.trailing||(n=setTimeout(l,u)),s};return c.cancel=function(){clearTimeout(n),o=0,n=a=r=null},c},f.debounce=function(e,t,i){var n,a,r=function(t,i){n=null,i&&(a=e.apply(t,i))},s=m(function(s){if(n&&clearTimeout(n),i){var o=!n;n=setTimeout(r,t),o&&(a=e.apply(this,s))}else n=f.delay(r,t,this,s);return a});return s.cancel=function(){clearTimeout(n),n=null},s},f.wrap=function(e,t){return f.partial(t,e)},f.negate=function(e){return function(){return!e.apply(this,arguments)}},f.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},f.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},f.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}},f.once=f.partial(f.before,2),f.restArguments=m;var V=!{toString:null}.propertyIsEnumerable("toString"),B=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],M=function(e,t){var i=B.length,n=e.constructor,a=f.isFunction(n)&&n.prototype||s,r="constructor";for(O(e,r)&&!f.contains(t,r)&&t.push(r);i--;)(r=B[i])in e&&e[r]!==a[r]&&!f.contains(t,r)&&t.push(r)};f.keys=function(e){if(!f.isObject(e))return[];if(A)return A(e);var t=[];for(var i in e)O(e,i)&&t.push(i);return V&&M(e,t),t},f.allKeys=function(e){if(!f.isObject(e))return[];var t=[];for(var i in e)t.push(i);return V&&M(e,t),t},f.values=function(e){for(var t=f.keys(e),i=t.length,n=Array(i),a=0;a<i;a++)n[a]=e[t[a]];return n},f.mapObject=function(e,t,i){t=y(t,i);for(var n=f.keys(e),a=n.length,r={},s=0;s<a;s++){var o=n[s];r[o]=t(e[o],o,e)}return r},f.pairs=function(e){for(var t=f.keys(e),i=t.length,n=Array(i),a=0;a<i;a++)n[a]=[t[a],e[t[a]]];return n},f.invert=function(e){for(var t={},i=f.keys(e),n=0,a=i.length;n<a;n++)t[e[i[n]]]=i[n];return t},f.functions=f.methods=function(e){var t=[];for(var i in e)f.isFunction(e[i])&&t.push(i);return t.sort()};var F=function(e,t){return function(i){var n=arguments.length;if(t&&(i=Object(i)),n<2||null==i)return i;for(var a=1;a<n;a++)for(var r=arguments[a],s=e(r),o=s.length,l=0;l<o;l++){var c=s[l];t&&void 0!==i[c]||(i[c]=r[c])}return i}};f.extend=F(f.allKeys),f.extendOwn=f.assign=F(f.keys),f.findKey=function(e,t,i){t=y(t,i);for(var n,a=f.keys(e),r=0,s=a.length;r<s;r++)if(t(e[n=a[r]],n,e))return n};var U,x,H=function(e,t,i){return t in i};f.pick=m(function(e,t){var i={},n=t[0];if(null==e)return i;f.isFunction(n)?(t.length>1&&(n=g(n,t[1])),t=f.allKeys(e)):(n=H,t=L(t,!1,!1),e=Object(e));for(var a=0,r=t.length;a<r;a++){var s=t[a],o=e[s];n(o,s,e)&&(i[s]=o)}return i}),f.omit=m(function(e,t){var i,n=t[0];return f.isFunction(n)?(n=f.negate(n),t.length>1&&(i=t[1])):(t=f.map(L(t,!1,!1),String),n=function(e,i){return!f.contains(t,i)}),f.pick(e,n,i)}),f.defaults=F(f.allKeys,!0),f.create=function(e,t){var i=_(e);return t&&f.extendOwn(i,t),i},f.clone=function(e){return f.isObject(e)?f.isArray(e)?e.slice():f.extend({},e):e},f.tap=function(e,t){return t(e),e},f.isMatch=function(e,t){var i=f.keys(t),n=i.length;if(null==e)return!n;for(var a=Object(e),r=0;r<n;r++){var s=i[r];if(t[s]!==a[s]||!(s in a))return!1}return!0},U=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;return("function"===a||"object"===a||"object"==typeof t)&&x(e,t,i,n)},x=function(e,t,i,n){e instanceof f&&(e=e._wrapped),t instanceof f&&(t=t._wrapped);var a=u.call(e);if(a!==u.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return o.valueOf.call(e)===o.valueOf.call(t)}var r="[object Array]"===a;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,l=t.constructor;if(s!==l&&!(f.isFunction(s)&&s instanceof s&&f.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var c=(i=i||[]).length;c--;)if(i[c]===e)return n[c]===t;if(i.push(e),n.push(t),r){if((c=e.length)!==t.length)return!1;for(;c--;)if(!U(e[c],t[c],i,n))return!1}else{var d,h=f.keys(e);if(c=h.length,f.keys(t).length!==c)return!1;for(;c--;)if(d=h[c],!O(t,d)||!U(e[d],t[d],i,n))return!1}return i.pop(),n.pop(),!0},f.isEqual=function(e,t){return U(e,t)},f.isEmpty=function(e){return null==e||(N(e)&&(f.isArray(e)||f.isString(e)||f.isArguments(e))?0===e.length:0===f.keys(e).length)},f.isElement=function(e){return!(!e||1!==e.nodeType)},f.isArray=h||function(e){return"[object Array]"===u.call(e)},f.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},f.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){f["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),f.isArguments(arguments)||(f.isArguments=function(e){return O(e,"callee")});var G=n.document&&n.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof G&&(f.isFunction=function(e){return"function"==typeof e||!1}),f.isFinite=function(e){return!f.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},f.isNaN=function(e){return f.isNumber(e)&&isNaN(e)},f.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},f.isNull=function(e){return null===e},f.isUndefined=function(e){return void 0===e},f.has=function(e,t){if(!f.isArray(t))return O(e,t);for(var i=t.length,n=0;n<i;n++){var a=t[n];if(null==e||!d.call(e,a))return!1;e=e[a]}return!!i},f.noConflict=function(){return n._=a,this},f.identity=function(e){return e},f.constant=function(e){return function(){return e}},f.noop=function(){},f.property=function(e){return f.isArray(e)?function(t){return b(t,e)}:S(e)},f.propertyOf=function(e){return null==e?function(){}:function(t){return f.isArray(t)?b(e,t):e[t]}},f.matcher=f.matches=function(e){return e=f.extendOwn({},e),function(t){return f.isMatch(t,e)}},f.times=function(e,t,i){var n=Array(Math.max(0,e));t=g(t,i,1);for(var a=0;a<e;a++)n[a]=t(a);return n},f.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},f.now=Date.now||function(){return(new Date).getTime()};var Y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=f.invert(Y),W=function(e){var t=function(t){return e[t]},i="(?:"+f.keys(e).join("|")+")",n=RegExp(i),a=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(a,t):e}};f.escape=W(Y),f.unescape=W(j),f.result=function(e,t,i){f.isArray(t)||(t=[t]);var n=t.length;if(!n)return f.isFunction(i)?i.call(e):i;for(var a=0;a<n;a++){var r=null==e?void 0:e[t[a]];void 0===r&&(r=i,a=n),e=f.isFunction(r)?r.call(e):r}return e};var K=0;f.uniqueId=function(e){var t=++K+"";return e?e+t:t},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(e){return"\\"+q[e]};f.template=function(e,t,i){!t&&i&&(t=i),t=f.defaults({},t,f.templateSettings);var n,a=RegExp([(t.escape||z).source,(t.interpolate||z).source,(t.evaluate||z).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(a,function(t,i,n,a,o){return s+=e.slice(r,o).replace(X,Q),r=o+t.length,i?s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(t.variable||"obj","_",s)}catch(e){throw e.source=s,e}var o=function(e){return n.call(this,e,f)},l=t.variable||"obj";return o.source="function("+l+"){\n"+s+"}",o},f.chain=function(e){var t=f(e);return t._chain=!0,t};var Z=function(e,t){return e._chain?f(t).chain():t};f.mixin=function(e){return f.each(f.functions(e),function(t){var i=f[t]=e[t];f.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),Z(this,i.apply(f,e))}}),f},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];f.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],Z(this,i)}}),f.each(["concat","join","slice"],function(e){var t=r[e];f.prototype[e]=function(){return Z(this,t.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,i){"use strict";var n;n={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",makeDOMException:function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(t){var e=new Error("DOM Exception 5");return e.code=e.number=5,e.name=e.description="INVALID_CHARACTER_ERR",e.toString=function(){return"Error: "+e.name+": "+e.message},e}},getbyte64:function(e,t){var i=n.ALPHA.indexOf(e.charAt(t));if(-1===i)throw n.makeDOMException();return i},decode:function(e){e=""+e;var t,i,a,r=n.getbyte64,s=e.length;if(0===s)return e;if(s%4!=0)throw n.makeDOMException();t=0,e.charAt(s-1)===n.PADCHAR&&(t=1,e.charAt(s-2)===n.PADCHAR&&(t=2),s-=4);var o=[];for(i=0;i<s;i+=4)a=r(e,i)<<18|r(e,i+1)<<12|r(e,i+2)<<6|r(e,i+3),o.push(String.fromCharCode(a>>16,a>>8&255,255&a));switch(t){case 1:a=r(e,i)<<18|r(e,i+1)<<12|r(e,i+2)<<6,o.push(String.fromCharCode(a>>16,a>>8&255));break;case 2:a=r(e,i)<<18|r(e,i+1)<<12,o.push(String.fromCharCode(a>>16))}return o.join("")},getbyte:function(e,t){var i=e.charCodeAt(t);if(i>255)throw n.makeDOMException();return i},encode:function(e){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var t,i,a=n.PADCHAR,r=n.ALPHA,s=n.getbyte,o=[],l=(e=""+e).length-e.length%3;if(0===e.length)return e;for(t=0;t<l;t+=3)i=s(e,t)<<16|s(e,t+1)<<8|s(e,t+2),o.push(r.charAt(i>>18)),o.push(r.charAt(i>>12&63)),o.push(r.charAt(i>>6&63)),o.push(r.charAt(63&i));switch(e.length-l){case 1:i=s(e,t)<<16,o.push(r.charAt(i>>18)+r.charAt(i>>12&63)+a+a);break;case 2:i=s(e,t)<<16|s(e,t+1)<<8,o.push(r.charAt(i>>18)+r.charAt(i>>12&63)+r.charAt(i>>6&63)+a)}return o.join("")}},window.base64=n},{}],38:[function(e,t,i){"use strict";var n=function(e,t){var i=function t(i){if(this.config=i||{},!e.isObject(this.config))throw new Error("Hazmat is not initialized properly");this.fail=e.isFunction(this.config.fail)?this.config.fail:t.fail,this.warn=e.isFunction(this.config.warn)?this.config.warn:t.warn,this.log=e.isFunction(this.config.log)?this.config.log:t.log};return e.extend(i,{ID_REGEX:/^[\_\-A-Za-z0-9]+$/,create:function(e){return new i(e)},noConflict:function(){return t.Hazmat=i.original,i},log:function(){window.console&&e.isFunction(window.console.log)&&window.console.log.apply(window.console,arguments)},fail:function(e,t){var n=e||"";throw i.log("Hazmat Failure::",n,t||{}),new Error("Hazmat Failure "+n.toString())},warn:function(e,t){i.log("Hazmat Warning::",e||"",t||{})},fixDomId:function(t){return e.isString(t)&&t.length>0?t.replace(/[^A-Za-z0-9\_]/g,""):null},isDomId:function(t){return e.isString(t)&&t.match(i.ID_REGEX)},__placeholder:!0}),e.extend(i.prototype,{_safeValue:function(t,i,n,a){var r=n;return e.isFunction(n)&&(n=e.once(function(){try{return r.apply(this,arguments)}catch(e){}})),a.checker(i)?i:a.evalFallback&&e.isFunction(n)&&a.checker(n(i))?(this.warn("Expected valid "+a.name+" for "+t+" but was able to sanitize it:",[i,n(i)]),n(i)):a.checker(r)?(this.warn("Expected valid "+a.name+" for "+t+" but was able to fallback to default value:",[i,r]),r):void this.fail("Expected valid "+a.name+" for "+t+" but received:",i)},safeString:function(t,i,n){return this._safeValue(t,i,n,{name:"String",checker:e.isString,evalFallback:!0})},safeStringOrNull:function(t,i,n){return null==i?i:this._safeValue(t,i,n,{name:"String",checker:e.isString,evalFallback:!0})},safeDomId:function(e,t,n){return this._safeValue(e,t,n,{name:"DOM ID",checker:i.isDomId,evalFallback:!0})},safeFunction:function(t,i,n){return this._safeValue(t,i,n,{name:"Function",checker:e.isFunction,evalFallback:!1})},safeFunctionOrNull:function(t,i,n){return null==i?i:this._safeValue(t,i,n,{name:"Function",checker:e.isFunction,evalFallback:!1})},safeObject:function(t,i,n){return this._safeValue(t,i,n,{name:"Object",checker:e.isObject,evalFallback:!1})},safeObjectOrNull:function(t,i,n){return null==i?i:this._safeValue(t,i,n,{name:"Object",checker:e.isObject,evalFallback:!1})},safeArray:function(t,i,n){return this._safeValue(t,i,n,{name:"Array",checker:e.isArray,evalFallback:!1})},safeArrayOfElements:function(t,i,n,a){var r=this._safeValue(t,i,a,{name:"Array",checker:e.isArray,evalFallback:!1});return e.map(r,n)},__placeholder:!0}),i},a=e("underscore");if("undefined"!=typeof window&&void 0!==a){(r=n(a,window)).original=window.Hazmat,window.Hazmat=r}else{var r=n(a);a.extend(i,r)}},{underscore:36}],39:[function(e,t,i){"use strict";!function(e,t,i){window.XDomainRequest&&e.$.ajaxTransport(function(t){var i;if(t.crossDomain&&t.async)return t.timeout&&(t.xdrTimeout=t.timeout,delete t.timeout),{send:function(n,a){function r(t,n,r,s){i.onload=i.onerror=i.ontimeout=e.$.noop,i=void 0,a(t,n,r,s)}(i=new XDomainRequest).open(t.type,t.url),i.onload=function(){r(200,"OK",{text:i.responseText},"Content-Type: "+i.contentType)},i.onerror=function(){r(404,"Not Found")},i.onprogress=function(){},t.xdrTimeout&&(i.ontimeout=function(){r(0,"timeout")},i.timeout=t.xdrTimeout),i.send(t.hasContent&&t.data||null)},abort:function(){i&&(i.onerror=e.$.noop(),i.abort())}}}),t.getScriptRetry=function(e,n,a){var r=(a=a||{}).error;i.each(["error","dataType","success"],function(e){delete a[e]});var s={url:e,type:"get",dataType:"script",success:n,cache:!0,timeout:5e3,tryCount:0,retryLimit:1,warning:!1,warningMessage:"Can not load URL",error:function(){this.tryCount<this.retryLimit?(this.tryCount++,t.ajax(this)):(this.warning&&alert(this.warningMessage),r&&r.apply(null,arguments))}};i.extend(s,a),t.ajax(s)}}(OO,OO.$,OO._)},{}],40:[function(e,t,i){"use strict";var n,a,r,s,o,l,c,u,d,h,A,E,p,f,T,g;n=function(e){var t,i=[],n=8*e.length;for(t=0;t<n;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<24-t%32;return i},a=function(e){var t,i,n=[],a=e.length;for(t=0;t<a;t+=2){if(i=parseInt(e.substr(t,2),16),isNaN(i))return"INVALID HEX STRING";n[t>>3]|=i<<24-t%8*4}return n},r=function(e){var t,i,n="0123456789abcdef",a="",r=4*e.length;for(t=0;t<r;t+=1)i=e[t>>2]>>8*(3-t%4),a+=n.charAt(i>>4&15)+n.charAt(15&i);return a},s=function(e){var t,i,n,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",s=4*e.length;for(t=0;t<s;t+=3)for(n=(e[t>>2]>>8*(3-t%4)&255)<<16|(e[t+1>>2]>>8*(3-(t+1)%4)&255)<<8|e[t+2>>2]>>8*(3-(t+2)%4)&255,i=0;i<4;i+=1)8*t+6*i<=32*e.length?r+=a.charAt(n>>6*(3-i)&63):r+="";return r},o=function(e,t){return e>>>t|e<<32-t},l=function(e,t){return e>>>t},c=function(e,t,i){return e&t^~e&i},u=function(e,t,i){return e&t^e&i^t&i},d=function(e){return o(e,2)^o(e,13)^o(e,22)},h=function(e){return o(e,6)^o(e,11)^o(e,25)},A=function(e){return o(e,7)^o(e,18)^l(e,3)},E=function(e,t){var i=(65535&e)+(65535&t);return(65535&(e>>>16)+(t>>>16)+(i>>>16))<<16|65535&i},p=function(e,t,i,n){var a=(65535&e)+(65535&t)+(65535&i)+(65535&n);return(65535&(e>>>16)+(t>>>16)+(i>>>16)+(n>>>16)+(a>>>16))<<16|65535&a},f=function(e,t,i,n,a){var r=(65535&e)+(65535&t)+(65535&i)+(65535&n)+(65535&a);return(65535&(e>>>16)+(t>>>16)+(i>>>16)+(n>>>16)+(a>>>16)+(r>>>16))<<16|65535&r},T=function(e,t,i){var n,a,r,s,T,g,y,m,_,S,O,b,I,v,N,D,C,R=[];for("SHA-224"!==i&&"SHA-256"!==i||(b=15+(t+65>>9<<4),N=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],O="SHA-224"===i?[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]:[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),e[t>>5]|=128<<24-t%32,e[b]=t,D=e.length,I=0;I<D;I+=16){for(n=O[0],a=O[1],r=O[2],s=O[3],T=O[4],g=O[5],y=O[6],m=O[7],v=0;v<64;v+=1)R[v]=v<16?e[v+I]:p((C=R[v-2],o(C,17)^o(C,19)^l(C,10)),R[v-7],A(R[v-15]),R[v-16]),_=f(m,h(T),c(T,g,y),N[v],R[v]),S=E(d(n),u(n,a,r)),m=y,y=g,g=T,T=E(s,_),s=r,r=a,a=n,n=E(_,S);O[0]=E(n,O[0]),O[1]=E(a,O[1]),O[2]=E(r,O[2]),O[3]=E(s,O[3]),O[4]=E(T,O[4]),O[5]=E(g,O[5]),O[6]=E(y,O[6]),O[7]=E(m,O[7])}switch(i){case"SHA-224":return[O[0],O[1],O[2],O[3],O[4],O[5],O[6]];case"SHA-256":return O;default:return[]}},(g=function(e,t){if(this.sha224=null,this.sha256=null,this.strBinLen=null,this.strToHash=null,"HEX"===t){if(e.length%2!=0)return"TEXT MUST BE IN BYTE INCREMENTS";this.strBinLen=4*e.length,this.strToHash=a(e)}else{if("ASCII"!==t&&void 0!==t)return"UNKNOWN TEXT INPUT TYPE";this.strBinLen=8*e.length,this.strToHash=n(e)}}).prototype={getHash:function(e,t){var i=null,n=this.strToHash.slice();switch(t){case"HEX":i=r;break;case"B64":i=s;break;default:return"FORMAT NOT RECOGNIZED"}switch(e){case"SHA-224":return null===this.sha224&&(this.sha224=T(n,this.strBinLen,e)),i(this.sha224);case"SHA-256":return null===this.sha256&&(this.sha256=T(n,this.strBinLen,e)),i(this.sha256);default:return"HASH NOT RECOGNIZED"}},getHMAC:function(e,t,i,o){var l,c,u,d,h,A,E=[],p=[];switch(o){case"HEX":l=r;break;case"B64":l=s;break;default:return"FORMAT NOT RECOGNIZED"}switch(i){case"SHA-224":A=224;break;case"SHA-256":A=256;break;default:return"HASH NOT RECOGNIZED"}if("HEX"===t){if(e.length%2!=0)return"KEY MUST BE IN BYTE INCREMENTS";c=a(e),h=4*e.length}else{if("ASCII"!==t)return"UNKNOWN KEY INPUT TYPE";c=n(e),h=8*e.length}for(h/8>64?(c=T(c,h,i))[15]&=4294967040:h/8<64&&(c[15]&=4294967040),u=0;u<=15;u+=1)E[u]=909522486^c[u],p[u]=1549556828^c[u];return d=T(E.concat(this.strToHash),512+this.strBinLen,i),l(d=T(p.concat(d),512+A,i))}},window.jsSHA=g},{}],41:[function(e,t,i){"use strict";window.LZW={encode:function(e){for(var t,i={},n=(e+"").split(""),a=[],r=n[0],s=256,o=1;o<n.length;o++)null!=i[r+(t=n[o])]?r+=t:(a.push(r.length>1?i[r]:r.charCodeAt(0)),i[r+t]=s,s++,r=t);a.push(r.length>1?i[r]:r.charCodeAt(0));for(o=0;o<a.length;o++)a[o]=String.fromCharCode(a[o]);return a.join("")},decode:function(e){for(var t,i={},n=(e+"").split(""),a=n[0],r=a,s=[a],o=256,l=1;l<n.length;l++){var c=n[l].charCodeAt(0);t=c<256?n[l]:i[c]?i[c]:r+a,s.push(t),a=t.charAt(0),i[o]=r+a,o++,r=t}return s.join("")}}},{}],42:[function(e,t,i){(function(t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/typeof"));!function(e,a,r){var s;!function(){var e=function(e,a){if("undefined"==typeof WinJS){var r=void 0!==t&&t.versions&&!!t.versions.node?i:a;"undefined"!=typeof window&&(r=window),r||console.log((new Error).stack);for(var s=e.split("."),o=r,l=0;l<s.length;l++){var c=s[l];if(o[c]){var u=s.slice(0,l).join(".");if("object"!=(0,n.default)(o[c]))throw new Error("Namespace error: the name '"+u+"' already exists and is not a namespace.")}else o[c]={};o=o[c]}}else WinJS.Namespace.define(e,{})};e("Ooyala.Util",this),Ooyala.Util.createNamespace=e}(),function(){Ooyala.Util.createNamespace("Ooyala.Analytics",this),Ooyala.Analytics._GuidManager=function(){this._guid_key_name="ooyala_guid"},Ooyala.Analytics._GuidManager.prototype={_isGuidInLocalStorage:function(){return"undefined"!=typeof Storage&&null!==localStorage.getItem(this._guid_key_name)},_getGuidFromLocalStorage:function(){return"undefined"!=typeof Storage?localStorage.getItem(this._guid_key_name):null},_getRandomString:function(){return(new Date).getTime()+Math.random().toString(16).split(".")[1]},_generateGuid:function(){return Ooyala.ThirdParty.SHA256.sha256ToBase64String(this._getRandomString())},_setGuid:function(e){return"undefined"!=typeof Storage&&(localStorage.setItem(this._guid_key_name,e),!0)},getOrGenerateGuid:function(e){var t=this._generateGuid();return e||(this._isGuidInLocalStorage()?t=this._getGuidFromLocalStorage():this._setGuid(t)),t}}}(),Ooyala.Util.createNamespace("Ooyala.ThirdParty.SHA256",this),function(){function e(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function t(e,t){return e>>>t|e<<32-t}function i(e,t){return e>>>t}function n(e,t,i){return e&t^~e&i}function a(e,t,i){return e&t^e&i^t&i}function r(e){return t(e,2)^t(e,13)^t(e,22)}function s(e){return t(e,6)^t(e,11)^t(e,25)}function o(e){return t(e,7)^t(e,18)^i(e,3)}function l(e){return t(e,17)^t(e,19)^i(e,10)}function c(t,i){var c,u,d,h,A,E,p,f,T,g,y=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),m=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),_=new Array(64);t[i>>5]|=128<<24-i%32,t[15+(i+64>>9<<4)]=i;for(var S=0;S<t.length;S+=16){c=m[0],u=m[1],d=m[2],h=m[3],A=m[4],E=m[5],p=m[6],f=m[7];for(var O=0;O<64;O++)_[O]=O<16?t[O+S]:e(e(e(l(_[O-2]),_[O-7]),o(_[O-15])),_[O-16]),T=e(e(e(e(f,s(A)),n(A,E,p)),y[O]),_[O]),g=e(r(c),a(c,u,d)),f=p,p=E,E=A,A=e(h,T),h=d,d=u,u=c,c=e(T,g);m[0]=e(c,m[0]),m[1]=e(u,m[1]),m[2]=e(d,m[2]),m[3]=e(h,m[3]),m[4]=e(A,m[4]),m[5]=e(E,m[5]),m[6]=e(p,m[6]),m[7]=e(f,m[7])}return m}function u(e){for(var t=Array(),i=(1<<d)-1,n=0;n<e.length*d;n+=d)t[n>>5]|=(e.charCodeAt(n/d)&i)<<24-n%32;return t}var d=8,h=0;Ooyala.ThirdParty.SHA256.sha256ToHexString=function(e){return function(e){for(var t=h?"0123456789ABCDEF":"0123456789abcdef",i="",n=0;n<4*e.length;n++)i+=t.charAt(e[n>>2]>>8*(3-n%4)+4&15)+t.charAt(e[n>>2]>>8*(3-n%4)&15);return i}(c(u(e),e.length*d))},Ooyala.ThirdParty.SHA256.sha256ToBase64String=function(e){return function(e){for(var t="",i=0;i<4*e.length;i+=3)for(var n=(e[i>>2]>>8*(3-i%4)&255)<<16|(e[i+1>>2]>>8*(3-(i+1)%4)&255)<<8|e[i+2>>2]>>8*(3-(i+2)%4)&255,a=0;a<4;a++)t+=8*i+6*a>32*e.length?"":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6*(3-a)&63);return t}(c(u(e),e.length*d))},Ooyala.ThirdParty.SHA256.sha256ToString=function(e){return function(e){for(var t="",i=(1<<d)-1,n=0;n<32*e.length;n+=d)t+=String.fromCharCode(e[n>>5]>>>24-n%32&i);return t}(c(u(e),e.length*d))}}(),function(e){function t(e){return e={eventName:e.name,time:(new Date).toISOString()}}function i(e){Date.now()+this._priorityIntervals[e]<this._flushTime&&(this._flushTimeout&&clearTimeout(this._flushTimeout),this._flushTimeout=setTimeout(function(){s.call(this)}.bind(this),this._priorityIntervals[e]),this._flushTime=Date.now()+this._priorityIntervals[e])}function a(e){if(e>0){var i=t(g.PLAYHEAD_UPDATE);i.playheadPositionMillis=Math.floor(e),v.call(this,i,g.PLAYHEAD_UPDATE.priority)}}function r(e){if(e>0){var i=t(g.TIME_PLAYED);i.timePlayedMillis=e,v.call(this,i,g.TIME_PLAYED.priority),this._timePlayed=0}}function s(){var e=Date.now()/1e3,t=new Date;this._base.clientTime=t.toISOString(),r.call(this,this._timePlayedMillis),a.call(this,this._playheadPositionMillis),this._base.events=this._pendingEvents,function(e){new Ooyala.HttpRequester(e,this._iqEndpoint,this._base.disablePiiLogging)}.call(this,this._base),this._pendingEvents=[],this._flushTime=Number.MAX_VALUE,this._lastFlush=e}function o(e){this._buckets.watched[e]||(this._buckets.watched[e]=!0,function(e){var i=t(g.PERCENTAGE_WATCHED);i.startMille=25*e+1,i.endMille=25*e+25,v.call(this,i,g.PERCENTAGE_WATCHED.priority),this._buckets.watchedCount++,function(e){for(;e/10>this._nextPlaythroughToReport||100==this._nextPlaythroughToReport&&e/10>95;){var i=t(g.PLAYTHROUGH_PERCENT);i.percent=Math.floor(this._nextPlaythroughToReport),v.call(this,i,g.PLAYTHROUGH_PERCENT.priority),this._nextPlaythroughToReport+=25}}.call(this,i.endMille)}.call(this,e)),this._buckets.current!==e&&(function(e){var i=t(g.BUCKETS_WATCHED);i.startMille=25*e+1,i.endMille=25*e+25,v.call(this,i,g.BUCKETS_WATCHED.priority)}.call(this,e),this._buckets.current=e)}function l(e){var i=t(e);v.call(this,i,e.priority)}function c(e){var t=new Error(e.message);return t.name=e.name,t}function u(){this._buckets={watched:[],current:-1,startingTimes:[],count:40,watchedCount:0},this._nextPlaythroughToReport=25,this._playheadPositionMillis=0,this._timePlayed=0,this._lastTimePlayed=0,this._timePlayedMillis=0,this._base.source={},this._base.plugins=[],this._bufferingStartedTime=0,this._bufferingTime=0,this._adBreakStartedTime=0,this._adBreakTime=0,this._playRequestedTime=0,this._joinTime=0}function d(e,t,i,n,a,r){var s={},o={};if(s.uiTag=i,s.contentSource=n,e.hasOwnProperty("ooyalaDiscoveryContext"))o=e.ooyalaDiscoveryContext;else{if(!e.hasOwnProperty("bucket_info")){var l=c(y.MISSING_DISCOVERY_CONTEXT);throw l.message=l.message.replace("{{asset}}",JSON.stringify(e)),l}o.version="1",o.data=function(e){if(e&&e.length>0&&"2"==e.charAt(0)){var t=JSON.parse(e.substring(1));return window.atob(t.encoded)}var i=c(y.INVALID_BUCKET_INFO);throw i.message=i.message.replace("{{bucket_info}}",e),i}(e.bucket_info)}return t&&(o.customData=t),s.ooyalaDiscoveryContext=JSON.stringify(o),s.pageSize=a,s.assetPosition=r,s}function h(e){var t=Ooyala.Analytics.MediaContentType.OOYALA_CONTENT,i="";return e.hasOwnProperty("id_type")&&(t=e.id_type),e.hasOwnProperty("embed_code")&&(i=e.embed_code),{id:i,idType:t}}function A(e){if(!e.hasOwnProperty("name")||!e.hasOwnProperty("active"))return c(y.PLUGIN_FIELDS_MISSING);for(var t in e)if("name"!==t&&"active"!==t&&"version"!==t){var i=c(y.PLUGIN_FIELD_INVALID);return i.message=i.message.replace("{{field}}",t),i}return null}function E(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var p=0,f=1,T=2,g={PLAYER_LOAD:{name:"playerLoad",priority:T},DISPLAY:{name:"display",priority:T},PLAY_REQUESTED:{name:"playRequested",priority:T},VIDEO_STARTED:{name:"videoStarted",priority:T},PLAYTHROUGH_PERCENT:{name:"playthroughPercent",priority:T},PERCENTAGE_WATCHED:{name:"percentageWatched",priority:f},BUCKETS_WATCHED:{name:"bucketWatched",priority:f},REPLAY:{name:"replay",priority:T},SEEK:{name:"seek",priority:f},PAUSE:{name:"pause",priority:f},RESUME:{name:"resume",priority:f},TIME_PLAYED:{name:"timePlayed",priority:p},PLAYHEAD_UPDATE:{name:"playheadUpdate",priority:p},CUSTOM:{name:"custom",priority:f},OFFLINE_CONTENT_ACQUIRED:{name:"offlineContentAcquired",priority:T},ASSET_IMPRESSION:{name:"assetImpression",priority:f},ASSET_CLICK:{name:"assetClick",priority:T}},y={INVALID_DOWNLOAD_TYPE:{name:"InvalidDownloadType",message:"Not a valid download type for offline content, Download type should be own/rental."},MISSING_DISCOVERY_CONTEXT:{name:"MissingDiscoveryContext",message:"Missing ooyalaDiscoveryContext or bucket_info for {{asset}}."},INVALID_BUCKET_INFO:{name:"InvalidBucketInfo",message:"Not a version 2 bucket_info: {{bucket_info}}."},PLUGIN_FIELDS_MISSING:{name:"PluginFieldsMissing",message:"Plugin missing required fields - name and active."},PLUGIN_FIELD_INVALID:{name:"PluginFieldInvalid",message:"Plugin contains invalid field {{field}}."},PLUGINS_NOT_AN_ARRAY:{name:"PluginsNotAnArray",message:"Plugins must be an array."},INVALID_CUSTOM_DIMENSION:{name:"InvalidCustomObject",message:"The custom dimensions can only contain string, numerals or boolean values. They cannot contain complex objects."},GEO_FIELD_INVALID:{name:"GeoFieldInvalid",message:"Geo contains invalid field {{field}}."}},m="video_buffering_started",_="video_buffering_ended",S="videoBufferingTime",O="ad_break_started",b="ad_break_ended",I="joinTime",v=function(e,t){e.sequenceNum=this._currentSequenceNumber,i.call(this,t),this._pendingEvents.push(e),this._currentSequenceNumber++};Ooyala.Util.createNamespace("Ooyala.Analytics",e),Ooyala.Analytics.Reporter=function(e,t,i){this._base={},this._base.asset={},this._base.sessionId=t||E(),this._base.contentSessionId="",this._base.pcode=e,this._base.disablePiiLogging=i||!1,this._base.sessionStartTime=(new Date).toISOString(),this._base.analyticsSdkName="ooyala-iq-analytics-js-sdk",this._base.analyticsSdkVersion="1.0.21.3.0",this._base.player={playerInfo:{}},this._base.documentUrl=null,this._base.device={deviceInfo:{}},this._base.user={},this._lastFlush=0,this._liveContent=!1,this._contentDuration=0,this._date=new Date,this._pendingEvents=[],this._currentSequenceNumber=0,this._flushTime=Number.MAX_VALUE,this._priorityIntervals=[1e4,5e3,1e3],this._seek={start:0,end:0},this._hasContentStarted=!1,this._flushTimeout=null,this._lastClickedAsset={};this._iqEndpoint="https://l-staging.ooyala.com/v3/analytics/events",u.call(this)},Ooyala.Analytics.Reporter.prototype={setIQBackendURL:function(e){this._iqEndpoint=e},setDocumentURL:function(e){this._base.documentUrl=e},setDeviceInfo:function(e,t,i,n){e||(e=(new Ooyala.Analytics._GuidManager).getOrGenerateGuid(n));var a={};for(var r in t)a[r]=t[r];this._base.device={id:e,deviceInfo:a},this._base.userAgent=i},setUserInfo:function(e,t,i,n,a){var r={};for(var s in n){if("countryCode"!==s&&"region"!==s&&"state"!==s&&"city"!==s&&"latitude"!==s&&"longitude"!==s&&"geoVendor"!==s){var o=c(y.GEO_FIELD_INVALID);throw o.message=o.message.replace("{{field}}",s),o}r[s]=n[s]}this._base.user={emailHashMD5:e,userId:t,gender:i,geo:r,isSubscriber:null!=a&&a}},setPlayerInfo:function(e,t,i){this._base.player={id:e,name:t,version:i}},setSessionId:function(e){this._base.sessionId=e},reportPlayerLoad:function(){l.call(this,g.PLAYER_LOAD)},initializeMedia:function(e,t,i){u.call(this),this._base.asset.id=e,this._base.asset.idType=t,this._base.contentSessionId=i||E(),this._lastClickedAsset.hasOwnProperty("id")&&(e===this._lastClickedAsset.id&&t===this._lastClickedAsset.idType?this.updateTopLevelSource(this._lastClickedAsset.source):this._lastClickedAsset={})},setMediaDuration:function(e){this._contentDuration=e,e<=0?this._liveContent=!0:function(e){for(var t=e/this._buckets.count,i=0;i<this._buckets.count;i++)this._buckets.startingTimes[i]=i*t}.call(this,e),l.call(this,g.DISPLAY)},reportPlayRequested:function(e){var i=t(g.PLAY_REQUESTED);i.isAutoPlay=e||!1,this._playRequestedTime=(new Date).getTime(),v.call(this,i,g.PLAY_REQUESTED.priority)},setPlugins:function(e){if(e){if("[object Array]"!=Object.prototype.toString.call(e))throw c(y.PLUGINS_NOT_AN_ARRAY);for(var t in e){var i=A(e[t]);if(i)throw i}this._base.plugins=e}},reportOfflineContentAcquired:function(e){if(e!=Ooyala.Analytics.OfflineContentDownloadType.FOR_RENT&&e!=Ooyala.Analytics.OfflineContentDownloadType.TO_OWN)throw c(y.INVALID_DOWNLOAD_TYPE);var i=t(g.OFFLINE_CONTENT_ACQUIRED);i.downloadType=e,v.call(this,i,g.OFFLINE_CONTENT_ACQUIRED.priority)},reportReplay:function(){var e=t(g.REPLAY);e.isAutoPlay=!1,v.call(this,e,g.REPLAY.priority)},reportPlaybackStarted:function(){0!==this._playRequestedTime&&(this._joinTime=0===this._adBreakTime?(new Date).getTime()-this._playRequestedTime:(new Date).getTime()-this._playRequestedTime-this._adBreakTime,this.reportPrecalculatedEvent(I),this._adBreakTime=0,this._playRequestedTime=0),l.call(this,g.VIDEO_STARTED)},reportPlayHeadUpdate:function(e){if(this._timePlayed=this._timePlayed+(e-this._lastTimePlayed),(this._timePlayed>2*this._priorityIntervals[0]||this._timePlayed<0)&&(this._timePlayed=this._priorityIntervals[0]),this._lastTimePlayed=e,this._playheadPositionMillis=e,this._timePlayedMillis=Math.floor(this._timePlayed),i.call(this,g.PLAYHEAD_UPDATE.priority),i.call(this,g.TIME_PLAYED.priority),!this._liveContent){var t=function(e){for(var t=!1,i=0,n=0;!t;)i===this._buckets.count||this._buckets.startingTimes[i]>e?(n=i-1,t=!0):i+=1;return n}.call(this,e);o.call(this,t)}},reportPause:function(){l.call(this,g.PAUSE)},reportResume:function(){l.call(this,g.RESUME)},reportSeek:function(e,i){var n=t(g.SEEK);n.fromMillis=e,n.toMillis=i,v.call(this,n,g.SEEK.priority)},reportComplete:function(){s.call(this),this._flushTimeout&&clearTimeout(this._flushTimeout)},reportCustomEvent:function(e,i){var n=t(g.CUSTOM);switch(n.customEventName=e,e){case m:this._bufferingStartedTime=new Date(n.time).getTime();break;case _:0!==this._bufferingStartedTime&&(this._bufferingTime=new Date(n.time).getTime()-this._bufferingStartedTime,this.reportPrecalculatedEvent(S),this._bufferingStartedTime=0);break;case O:this._adBreakStartedTime=new Date(n.time).getTime();break;case b:0!==this._adBreakStartedTime&&(this._adBreakTime=new Date(n.time).getTime()-this._adBreakStartedTime,this._adBreakStartedTime=0)}for(var a in i)n[a]=i[a];v.call(this,n,g.CUSTOM.priority)},reportPrecalculatedEvent:function(e){var i=t(g.CUSTOM);switch(i.customEventName=e,e){case S:i.bufferingTimeMillis=this._bufferingTime,this._bufferingTime=0;break;case I:i.joinTimeMillis=this._joinTime,this._joinTime=0}v.call(this,i,g.CUSTOM.priority)},updateTopLevelSource:function(e){this._base.source=e},reportAssetImpression:function(e,i,n,a,r,s){var o=t(g.ASSET_IMPRESSION);o.source=d(e,i,n,a,r,s),o.asset=h(e),v.call(this,o,g.ASSET_IMPRESSION.priority)},reportAssetClick:function(e,i,n,a,r,s){var o=t(g.ASSET_CLICK);this._lastClickedAsset.source=d(e,i,n,a,r,s),o.asset=h(e),this._lastClickedAsset.idType=o.asset.idType,this._lastClickedAsset.id=o.asset.id,o.source=this._lastClickedAsset.source;var l=!1;i&&i.hasOwnProperty("autoplay")&&(l=i.autoplay),o.isAutoPlay=l,v.call(this,o,g.ASSET_CLICK.priority)},setCustomDimensions:function(e){if(e)for(var t in e)if("object"==(0,n.default)(e[t]))throw c(y.INVALID_CUSTOM_DIMENSION);this._base.customDimensions=e}},Ooyala.Analytics.MediaContentType={OOYALA_CONTENT:"ooyala",EXTERNAL_CONTENT:"external"},Ooyala.Analytics.OfflineContentDownloadType={TO_OWN:"own",FOR_RENT:"rental"}}(this),s=this,Ooyala.HttpRequester=function(e,t,i){if(this._iqEndpoint=t,this.object=e,this.disablePiiLogging=i||!1,s.XMLHttpRequest)(n=new XMLHttpRequest).open("POST",this._iqEndpoint),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),this.disablePiiLogging&&n.setRequestHeader("OO-No-Follow","true"),n.send(JSON.stringify(this.object));else if(s.XDomainRequest){var n;(n=new s.XDomainRequest).onload=function(){onSuccess(n.responseText)},n.onerror=function(){console.log("Error: "+httpErrorCodeTranslation.ieError)};try{n.open(method,uri),n.timeout=timeout,n.send()}catch(e){console.log("Error: "+httpErrorCodeTranslation.ieError)}}}}(0,OO.$,OO._)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/typeof":18,_process:35}],43:[function(e,t,i){"use strict";!function(e,t,i){e.AnalyticsBase=function(e,t){},i.extend(e.AnalyticsBase.prototype,{loadSucceed:function(){},reportEvent:function(){throw new Error("Please override this function")},setup:function(e,t,n){this.mb=e,this.elementId=t,this._loaded=!1,this._bufferedEvents=[],this.mb.subscribe("*",n,i.bind(this._onAnalyticsEvent,this))},loadExternalAnalyticsJs:function(n){t.getScriptRetry(n,i.bind(this._onLoaded,this),{error:function(){e.log("can not load url",n)}})},_onLoaded:function(){this._loaded=!0,this.loadSucceed(),this._bufferedEvents&&i.each(this._bufferedEvents,function(e){this._safeReportEvent.apply(this,e)},this)},_onAnalyticsEvent:function(){this._loaded?this._safeReportEvent.apply(this,arguments):this._bufferedEvents.push(arguments)},_safeReportEvent:function(){try{this.reportEvent.apply(this,arguments)}catch(t){e.log("can not log event")}},__place_holder:!0})}(OO,OO.$,OO._)},{}],44:[function(e,t,i){"use strict";!function(e,t,i){var n=e.inherit(e.AnalyticsBase,function(t,n){e.requiredInEnvironment("html5-playback")&&(this.setup(t,n,"ooyala_analytics"),this.lastEmbedCode="",this.currentEmbedcode="",this.playingInstreamAd=!1,this.playingSsaiAd=!1,this.currentPlayhead=0,this.lastReportedPlayhead=0,this.guid=void 0,this.adOffset=0,this.adTimeline=[],this.accountId=void 0,this.accountIdSet=!1,this.guidSet=!1,this.parameters=void 0,this.ssaiAdTransition=!1,this.documentUrl=void 0,this.videoStartSent=!1,this.isChromeCasting=!1,this.enableThrift=!0,this.enableIQ=!1,this.thriftPcode=null,this.jsonPcode=null,this.analyticsParams=null,t.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"ooyala_analytics",i.bind(this._onAuthorizationFetched,this)),t.subscribe(e.EVENTS.ERROR,"ooyala_analytics",i.bind(this._onErrorEvent,this)),t.subscribe(e.EVENTS.GUID_SET,"ooyala_analytics",i.bind(this._onGuidSet,this)),t.subscribe(e.EVENTS.REPORT_DISCOVERY_IMPRESSION,"ooyala_analytics",i.bind(this._onReportDiscoveryImpression,this)),t.subscribe(e.EVENTS.REPORT_DISCOVERY_CLICK,"ooyala_analytics",i.bind(this._onReportDiscoveryClick,this)),t.subscribe(e.EVENTS.PLAYER_CREATED,"ooyala_analytics",i.bind(this._onPlayerCreated,this)),t.subscribe(e.EVENTS.METADATA_FETCHED,"ooyala_analytics",i.bind(this._onMetadataFetched,this)),t.subscribe(e.EVENTS.ASSET_CHANGED,"ooyala_analytics",i.bind(this._onFirstAssetChanged,this)),t.subscribe(e.EVENTS.CHROMECAST_START_CAST,"ooyala_analytics",i.bind(this._onChromecastStartCast,this)),t.subscribe(e.EVENTS.CHROMECAST_END_CAST,"ooyala_analytics",i.bind(this._onChromecastEndCast,this)))});i.extend(n.prototype,{_onGuidSet:function(e,t){this.guid=t,this.guidSet=!0,this._onGuidAndAccountIdSet()},_onPlayerCreated:function(t,i,n){this.parameters=n,this.parameters&&this.parameters.docUrl?this.documentUrl=this.parameters.docUrl:this.parameters&&this.parameters.flashParams&&this.parameters.flashParams.docUrl&&(this.documentUrl=this.parameters.flashParams.docUrl),n&&n.modules&&n.modules.iq&&this._setMetadata(n.modules.iq),e.log("OO.OoyalaAnalytics: Player Created")},_onMetadataFetched:function(e,t){t&&t.modules&&t.modules.iq&&t.modules.iq.metadata&&this._setMetadata(t.modules.iq.metadata),this.parameters&&this.parameters.iq&&this.parameters.iq.metadata&&this._setMetadata(this.parameters.iq.metadata)},_onAuthorizationFetched:function(t,n){n.user_info&&n.user_info.account_id?this.accountId=n.user_info.account_id:n.debug_data&&n.debug_data.user_info&&n.debug_data.user_info.account_id&&(this.accountId=n.debug_data.user_info.account_id),this.mb.unsubscribe(e.EVENTS.ERROR,"ooyala_analytics"),this.mb.unsubscribe(e.EVENTS.AUTHORIZATION_FETCHED,"ooyala_analytics"),i.isNumber(this.accountId)&&(this.accountId=this.accountId.toString()),i.isString(this.accountId)?e.d("OO.OoyalaAnalytics: SAS authorization fetched with accountId == "+this.accountId):(this.accountId=void 0,e.d("OO.OoyalaAnalytics: SAS authorization fetched without an accountId")),this.accountIdSet=!0,this._onGuidAndAccountIdSet()},_updateAdOffset:function(e){if(null!==this.adTimeline){this.adOffset=0;for(var t=0;t<this.adTimeline.length;t++)this.adTimeline[t].start<=e&&(this.adOffset+=this.adTimeline[t].duration)}},_processAdTimeline:function(e){if(null===e)return[];for(var t=[],i=0,n=0;n<e.length;n++){var a=Math.floor(1e3*e[n].duration),r=Math.floor(1e3*e[n].start);i+=a;var s={adId:e[n].id,start:r,end:r+a,duration:a,offset:i};t.push(s)}return t},_isSSAIAdPlaying:function(e){for(var t=0;t<this.adTimeline.length;t++)if(e>=this.adTimeline[t].start&&e<this.adTimeline[t].end)return!0;return!1},_onGuidAndAccountIdSet:function(){this.guidSet&&this.accountIdSet&&(e.d("Loading Analytics Module..."),this._loadAnalytics())},_onErrorEvent:function(t,n){if(n&&n.code){var a=n.code,r=!1;i.each(e.ERROR.API.SAS,function(e,t){e===a&&(r=!0)}),r&&this._onAuthorizationError(t,a)}},_onAuthorizationError:function(t,i){this.mb.unsubscribe(e.EVENTS.ERROR,"ooyala_analytics"),this.mb.unsubscribe(e.EVENTS.AUTHORIZATION_FETCHED,"ooyala_analytics"),e.d("OO.OoyalaAnalytics: SAS authorization failed, loading external analytics module ..."),this._loadAnalytics()},_onReportDiscoveryImpression:function(t,i){if(this.reporter)try{e.log("Reporting a discovery event: "+t+" with params: "+JSON.stringify(i.custom)+" and relatedVideos: "+JSON.stringify(i.relatedVideos)),this.reporter.reportDiscoveryImpression(i.relatedVideos,i.custom),e.log("OO.OoyalaAnalytics: Reported event: reportDiscoveryImpression with params: "+JSON.stringify(i.custom)+" and relatedVideos: "+JSON.stringify(i.relatedVideos))}catch(t){e.log("Failed to report a discovery impression event with params "+JSON.stringify(i)+": "+t)}},_onReportDiscoveryClick:function(t,i){if(this.reporter)try{e.log("Reporting a discovery event: "+t+"with params: "+JSON.stringify(i.custom)+" for clickedVideo: "+JSON.stringify(i.clickedVideo)),this.reporter.reportDiscoveryClick(i.clickedVideo,i.custom),e.log("OO.OoyalaAnalytics: Reported event: reportDiscoveryClick with params: "+JSON.stringify(i.custom)+" for clickedVideo: "+JSON.stringify(i.clickedVideo))}catch(t){e.log("Failed to report a discovery click event with params "+JSON.stringify(i)+": "+t)}},_loadAnalytics:function(){i.bind(this._onLoaded,this)()},_setMetadata:function(e){null!=e.jsonPcode&&(this.jsonPcode=e.jsonPcode),null!=e.thriftPcode&&(this.thriftPcode=e.thriftPcode),null!=e.enabled&&(this.enableIQ=!0===e.enabled||"true"===e.enabled),null!=e.allowThrift&&(this.enableThrift=!0===e.allowThrift||"true"===e.allowThrift),this._initializeReporter()},_canReportDisplay:function(){return!this.enableIQ||null!=this.thriftPcode||null!=this.jsonPcode},_initializeReporter:function(t){if(!this.enableIQ||this.enableThrift||null!=this.thriftPcode||null!=this.jsonPcode){var i=e.playerParams.pcode;null!=this.thriftPcode&&(i=this.thriftPcode),n&&n.Reporter&&(this.reporter=new n.Reporter(i,this.analyticsParams))}else this.reporter=null},_onFirstAssetChanged:function(t,i){i.ooyalaAsset&&(this.mb.unsubscribe(e.EVENTS.ASSET_CHANGED,"ooyala_analytics",this._onFirstAssetChanged),this.accountId=void 0,this.accountIdSet=!0,this._onGuidAndAccountIdSet())},_onChromecastStartCast:function(e){this.isChromeCasting=!0},_onChromecastEndCast:function(e){this.isChromeCasting=!1},loadSucceed:function(){if(window.Ooyala&&window.Ooyala.Reporter&&(n.Reporter=Ooyala.Reporter,n.Pinger=Ooyala.Pinger,this.reporter=null,e.playerParams.pcode)){switch(this.analyticsParams={accountId:this.accountId,guid:this.guid,playerBrandingId:e.playerParams.playerBrandingId},e.trackingLevel){case e.TRACKING_LEVEL.DISABLED:case e.TRACKING_LEVEL.ANONYMOUS:this.analyticsParams.doNotTrack=!0;break;case e.TRACKING_LEVEL.DEFAULT:}this.documentUrl&&(this.analyticsParams=i.extend(this.analyticsParams,{documentUrl:this.documentUrl})),this._initializeReporter()}},reportEvent:function(t,n,a){if(this.reporter){if(!this.isChromeCasting){e.log("OO.OoyalaAnalytics: Received event: "+t+", args: "+n+", "+a);switch(t){case e.EVENTS.PLAYER_CREATED:this.reporter.reportPlayerLoad(),e.log("OO.OoyalaAnalytics: Reported event: reportPlayerLoad");break;case e.EVENTS.EMBED_CODE_CHANGED:case e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD:n!==this.currentEmbedcode?this.lastEmbedCode=this.currentEmbedcode:this.lastEmbedCode="",this.currentEmbedcode=n;break;case e.EVENTS.CONTENT_TREE_FETCHED:this.ssaiAdTransition=!1,this.playingSsaiAd=!1,this.currentPlayhead=0,this.lastReportedPlayhead=0,this.adOffset=0,this.adTimeline=[],this.reporter.initializeVideo(this.currentEmbedcode,n.duration),e.log("OO.OoyalaAnalytics: Reported event: initializeVideo with embedCode: "+this.currentEmbedcode+" and duration: "+n.duration),this._canReportDisplay()&&(this.reporter.reportDisplay(),e.log("OO.OoyalaAnalytics: Reported event: reportDisplay"));break;case e.EVENTS.ASSET_CHANGED:if(!n)break;n.id!==this.currentEmbedcode?this.lastEmbedCode=this.currentEmbedcode:this.lastEmbedCode="";break;case e.EVENTS.WILL_PLAY_FROM_BEGINNING:this.videoStartSent=!1;break;case e.EVENTS.PLAYING:this.videoStartSent||(this.lastEmbedCode===this.currentEmbedcode?(this.reporter.reportReplay(),e.log("OO.OoyalaAnalytics: Reported event: reportReplay")):(this.reporter.reportVideoStarted(),e.log("OO.OoyalaAnalytics: Reported event: reportVideoStarted"),this.lastEmbedCode=this.currentEmbedcode),this.videoStartSent=!0);break;case e.EVENTS.SSAI_PLAY_SINGLE_AD:for(var r=!1,s=0;s<this.adTimeline.length;s++)this.adTimeline[s].adId===n.adId&&(r=!0);if(!r){var o=Math.floor(1e3*n.duration),l={adId:n.adId,start:this.currentPlayhead,end:this.currentPlayhead+o,duration:o,offset:0};this.adTimeline.push(l)}this.playingSsaiAd=!0;break;case e.EVENTS.SSAI_SINGLE_AD_PLAYED:this.playingSsaiAd=!1,this.ssaiAdTransition=!0;break;case e.EVENTS.REPLAY:this.lastReportedPlayhead=0,this.playingSsaiAd=this._isSSAIAdPlaying(0),this._updateAdOffset(0);break;case e.EVENTS.SEEKED:this.lastReportedPlayhead=0;var c=Math.floor(1e3*n);this.playingSsaiAd=this._isSSAIAdPlaying(c),this._updateAdOffset(c);break;case e.EVENTS.WILL_PLAY_ADS:this.playingInstreamAd=!0;var u=Ooyala.Reporter.AdSource.UNKNOWN;n&&n.type&&"string"==typeof n.type&&(u=Ooyala.Reporter.AdSource[n.type.toUpperCase()]),this.reporter.setAdSource(u,this.currentEmbedcode,n&&n.click_url),this.reporter.reportAdImpression(),e.log("OO.OoyalaAnalytics: Reported event: reportAdImpression");break;case e.EVENTS.ADS_PLAYED:this.playingInstreamAd=!1;break;case e.EVENTS.ADS_CLICKED:this.reporter.reportAdClickToVideo(),e.log("OO.OoyalaAnalytics: Reported event: reportAdClickToVideo");break;case e.EVENTS.PLAYHEAD_TIME_CHANGED:if(this.playingInstreamAd||this.playingSsaiAd)this.reporter.reportAdPlaythrough(n,a),e.log("OO.OoyalaAnalytics: Reported event: reportAdPlaythrough with playheadTime: "+n+" and totalTime: "+a);else{var d=n;void 0!==arguments[6]&&(d=arguments[6],this.adOffset=0);var h=Math.floor(1e3*d);if(i.isFinite(d)&&d>0){if(this.ssaiAdTransition){if(this._isSSAIAdPlaying(h))break;this._updateAdOffset(h),this.ssaiAdTransition=!1}this.currentPlayhead=h;var A=this.currentPlayhead-this.adOffset;if(A<0)break;A>this.lastReportedPlayhead&&(this.lastReportedPlayhead=A,this.reporter.reportPlayheadUpdate(A),e.log("OO.OoyalaAnalytics: Reported event: reportPlayheadUpdate with playheadPosition: "+A))}}break;case e.EVENTS.REPORT_EXPERIMENT_VARIATIONS:e.log("OO.OoyalaAnalytics: Reported event: reportExperimentVariation with variationIds: "+JSON.stringify(n)),this.reporter.reportExperimentVariation(n.variationIds),e.log("OO.OoyalaAnalytics: Reported event: reportExperimentVariation with variationIds: "+JSON.stringify(n.variationIds));break;case e.EVENTS.INITIAL_PLAY:this.reporter.reportPlayRequested(),e.log("OO.OoyalaAnalytics: Reported event: reportPlayRequested");break;case e.EVENTS.SSAI_AD_TIMELINE_RECEIVED:this.playingSsaiAd=!0,this.adTimeline=this._processAdTimeline(n.ads),this._updateAdOffset(this.currentPlayhead)}}}else this.enableThrift&&e.log("Error: trying to report event but reporter does not exist yet.")},__place_holder:!0}),e.registerModule(e.MODULE_NAMES.OOYALA_ANALYTICS,function(e,t){return new n(e,t)})}(OO,OO.$,OO._)},{}],45:[function(e,t,i){"use strict";!function(e){e.get_css=function(t){return e.stylus_css&&t?e.stylus_css[t+".styl"]:null}}(OO)},{}],46:[function(e,t,i){"use strict";OO.VERSION.core.rev="7ad40ebfdfd0bdd9540fb991d429e36d962a2be7"},{}],47:[function(e,t,i){"use strict";!function(e){e.stylus_css={"root.styl":"#<%= elementId %>>div{width:0;height:0;position:relative;z-index:10000;overflow:hidden}#<%= elementId %> .innerWrapper{background:#000;text-align:left}#<%= elementId %> .innerWrapper:-webkit-full-screen{width:100%;height:100%}#<%= elementId %> .innerWrapper:-webkit-full-screen video{width:100%}#<%= elementId %> .innerWrapper.fullscreen{position:fixed;top:0;left:0;width:100%;height:100%;background:#fff}#<%= elementId %> .oo_playhead{-ms-touch-action:none}",__end_marker:1}}(OO)},{}],48:[function(e,t,i){"use strict";!function(t){e("../3rdparty/hazmat-0.1.4.js"),e("../3rdparty/base64.js"),e("../3rdparty/jquery_plugins.js"),e("../3rdparty/jsSHA-1.31.js"),e("../3rdparty/lzw.js");var i={};window.debugHazmat||(i={warn:function(){}}),t.HM=window.Hazmat.noConflict().create(i),t.jsSHA=window.jsSHA,t.LZW=window.LZW,window.console&&window.console.log||(window.console=window.console||{},window.console.log=function(){})}(OO)},{"../3rdparty/base64.js":37,"../3rdparty/hazmat-0.1.4.js":38,"../3rdparty/jquery_plugins.js":39,"../3rdparty/jsSHA-1.31.js":40,"../3rdparty/lzw.js":41}],49:[function(e,t,i){"use strict";!function(e,t){e.Emitter=function(e){this.mb=e,this._subscribers={}},t.extend(e.Emitter.prototype,{on:function(e,t,i){this._subscribers[e]=this._subscribers[e]||[],this._subscribers[e].push({callback:i,subscriber:t})},off:function(e,i,n){this._subscribers[e]=t.reject(this._subscribers[e]||[],function(e){return(e.callback===n||void 0===n)&&e.subscriber===i})},trigger:function(e){t.each(this._subscribers[e]||[],t.bind(this._triggerSubscriber,this,e,arguments)),t.each(this._subscribers["*"]||[],t.bind(this._triggerSubscriber,this,e,arguments))},_triggerSubscriber:function(t,i,n){try{n.callback.apply(this,i)}catch(r){var a=r.stack||"unavailable";e.log("Uncaught exception",r,"Stack",a,"triggering subscriber",n,"with event",t,"Parameters: ",i)}},__placeholder:!0})}(OO,OO._)},{}],50:[function(e,t,i){"use strict";!function(e,t,i){e.playerParams=i.safeObject("environment.playerParams",e.playerParams,{}),e.configurePublisher=function(t){e.playerParams.pcode=t.pcode||e.playerParams.pcode||"",e.playerParams.playerBrandingId=t.playerBrandingId||e.playerParams.playerBrandingId||"",e.playerParams.playerType=t.playerType||e.playerParams.playerType||e.CONSTANTS.PLAYER_TYPE.VIDEO,e.playerParams.debug=t.debug||e.playerParams.debug||""},e.isPublisherConfigured=function(){return!(!e.playerParams.pcode||!e.playerParams.playerBrandingId)},e.setServerHost=function(t){e.playerParams.api_ssl_server=t.api_ssl_server||e.playerParams.api_ssl_server||null,e.playerParams.api_server=t.api_server||e.playerParams.api_server||null,e.playerParams.auth_ssl_server=t.auth_ssl_server||e.playerParams.auth_ssl_server||null,e.playerParams.auth_server=t.auth_server||e.playerParams.auth_server||null,e.playerParams.analytics_ssl_server=t.analytics_ssl_server||e.playerParams.analytics_ssl_server||null,e.playerParams.analytics_server=t.analytics_server||e.playerParams.analytics_server||null,n()};var n=function(){e.SERVER={API:e.isSSL?e.playerParams.api_ssl_server||"https://player.ooyala.com":e.playerParams.api_server||"http://player.ooyala.com",AUTH:e.isSSL?e.playerParams.auth_ssl_server||"https://player.ooyala.com/sas":e.playerParams.auth_server||"http://player.ooyala.com/sas",ANALYTICS:e.isSSL?e.playerParams.analytics_ssl_server||"https://player.ooyala.com":e.playerParams.analytics_server||"http://player.ooyala.com"}};e.playerParams.tweaks=e.playerParams.tweaks||"",e.playerParams.tweaks=i.safeString("environment.playerParams.tweaks",e.playerParams.tweaks,""),e.playerParams.tweaks=e.playerParams.tweaks.split(","),e.tweaks={},e.tweaks["android-enable-hls"]=t.contains(e.playerParams.tweaks,"android-enable-hls"),e.tweaks["html5-force-mp4"]=t.contains(e.playerParams.tweaks,"html5-force-mp4");var a,r,s,o,l;e.playerParams.maxAdsTimeout=e.playerParams.maxAdsTimeout||5,e.playerParams.maxVastWrapperDepth=e.playerParams.maxVastWrapperDepth||3,e.playerParams.minLiveSeekWindow=e.playerParams.minLiveSeekWindow||10,e.guid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e.toLowerCase()?t:3&t|8).toString(16)}),e.playerCount=0,e.isProd=!(!e.playerParams.environment||!e.playerParams.environment.match(/^prod/i)),e.platform=window.navigator.platform,e.os=window.navigator.appVersion,e.supportsVideo=!!document.createElement("video").canPlayType,e.browserSupportsCors=function(){try{return t.has(new window.XMLHttpRequest,"withCredentials")||t.has(window.XMLHttpRequest.prototype,"withCredentials")}catch(e){return!1}}(),e.isWindows=!!e.platform.match(/Win/),e.isWindows7=e.isWindows&&"Windows NT 6.1"===window.navigator.userAgent.match(/Windows NT [\d.]*/)[0].trim(),e.isIos=!!e.platform.match(/iPhone|iPad|iPod/),e.isIphone=!!e.platform.match(/iPhone|iPod/),e.isIpad=!!e.platform.match(/iPad/),e.iosMajorVersion=function(){try{return e.isIos?parseInt(window.navigator.userAgent.match(/OS (\d+)/)[1],10):null}catch(e){return null}}(),e.isAndroid=!(!e.os.match(/Android/)||e.os.match(/Windows Phone/)),e.isAndroid4Plus=((a=e.os.match(/Android [\d\.]*;/))&&a.length>0&&(a=parseInt(a[0].substring(a[0].indexOf(" ")+1,a[0].search("[.;]")))),e.isAndroid&&a>=4),e.isAndroid4_4Plus=function(){var t=!1;if(e.isAndroid){var i=e.os.match(/Android [\d\.]*;/);if(i&&i.length){var n=i[0].toLowerCase().match(/android\s([0-9\.]*)/)[1];t=parseFloat(n)>4.3}}return t}(),e.isRimDevice=!(!e.os.match(/BlackBerry/)&&!e.os.match(/PlayBook/)),e.isFirefox=!!window.navigator.userAgent.match(/Firefox/),e.isSamsungBrowser=!!window.navigator.userAgent.match(/SamsungBrowser/),e.isChrome=!!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/Edge/),e.isSafari=!(!window.navigator.userAgent.match(/AppleWebKit/)||window.navigator.userAgent.match(/Chrome/)||window.navigator.userAgent.match(/CriOS/)||window.navigator.userAgent.match(/like iPhone/)),e.chromeMajorVersion=function(){try{return parseInt(window.navigator.userAgent.match(/Chrome.([0-9]*)/)[1],10)}catch(e){return null}}(),e.isIE=!!window.navigator.userAgent.match(/MSIE/)||!!window.navigator.userAgent.match(/Trident/),e.isEdge=!!window.navigator.userAgent.match(/Edge/),e.isIE11Plus=function(){if(!window.navigator.userAgent.match(/Trident/))return!1;var e=window.navigator.userAgent.match(/rv:(\d*)/);return(e&&e[1])>=11}(),e.isWinPhone=!!e.os.match(/Windows Phone/)||!!e.os.match(/ZuneWP/)||!!e.os.match(/XBLWP/),e.isSmartTV=!!window.navigator.userAgent.match(/SmartTV/)||!!window.navigator.userAgent.match(/NetCast/),e.ismatches=!e.isIos&&!!e.os.match(/Mac/)&&!window.navigator.userAgent.match(/like iPhone/),e.ismatchesLionOrLater=function(){var t=e.os.match(/Mac OS X ([0-9]+)_([0-9]+)/);if(null==t||t.length<3)return!1;return parseInt(t[1],10)>=10&&parseInt(t[2],10)>=7}(),e.matchesSafariVersion=function(){try{return e.ismatches&&e.isSafari?parseInt(window.navigator.userAgent.match(/Version\/(\d+)/)[1],10):null}catch(e){return null}}(),e.isKindleHD=!!e.os.match(/Silk\/2/),e.supportMSE="MediaSource"in window||"WebKitMediaSource"in window||"mozMediaSource"in window||"msMediaSource"in window,e.supportAds=!e.isWinPhone&&!e.os.match(/Android [23]/),e.allowGesture=e.isIos,e.allowAutoPlay=!e.isIos&&!e.isAndroid,e.supportTouch=document.documentElement.hasOwnProperty&&document.documentElement.hasOwnProperty("ontouchstart"),e.docDomain=function(){var t=null;try{t=document.domain}catch(e){}return e._.isEmpty(t)?e.isSmartTV?"SmartTV":"unknown":t}(),e.uiParadigm=function(){var t="tablet";if(e.isAndroid4Plus&&e.tweaks["android-enable-hls"])t="tablet";else if(e.isIphone)t="mobile-native";else if(e.os.match(/BlackBerry/))t="mobile-native";else if(e.os.match(/iPad/))t="tablet";else if(e.isKindleHD)t="mobile-native";else if(e.os.match(/Silk/))t="mobile";else if(e.os.match(/Android 2/)){window.orientation%180==0&&window.outerWidth/window.devicePixelRatio<=480?t="mobile":window.outerWidth/window.devicePixelRatio<=560&&(t="mobile")}else e.os.match(/Android/)?t="tablet":e.isWinPhone?t="mobile":(e.platform.match(/Mac/)||e.platform.match(/Win/)||e.platform.match(/Linux/))&&(t="desktop");return t}(),e.requiresSingleVideoElement=(r=e.isIos,s=e.isAndroid&&(!e.isAndroid4Plus||e.chromeMajorVersion<40),r||s),e.supportedVideoProfiles=e.isIos||e.isAndroid?"baseline":null,e.device=(o="html5",e.isIphone?o="iphone-html5":e.isIpad?o="ipad-html5":e.isAndroid?o="android-html5":e.isRimDevice?o="rim-html5":e.isWinPhone?o="winphone-html5":e.isSmartTV&&(o="smarttv-html5"),o),e.environmentRequiredFeatures=(l=[],e.os.match(/Android 2/)?l.push("html5-playback"):(l.push("html5-playback"),e.supportAds&&l.push("ads")),t.reduce(l,function(e,t){return e+t+" "},"")),e.supportMidRollAds="desktop"===e.uiParadigm&&!e.isIos&&!e.isRimDevice,e.supportCookies=function(){document.cookie="ooyala_cookie_test=true";var e=document.cookie.indexOf("ooyala_cookie_test=true")>=0;return document.cookie="ooyala_cookie_test=; expires=Thu, 01 Jan 1970 00:00:00 GMT",e}(),e.isSSL="https:"===document.location.protocol,n(),e.requiredInEnvironment=e.featureEnabled=function(t){return!!e.environmentRequiredFeatures.match(new RegExp(t))},e.chromeExtensionEnabled=!!document.getElementById("ooyala-extension-installed"),e.locale="",e.setLocale=function(t){e.locale=t.toUpperCase()},e.getLocale=function(){return(e.locale||document.documentElement.lang||navigator.language||navigator.userLanguage||"en").substr(0,2).toUpperCase()}}(OO,OO._,OO.HM)},{}],51:[function(e,t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/typeof"));!function(e,t){e.MessageBus=function(){this._emitter=new e.Emitter(this),this._dependentEmitter=new e.Emitter(this),this._interceptEmitter=new e.Emitter(this),this._interceptArgs={},this._dependentList={},this._blockList={},this._readyEventList={},this._dispatching=!1,this._publishingQueue=[],this.blockedEvent={},this.blockedParams={},this._messageHistory=[],this._tracer=t.bind(this._internalTracer,this),this.MbId=e.getRandomString(),this.debug=!1},t.extend(e.MessageBus.prototype,{addTracer:function(e){e&&t.isFunction(e)&&(this._tracer?this._tracer=t.wrap(this._tracer,function(){e.apply(this,t.rest(arguments))}):this._tracer=e)},_internalTracer:function(){this._messageHistory.push(t.toArray(arguments))},messageTraceSnapshot:function(){return t.toArray(this._messageHistory)},addDependent:function(i,n,a,r){if(i&&""!==i&&n&&""!==n){this.debug&&e.log('MB DEBUG: "'+i+'" depends on "'+n+'". Added by "'+a+'"'),this._dependentList[i]=this._dependentList[i]||[],this._dependentList[i].push(n),this._blockList[n]=this._blockList[n]||[],this._blockList[n].push(i),this.blockedParams[i]=[];var s=e._.bind(function(a){if(1===this.blockedEvent[a]){var s=e.safeClone(t.flatten(arguments)),o=e.safeClone(this.blockedParams[i]);s.shift(),o.shift();var l=r&&r.apply(this,[i,n,o,s])||o;l=[a].concat(l),delete this.blockedEvent[a],this.blockedParams[a]=[],this.debug&&e.log('MB DEBUG: unblocking "'+a+'" because of "'+n+'" with args ',l),this._publish.apply(this,l)}},this);this._dependentEmitter.on(i,a,s)}else console.error("MB: addDependent called on message bus from subscriber "+a+" with no event name given.")},removeDependent:function(t,i){t&&""!==t&&i&&""!==i?(this.debug&&e.log('MB DEBUG: "'+t+'" no longer depends on "'+i+'"'),this._clearDependent(t,i)):console.warn("MB: removeDependent called on message bus with no event name given.")},publish:function(){if(arguments&&arguments[0]&&""!==arguments[0]){var i=e.safeClone(t.flatten(arguments));if(this._publishingQueue.push(i),this.debug&&e.log('MB DEBUG: queueing "'+arguments[0]+'" args',i),!this._dispatching){this._dispatching=!0;for(var n=this._publishingQueue.shift();n;)this._publish.apply(this,n),n=this._publishingQueue.shift();this._dispatching=!1}}else console.error("MB: publish called on message bus with no event name given.")},_publish:function(i){this._readyEventList[i]=1;var a=e.safeClone(t.flatten(arguments));if(this._interceptEmitter.trigger.apply(this._interceptEmitter,a),!1!==this._interceptArgs[i]){if(this._interceptArgs[i]&&(a=t.flatten([i,this._interceptArgs[i]])),this._tracer&&t.isFunction(this._tracer)){var r=t.flatten(["publish"].concat(a));this._tracer.apply(this._tracer,r)}if(this._noDependency(i)){if(this.debug&&e.log('MB DEBUG: publishing "'+i+'"args ',a),i===e.EVENTS.SET_EMBED_CODE){if(!a[1]||0===a[1].length||!a[1].trim()){var s=a[2];if(!(e.isPlaylistsPluginIncluded()&&s&&null!==s&&"object"===(0,n.default)(s)&&void 0!==s[e.PLUGINS.PLAYLISTS_PLUGIN]&&s[e.PAGE_LEVEL_PARAMS.USE_FIRST_VIDEO_FROM_PLAYLIST]))return void console.error("MB: no embed code and/or playlist plugin")}}this._emitter.trigger.apply(this._emitter,a),t.each(this._blockList[i],function(e){this._clearDependent(e,i),a[0]=e,this._dependentEmitter.trigger.apply(this._dependentEmitter,a)},this),delete this._blockList[i]}else this.debug&&e.log('MB DEBUG: blocking "'+i+'" because of "'+this._dependentList?this._dependentList[i]:'[null]"'),this.blockedEvent[i]=1,this.blockedParams[i]=a}else this._interceptArgs[i]=!0},intercept:function(i,n,a){this._interceptEmitter.on(i,n,t.bind(function(){if(i&&""!==i){var r=e.safeClone(t.flatten(arguments));!1!==this._interceptArgs[i]&&(this._interceptArgs[i]=a.apply(this,r))}else console.error("MB: intercept called on message bus from subscriber "+n+" with no event name given.")},this)),this._interceptArgs[i]=[i]},subscribe:function(e,t,i){e&&""!==e?this._emitter.on(e,t,i):console.error("MB: subscribe called on message bus from subscriber "+t+" with no event name given.")},unsubscribe:function(e,t,i){e&&""!==e?this._emitter.off(e,t,i):console.error("MB: unsubscribe called on message bus from subscriber "+t+" with no event name given.")},_noDependency:function(e){return!this._dependentList[e]||0===this._dependentList[e].length},_clearDependent:function(t,i){var n=this._dependentList[t];this._dependentList[t]=e._.filter(n,function(e){return e!==i},this)},startDebug:function(){return this.debug=!0,"MB DEBUGGING STARTED"},stopDebug:function(){return this.debug=!1,"MB DEBUGGING STOPPED"},listDependencies:function(){var e,t="------------------------------------\n[blocked] Message --\x3e Dependency\n------------------------------------\n";if(this._dependentList)for(var i in this._dependentList)if(this._dependentList[i])for(e=0;e<this._dependentList[i].length;e++)1===this.blockedEvent[i]&&(t+="[blocked]"),t+=i+" --\x3e "+this._dependentList[i]+"\n";return t+="------------------------------------"}})}(OO,OO._)},{"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/typeof":18}],52:[function(e,t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/typeof"));!function(e,t,i){e.players={},e.Player=function(a,r,s){s=s||{};var o=e.HM.safeDomId("Player.create.elementId",a),l=e.HM.safeObject("Player.create.parameters",s,{}),c={closedCaptionOptions:{}};l.onCreate=e.HM.safeFunctionOrNull("Player.create.parameters.onCreate",l.onCreate);var u=new e.MessageBus;l.debug&&l.enableDebugTools&&!0===l.enableDebugTools.startDebugMB&&(u.debug=!0),i("#"+o).html("");var d=e._.map(e.modules,function(t){var i=t.name+"-"+e.getRandomString(),n={name:t.name,moduleId:i,instance:t.factory(u,i,l)};return e.log("Loaded plugin",n.moduleId,n),n}),h=e.localStorage.getItem(e.CONSTANTS.OOYALA_PLAYER_SETTINGS_KEY);h&&(c=JSON.parse(h));var A=new e.PlayerApi(u,a,d,l,c);u.subscribe(e.EVENTS.DESTROY,"player",t.bind(function(t,n){i("#"+o).empty(),delete e.players[o],e.removeStyles(o),A.triggerDestroyCallback()},this)),t.isFunction(l.onCreate)&&l.onCreate(A);var E=(new Date).valueOf(),p="";return null!=e.$.ajaxSettings&&(p=e.$.ajaxSettings.url),u.publish(e.EVENTS.PLAYER_CREATED,o,l,c,r,E,p),"object"===(0,n.default)(r)?(r=e.HM.safeObject("assetObject",r),A.setAsset(r,l)):"string"==typeof r&&(r=e.HM.safeStringOrNull("assetString",r),e.isHevcEnabled(l)&&e.checkHevcAvailability(function(t,i){var n={};n[i]=t.result,t.error?u.publish(e.EVENTS.HEVC_CHECKED,n,i,t.error):u.publish(e.EVENTS.HEVC_CHECKED,n,i)}),A.setEmbedCode(r,l)),A},e.exposeStaticApi("Player",{create:function(i,n,a){a=a||{};if(!e.playerParams.core_version||"4"!==e.playerParams.core_version&&4!==e.playerParams.core_version)return console.error("Error: A v4 player has been specified using a mismatch route. v4 players can only be used with a v4 route."),null;var r=t.extend({},e.playerParams,a);return e.configurePublisher(r),e.isPublisherConfigured()?(e.setServerHost(r),e.players[i]||(e.playerCount++,e.players[i]=e.Player(i,n,r)),!1!==e.DEBUG&&!0!==e.DEBUG&&(e.DEBUG=!0===r.debug,!0===e.DEBUG&&(this.exposeDebugApi(i,e.players[i]),this.enableDebugTools(i,r.enableDebugTools))),e.players[i]):(console.error("Error: pcode and playerBrandingId must be provided"),null)},isolate:function(i){var n,a="http://debug.ooyala.com/?",r=e.playerParams.playerBrandingId;if(r&&(a+="pbid="+r+"&"),i)n=e.players[i];else{if(e.playerCount>1)return console.log("More than one player to choose.Please specify the target div of the intended player as a parameter"),console.log("Available players are: ",t.keys(e.players)),t.keys(e.players);if(e.playerCount<1)return console.log("There are no players on the page to isolate"),"";n=t.values(e.players)[0]}var s=JSON.stringify(n.parameters),o=n.embedCode;return s&&(a+="options="+encodeURIComponent(s)+"&"),o&&(a+="ec="+o+"&"),"local-dev"!==e.playerParams.environment&&"default"!==e.playerParams.v3_version_source&&(a+="version="+e.playerParams.v3_version+"&"),e.environmentRequiredFeatures.indexOf("html5-playback")>-1&&(a+="useHtml5=true&"),console.log("If you are copying this link, do not highlight. Right click and press 'copy link address'"),a},exposeDebugApi:function(t,n){e.publicApi&&(e.publicApi.DEBUG||(e.publicApi.DEBUG={}),e.publicApi.DEBUG.consoleOutput=e.consoleOutput,e.publicApi.DEBUG.startRecordingConsoleOutput=e.startRecordingConsoleOutput,e.publicApi.DEBUG.stopRecordingConsoleOutput=e.stopRecordingConsoleOutput,e.publicApi.DEBUG.clearRecordedConsoleOutput=e.clearRecordedConsoleOutput,e.publicApi.DEBUG.setMaxConsoleOutputLines=e.setMaxConsoleOutputLines,e.publicApi.DEBUG.listStateMachines=e._.bind(e.StateMachine.getActiveList,e.StateMachine),e.publicApi.DEBUG.startDebugStateMachine=e._.bind(e.StateMachine.startDebugTransitionsFor,e.StateMachine),e.publicApi.DEBUG.stopDebugStateMachine=e._.bind(e.StateMachine.stopDebugTransitionsFor,e.StateMachine),e.publicApi.DEBUG[t]=e.publicApi.DEBUG[t]||{},e.publicApi.DEBUG[t].startDebugMB=e._.bind(n.mb.startDebug,n.mb),e.publicApi.DEBUG[t].stopDebugMB=e._.bind(n.mb.stopDebug,n.mb),e.publicApi.DEBUG[t].listMBDependencies=e._.bind(n.mb.listDependencies,n.mb),i.extend(e.publicApi.DEBUG[t],e.debug_tools[t]))},enableDebugTools:function(t,i){if(e.publicApi&&e.publicApi.DEBUG&&i&&t){if(i.hasOwnProperty("startRecordingConsoleOutput")){var n=i.startRecordingConsoleOutput;e.publicApi.DEBUG.startRecordingConsoleOutput(n)}if(e._.isFinite(i.setMaxConsoleOutputLines)&&e.publicApi.DEBUG.setMaxConsoleOutputLines(i.setMaxConsoleOutputLines),i.hasOwnProperty("startDebugStateMachine")&&e._.isString(i.startDebugStateMachine)){var a=[];if("all"===i.startDebugStateMachine)for(var r in a=e.publicApi.DEBUG.listStateMachines())a.hasOwnProperty(r)&&e.publicApi.DEBUG.startDebugStateMachine(r);else for(var s in a=i.startDebugStateMachine.split(","))if(a.hasOwnProperty(s)){var o=a[s].trim();e.publicApi.DEBUG.startDebugStateMachine(o)}}!0===i.startDebugMB&&e.publicApi.DEBUG[t].startDebugMB()}},__placeholder:0})}(OO,OO._,OO.$)},{"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/typeof":18}],53:[function(e,t,i){"use strict";!function(e,t,i){e.PlayerApi=function(i,n,a,r,s){var o=this;this.mb=i,this.modules=a,this.parameters=r,this.hvcChecked=!1,this.hevChecked=!1,this.persistentSettings=s;var l=n,c=!1,u=!1,d=!1,h=-1,A=!1,E=-1,p=-1,f=-1,T=null,g=-1,y={},m={},_={},S=null,O=null,b=!1,I=null,v=e.STATE.LOADING,N=0,D=!1,C=1,R=!1,L=!1,P=null,w=null,k=null,V=function(){b=!0,R=!1,L=!1},B=function(){c=!1,u=!1,d=!1,v=e.STATE.LOADING,h=-1,A=!1,E=-1,p=-1,f=-1,T=null,g=-1,y={},m={},_={},S=null,O=null,b=!1,L=!1};this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"player",t.bind(function(){v=e.STATE.READY,c=!0,m=Object.assign({},s.closedCaptionOptions),R&&this.play()},this)),this.mb.subscribe(e.EVENTS.REPLAY,"player",t.bind(function(){V()},this)),this.mb.subscribe(e.EVENTS.PLAY,"player",t.bind(function(){V()},this)),this.mb.subscribe(e.EVENTS.INITIAL_PLAY,"player",t.bind(function(){V()},this)),this.mb.subscribe(e.EVENTS.PLAYING,"player",t.bind(function(){v!==e.STATE.ERROR&&(v=e.STATE.PLAYING,b=!0,d=!0),L=!1},this)),this.mb.subscribe(e.EVENTS.HEVC_CHECKED,"player",t.bind(function(i,n,a,r){t.extend(k,n),r&&(r.code&&!r.message&&(r.message=e.getMediaElementErrorFromCode(r.code)),e.log("HEVC check returned error for codec "+a+": code: "+r.code+" message: "+r.message)),a===e.CONSTANTS.HEVC_CODEC.HVC1&&(this.hvcChecked=!0),a===e.CONSTANTS.HEVC_CODEC.HEV1&&(this.hevChecked=!0),this.hvcChecked&&this.hevChecked&&this.mb.publish(e.EVENTS.SET_EMBED_CODE,w,k||{})},this)),this.mb.subscribe(e.EVENTS.PAUSED,"player",t.bind(function(){v!==e.STATE.ERROR&&(v=e.STATE.PAUSED),d=!1},this)),this.mb.subscribe(e.EVENTS.BUFFERING,"player",t.bind(function(){v!==e.STATE.ERROR&&(v=e.STATE.BUFFERING)},this)),this.mb.subscribe(e.EVENTS.BUFFERED,"player",t.bind(function(){v===e.STATE.BUFFERING&&(v=d?e.STATE.PLAYING:e.STATE.PAUSED)},this)),this.mb.subscribe(e.EVENTS.PLAYED,"player",t.bind(function(){v=e.STATE.READY,L=!0,d=!1},this)),this.mb.subscribe(e.EVENTS.WILL_PLAY_ADS,"player",t.bind(function(e,t){p=t,b=!0,u=!0,L=!1},this)),this.mb.subscribe(e.EVENTS.AD_POD_STARTED,"player",t.bind(function(e,t){u=!0},this)),this.mb.subscribe(e.EVENTS.ADS_PLAYED,"player",t.bind(function(){p=-1,u=!1},this)),this.mb.subscribe(e.EVENTS.AD_POD_ENDED,"player",t.bind(function(){p=-1,u=!1},this)),this.mb.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"player",t.bind(function(e,t){T=t;if(t){var i=Number(t.duration);isNaN(i)||(E=i/1e3)}},this)),this.mb.subscribe(e.EVENTS.WILL_FETCH_AUTHORIZATION,"player",t.bind(function(e){g=(new Date).getTime()},this)),this.mb.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"player",t.bind(function(e,t){if(t.debug_data&&t.debug_data.user_info){var i=(new Date).getTime(),n=(i-g-t.debug_data.server_latency)/2;N=1e3*t.debug_data.user_info.request_timestamp+n-i}},this)),this.mb.subscribe(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,"player",t.bind(function(t,i,n,a,r){i===e.VIDEO.MAIN&&(A=!!n&&n.isLive)},this)),this.mb.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"player",t.bind(function(e,t,i,n){h=t,i&&(E=i),f=n,I||(I=(new Date).getTime())},this)),this.mb.subscribe(e.EVENTS.DOWNLOADING,"player",t.bind(function(e,t,i,n){h=t,i&&(E=i),f=n},this)),this.mb.subscribe(e.EVENTS.FULLSCREEN_CHANGED,"player",t.bind(function(e,t){D=t},this)),this.mb.subscribe(e.EVENTS.ERROR,"player",t.bind(function(t,i){S=i,v=e.STATE.ERROR,d=!1},this)),this.mb.subscribe(e.EVENTS.VOLUME_CHANGED,"player",t.bind(function(e,t){C=t},this)),this.mb.subscribe(e.EVENTS.SAVE_PLAYER_SETTINGS,"player",t.bind(function(i,n){t.extend(this.persistentSettings.closedCaptionOptions,n.closedCaptionOptions);var a=JSON.stringify(this.persistentSettings);e.setItem(e.CONSTANTS.OOYALA_PLAYER_SETTINGS_KEY,a)},this)),this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,"player",t.bind(function(e,i,n){this.parameters=t.extend(this.parameters,n),n.isAd||B()},this)),this.mb.subscribe(e.EVENTS.SET_ASSET,"player",t.bind(function(e,i,n){this.parameters=t.extend(this.parameters,n),B()},this)),this.mb.subscribe(e.EVENTS.ASSET_CHANGED,"player",t.bind(function(e,t){T=t.content,E=T.duration},this)),this.mb.subscribe(e.EVENTS.DESTROY,"player",t.bind(function(t,i){v=e.STATE.DESTROYED},this)),this.mb.subscribe(e.EVENTS.BITRATE_INFO_AVAILABLE,"player",t.bind(function(e,t){_=t.bitrates},this)),this.mb.subscribe(e.EVENTS.BITRATE_CHANGED,"player",t.bind(function(e,t){O=t},this)),this.mb.subscribe(e.EVENTS.CLOSED_CAPTIONS_INFO_AVAILABLE,"player",t.bind(function(e,t){y=t},this)),this.mb.subscribe(e.EVENTS.SET_CLOSED_CAPTIONS_LANGUAGE,"player",function(e,t){m.enabled=Boolean(t),m.enabled&&(m.language=t)}),this.setEmbedCode=function(t,i){!this.hevcChecked&&e.isHevcEnabled(i)?(w=t,k=i):this.mb.publish(e.EVENTS.SET_EMBED_CODE,t,i||{},!0)},this.setAsset=function(t,i){this.mb.publish(e.EVENTS.SET_ASSET,t,i||{},!0)},this.mute=function(){this.mb.publish(e.EVENTS.CHANGE_MUTE_STATE,!0,null,!1)},this.unmute=function(t){var i=!1;"boolean"==typeof t&&(i=t),this.mb.publish(e.EVENTS.CHANGE_MUTE_STATE,!1,null,i)},this.play=function(){v!==e.STATE.ERROR&&(c?L?this.mb.publish(e.EVENTS.REPLAY):b?this.mb.publish(e.EVENTS.PLAY):this.mb.publish(e.EVENTS.INITIAL_PLAY,Date.now(),!1):R=!0)},this.pause=function(){this.mb.publish(e.EVENTS.PAUSE)},this.setPlaybackSpeed=function(t){return!!e.isValidPlaybackSpeed(t)&&(this.mb.publish(e.EVENTS.SET_PLAYBACK_SPEED,t),!0)},this.seek=function(t){L?this.mb.publish(e.EVENTS.REPLAY,t):this.mb.publish(e.EVENTS.SEEK,t)},this.setVolume=function(t){this.mb.publish(e.EVENTS.CHANGE_VOLUME,t)},this.destroy=t.bind(function(t){t&&"function"==typeof t&&(P=t),this.mb.publish(e.EVENTS.DESTROY)},this),this.triggerDestroyCallback=function(){P&&(P(),P=null)},this.updateAsset=function(t){this.mb.publish(e.EVENTS.UPDATE_ASSET,t)},this.getPlayheadTime=function(){return h},this.getLiveTime=function(){return new Date(I+1e3*h+N)},this.getDuration=function(){return A?1/0:E},this.isAutoplayBlocked=function(){var t=this;return new Promise(function(i){try{e.checkAutoplay.runTest(function(n,a){e.log("Autoplay state checked",a),t.mb.publish(e.EVENTS.AUTOPLAY_STATE_CHECKED,a),i(a)})}catch(a){var n=e.CONSTANTS.AUTOPLAY_STATE.ALL_BLOCKED;e.log("Autoplay state check failed with",a),t.mb.publish(e.EVENTS.AUTOPLAY_STATE_CHECKED,n),i(n)}})},this.getAdDuration=function(){return p},this.getBufferLength=function(){return f},this.getItem=function(){return T},this.getDescription=function(){return T?T.description:null},this.getEmbedCode=function(){return T?T.embedCode||T.embed_code||"":null},this.getTitle=function(){return T?T.title:null},this.isFullscreen=function(){return D},this.getErrorCode=function(){return null!=S?S.code:null},this.getState=function(){return v},this.getVolume=function(){return C},this.skipAd=function(){this.mb.publish(e.EVENTS.SKIP_AD)},this.getBitratesAvailable=function(){return _},this.getCurrentBitrate=function(){return O},this.setTargetBitrate=function(t){this.mb.publish(e.EVENTS.SEND_QUALITY_CHANGE,t),this.mb.publish(e.EVENTS.SET_TARGET_BITRATE,t)},this.getCurrentItemClosedCaptionsLanguages=function(){return y},this.setClosedCaptionsLanguage=function(t){if(t){var i={forceEnabled:!m.enabled};this.mb.publish(e.EVENTS.CHANGE_CLOSED_CAPTION_LANGUAGE,t,i)}},this.getClosedCaptionOptions=function(){return{closedCaptionsEnabled:m.enabled,availableLanguages:y.languages,currentCCLanguage:m.language}},this.toggleClosedCaptions=function(){o.mb.publish(e.EVENTS.TOGGLE_CLOSED_CAPTIONS)},this.subscribe=function(e,i,n){this.mb.subscribe(e,i,function(){var e=t.toArray(arguments);e.unshift(n),t.defer.apply(this,e)})},this.getVersion=function(){return e.VERSION.version},this.getElementId=function(){return l},this.isPlaying=function(){return d},this.isAdPlaying=function(){return u}}}(OO,OO._,OO.$)},{}],54:[function(e,t,i){"use strict";!function(e,t,i){e.modules=[],e.registerModule=function(t,i){if(e.trackingLevel===e.TRACKING_LEVEL.DISABLED&&e.TRACKING_MODULES.indexOf(t)>-1)e.log("Core: Registration was aborted for module "+t+" due to tracking restrictions.");else{var n=e.HM.safeDomId("moduleName",t,e.HM.fixDomId),a=e.HM.safeFunction("moduleFactoryMethod",i);e.modules.push({name:n,factory:a})}},e.plugin=function(t,i){e.log("Registered optional plugin: ",t),e.registerModule(t,function(t,n){return new(i.apply({},[e,e._,e.$,window]))(t,n)})},e.exposeStaticApi=function(t,i){var n=e.HM.safeDomId("apiModule",t),a=e.HM.safeObject("apiObject",i);e.publicApi[n]=e.publicApi[n]||{},e._.extend(e.publicApi[n],a)}}(OO,OO._,OO.$)},{}],55:[function(e,t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/typeof"));!function(e,t){e.StateMachine={create:function(i){var a,r=e.HM.safeObject("statemachine.create.cfg",i),s=e.HM.safeDomId("statemachine.create.cfg.initial",r.initial),o=e.HM.safeObject("statemachine.create.cfg.target",r.target,{}),l=e.HM.safeArrayOfElements("statemachine.create.cfg.events",r.events,function(t){return e.HM.safeObject("statemachine.create.cfg.events[]",t)},[]),c=e.HM.safeString("statemachine.create.cfg.moduleName",r.moduleName,""),u=e.HM.safeObject("statemachine.create.cfg.messageBus",r.messageBus),d={};o.debugTransitions=!1;var h="";e.StateMachine.addToActiveList(r.moduleName,o);var A=function(t){var i=null,n=t.replace(/[^\/]*\//,"").match(/^(.)(.*)/),a="on"+n[1].toUpperCase()+n[2];if(o[a])i=o[a];else{var r=t.replace(/\/.*/,"").match(/^(.)(.*)/),s="on"+r[1].toUpperCase()+r[2]+n[1].toUpperCase()+n[2];o[s]&&(i=o[s])}if(i)try{return!1!==i.apply(o,arguments)?"ok":"fail"}catch(t){if(e.log(t),e.TEST_TEST_TEST)throw t;return"fail"}return"not_found"},E=function(e){var t,i=e.from instanceof Array?e.from:e.from?[e.from]:["*"];for(d[e.name]=d[e.name]||{},t=0;t<i.length;t++)d[e.name][i[t]]=e.to||i[t]};o.removeEvent=function(e){d[e]&&(d[e]=null)},o.destroyFsm=function(){for(a in e.StateMachine.removeFromActiveList(this.moduleName,this),d)u.unsubscribe(a.toString(),c,o.receive);r=null,s=null,o=null,l=null,c=null,u=null,d={}};var p=function(t,i){t&&"*"!==i&&(t.debugTransitions&&e.log("Transition "+(c||"")+"\n  OldState: "+(t.currentState?t.currentState:"")+"\n  NewState: "+(i||"")+"\n  CausedBy: "+(h||"")),t.currentState=i)};for(o.canReceive=function(e){return d[e]&&(d[e].hasOwnProperty(o.currentState)||d[e].hasOwnProperty("*"))},o.receive=function(i){if(o)if(o.canReceive(i)){h=arguments[0];var n=o.currentState,a=d[i][n]||d[i]["*"]||n;if(n!==a){p(o,a);var r="not_found";switch("*"!==a&&(r=A.apply(o,t.union([a],t.rest(arguments)))),"not_found"===r&&(r=A.apply(o,arguments)),r){case"not_found":e.log("Module '"+c+"' does not handle state '"+a+"' or event '"+arguments[0]+"'"),p(o,n);break;case"fail":p(o,n)}}else A.apply(o,arguments)}else e.log("dropped event '"+arguments[0]+"' for '"+c+"' while in state '"+o.currentState+"' with map:",d)},a=0;a<l.length;a++)"object"===(0,n.default)(l[a])&&E(l[a]);if(p(o,s),void 0!==u)for(a in d)u.subscribe(a.toString(),c,o.receive);return o},activeStateMachines:{},addToActiveList:function(e,t){this.activeStateMachines[e]||(this.activeStateMachines[e]=[]),this.activeStateMachines[e].push(t)},removeFromActiveList:function(e,t){var i=this.activeStateMachines[e];if(i)for(var n=0;n<i.length;n++)if(i[n]===t){i.splice(n,1);break}},startDebugTransitionsFor:function(e){return this.debugTransitionsHelper(e,!0)?"STATEMACHINE '"+e+"' DEBUGGING STARTED":"Couldn't find '"+e+"'"},stopDebugTransitionsFor:function(e){return this.debugTransitionsHelper(e,!1)?"STATEMACHINE '"+e+"' DEBUGGING STOPPED":"Couldn't find '"+e+"'"},debugTransitionsHelper:function(e,t){var i=this.activeStateMachines[e];if(!i)return!1;for(var n=0;n<i.length;n++)i[n].debugTransitions=t;return!0},getActiveList:function(){var e={};for(var t in this.activeStateMachines)e[t]=this.activeStateMachines[t].length;return e},__end_marker:!0}}(OO,OO._)},{"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/typeof":18}],56:[function(e,t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=n(e("@babel/runtime/helpers/typeof")),r=n(e("@babel/runtime/helpers/slicedToArray"));!function(e,t,i){e.canAutoplay=function(){var t="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAALl21kYXQAAAMRJgGvHYCh+rRXrzsdF9OQ5sh6IUZVTbyUH1TYc9eQ5kYBqfbDfH2M5v71r9vJSjxNUUON5TCnZyZh+hxfdR9bgRVQkfi8f9fXf0JglIlP6t46usUo9ioTIvqfewozMNadUuHkUisjCSA0FXb9FBpztGmCtQqeIsvh7yfEYBOEzNm1c1FrOrc2UduY1ZJv8Ij2xWZoIGQcRgA2bPr7ykA0aQu2eXLGvLrF8ZSdktns6UXrvYY00LIOodKhFrsz6YYTjWwzDetgzC3KPCEnOYuxbu2xm43OhS/pHAlf9tlSSRoJx8TTwBpgTcQbrtaqVTSQAu+7FHXB2HkZG4bEZg8Gm4zkjMLCo47TPJ/CfAy4zWXLsZAZr0jGDydkNewLwRikhLIuel01AZH+lW3kO+YYP409hXSCu90OCly97bSYqbBYpa72JOvFhmKebViOP080hLrQ/lGzHOV7CW1TrXY5JAQrfz2cdpmH/pcFLr+VwvRPJzhDo6LM0GWELCApILayF4ag6eOncqhSW1+gVp2iNjOlx8tUFmCL8ZfdOG6FsekMj9nkSmhRuuZaOCeLB/fqc/gKoDVIO3EjK9ErHs1XQOqeNxVwFsB7rz1h9TTV6t3/3qLNnBxIjl2E3v24Gmy5bZncjU7CmMl8o5nfaYy23B0BDqvRBwI2RGnV21dunF7CyZRxTHQVe0uuwes2ePGVdfBl2U/Bt3ntG2z21MFiXkN0MwpiZYsR6maapbTXTxGEiVa9O3NcpjATS0AFVHzcDBO5k6DTVPn6llDGr1xGe9zyfb1VaJfWYiK0CSGRiGfkpSe3w4yddULOTLYS+7t6KttCXuZIxNg9MWBekV6iAeYHgQNhZiMY++tRNois/cEixZVMTtaJqafcubkHlLqO1Qdk4V0rCxS8VI/Yrwu9cb6u6XIN8emW92YkyRXZlOzZ7vDptz8ZqxlTtkNistfCcIB5+ECLhUbZ+MIqiyju61wHPKatY6rZEiH/TFY/c2JWYgmJPcVJSYbhzh1ictew8YhBv5w+3B/9zA3cD4Y87dwAAAB7AgHQKUvBDCDknQwMwyznK16ybbK58f4zdJvWIpTxMEBYlESWfEba4x/4AZwvXFJvYaXeYeyziD6qyFesKwEuL3SDHdh1AIoYosdbXUl4UZWhi3f1iILFuCghJnYZz1SRJhJK0VUxpuE8ztSA4uQXXYw8SmSc3DXMiTD4AAAAEAIB4GSdcCBB4IBoGMwFrsAAAAAQAAHgJPVZokCm5L7EAt3HIAAAAAwAAeBE11miQKLu53QAAAAMAAHghrflQgUwk1KAAAAA4QIB0FCS1fXEMAg5q1JHiGvrjLlBWFggBq1i3Wv3WeiiPbWpyxS2KOx/Qg+W8RAsAHbwyOhETI9aYEHbRtZ0GCC/NbFtmnfGMGGn6VdWj7bsDTnuTZirVKRUcChflUHyaLhVc54GO7OvhQLb8NGFxR+p6GsvCoGhzi+ZLKA9sc+m0Yt1azhLkPyOT8f4PRDTLg0FuGuCYBodg3uBCxH12aMVTgHF8CxR2jc1mvlXbu0RRJQzCXWc7hy2xKqVg6bDNzu75TX01l2csQlrm3SuoJRoGjE2rn7NbLYXmOqIMqw8jwAAABICAeECJ1ddcIEE3yEq1A5k84AAAAAOAAHgwj1dVlokCmCTUoAAAAASAAHg4jVX1lokCiBDybePM1twAAAADQAB4SKt1flwgUyTUoAAAAAaAgHQWN1dX1xDAIOwluVtntqoufg+5WPtikwAAABqAgHQeNJ1ddcQwCDk/lFkKk/qlPlZlN6NiV7m/ymkHztxrqFqf3OWPOMC3pKHbGh+5gIvudQTTXndRwDnk8AxB+/PhgCHrzBiEv5T9Zd7A48wXaOrBQmoq1hgyR7wMCJQbD+T+dVycQy6WAAAABICAeGipdS1lwgQQPOajw3cSlAAAAAQAAHhgj9dZaJAojw09gjewAAAAA0AAeHCrXXlwgUw7ud0AAAAHAIB0JDXVddcQwCDsGkyL7oLlRzAVpH5qSX05FQAAAAOAgHiIqVVf1wgQ+mpmsIAAAANAAHiAj1X5aJAou7ndAAAAGsCAdC40vVV1z4GiDmvPRMMtWfoNTXZjOkbl89TTlTtZFDiv1YrxLoy4Neym5M0VFiUTRa0yLPo2ZzXMJ3pmmLLbcfq2HjuGErGpB1cO6Pts588MYZSJmNs5A+V4N7is7C+TcCBcdMEBF3hywAAABMCAeKip9VXXCBB/sTrh7xmOjAFAAAAEAAB4mI/JVdaJApgL2665CcAAAAQAAHigjXJ11okCiAvbrVgkwAAACIAAeLCrfJ9cIFM9+IaT1CP4IgkFrEODfmTIqc//sF6kUNHAAADOioBrGBsjRHGYLDH3TXdmAexNEEI/lFVpm37he9h94H4YPgoZYwdOPFHPl7pMMOwiVwOuiRl86GtfkysComKlEYKV2zlHElYJaEgnYia4zEqG3RiQeY+CZsOoKJV9Gv9sdh2ZKtZ+nS0vwMWHgW8j/J5I6vQlsh3n8IoXMvR7m9SdfwbSqalOgPkx2XX/aLFVTOBjpV0YazzwgraqgW8MCSBKnbYYaipCdlU/naAHns1rh4uTXHuCZo4+2IeA5vYJbfKWq963KMapbAo1MWiKSW1SVM6nnoJzijuw+WoOXn9N+5mfnbAKaDxV/U7tlMAORiFd45QqtjfmX3QO+wA1AOvtsK2b2i1btFBQE+jp0bgIdatIecG+UBr5I/EPch+6s+S6rQ942uGLYbCl6ivSaoPt+2NKYLEETqlHlUlGuc9efZj4GpPpN5DveT/N+Iybtv05pmk0JDNj65MldO8gpqiVQIHz+gRkp6iMfERioai6AdmjGRtxV4oX6gUYvKNJSBc0AQX5l1cqKBlpQHxdjAzr936nyiETd5NRHkneidrJyxVj2H7wr/ymFvx2mRCL5wKOz9UmT/mxRteWEVRYCzKLOudsDNQ8bvCK/ETACopuhaxxAC76nx9/49pTNLlRKWp0twGGSOmlIt/WugcEtwNt4TgNFMk3/fEZSeGHVrHXv3GnrvZ05VQznR8pnc9v5MF+4KPcaHTUPTdM7eQx6fdL/TL24nTvnE3idhSNx3vvcD6W0WBDNSoc/fZgDZ/PqadsQez6sFotbmwWHEnlVn9x0Ae21IU3MYhcBFh/dCQICxL/NWieTD/D/w2RV78lMfSTZ/gNDEx9fGLf0g9E000QUc+UZ92JE+hvF3WPHO7bamxh2Vp6lAogMVhwQ8XLYR8mbL8rqcxlugvAvi6IhGw7T6SN4jJiZ4sfF2ArEx6d5qbLxQjdgxPuc6V1I0s18fK3mhVpC9JLGUHOWo3kaeCwuJ5bSoETClOF3SLcQgnXEr3gZJ7BhYdb7XAkMqIdoUsT8CcCIz6DX1vWtad2PeSmUejWGK/2gmentwIIo0R1syHR+DSNS3rTS8FPMucOqPd+AdTueg/m4AAAADCAgHQ6UvhDCDkrDUmT1MeQXkhvW7sPKLELfLhpA6HdslJsP7R6x6/I7bb3c1dRChK55f9Qjj7GVMJdkyC0s59awYPGguErC15TAAMTMLnsmxTB2kwShgrGZ0sODar3kxY9jOzjraQLjCPC+UGQFhjXqEIcxk12j+CD0kx2ySUCKsadNeR32WKhr2a0J05wh6RbVzZ1PDlrHEzSuM2TNJrnP7HUVo/+aLbABVaAYQfYoIRdvOQE5fZxByfZ5n1eKAb78AAAABbAgHjZJ1wIEP+jqco37lyuyi9BWTm5gY+vnx4mocxOuHP1QwmtevSxuPsy16LhMrJngT4pEg3knXILN+P48ngp+hGhnGWuVBhd3YeUCrbReOBk7jlRV2e2i5LbwAAAA8AAeMk9V2iQKbg57h1QoAAAAAUAAHjRNddokCm4RHV8ktW2o70/WsAAAAPAAHjhrf1QgUw4R74nbNgAAAIcW1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAAATiAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAebdHJhawAAAFx0a2hkAAAAAwAAAAAAAAAAAAAAAQAAAAAAAATiAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAABCAAAAQgAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAE4gAABAAAAQAAAAAHE21kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAAAAMAAAADwAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABr5taW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZ+c3RibAAABKpzdHNkAAAAAAAAAAEAAASaaGV2MQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAABCAEIASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAABDpodmNDAQFgAAAAkAAAAAAAHvAA/P34+AAADwQgAAEAGEABDAH//wFgAAADAJAAAAMAAAMAHpmYCSEAAQApQgEBAWAAAAMAkAAAAwAAAwAeoCSBJySZZmaSTK4BAAADAAEAAAMAGAgiAAEAB0QBwXK0IkAnAAEDv04BBf///7osot4JtRdH27tVpP5/wvxOeDI2NSAoYnVpbGQgODApIC0gMS45KzctZGM2MmI0N2RkMGQ5OltNYWMgT1MgWF1bY2xhbmcgNC4yLjBdWzY0IGJpdF0gOGJpdCAtIEguMjY1L0hFVkMgY29kZWMgLSBDb3B5cmlnaHQgMjAxMy0yMDE1IChjKSBNdWx0aWNvcmV3YXJlIEluYyAtIGh0dHA6Ly94MjY1Lm9yZyAtIG9wdGlvbnM6IDcyeDcyIGZwcz0yNC8xIGJpdGRlcHRoPTggbm8td3BwIGN0dT02NCBtaW4tY3Utc2l6ZT04IG1heC10dS1zaXplPTMyIHR1LWludHJhLWRlcHRoPTEgdHUtaW50ZXItZGVwdGg9MSBtZT0xIHN1Ym1lPTIgbWVyYW5nZT01NyBuby1yZWN0IG5vLWFtcCBtYXgtbWVyZ2U9MiB0ZW1wb3JhbC1tdnAgbm8tZWFybHktc2tpcCByZHBlbmFsdHk9MCBuby10c2tpcCBuby10c2tpcC1mYXN0IHN0cm9uZy1pbnRyYS1zbW9vdGhpbmcgbm8tbG9zc2xlc3Mgbm8tY3UtbG9zc2xlc3Mgbm8tY29uc3RyYWluZWQtaW50cmEgbm8tZmFzdC1pbnRyYSBvcGVuLWdvcCBuby10ZW1wb3JhbC1sYXllcnMgaW50ZXJsYWNlPTAga2V5aW50PTI1MCBtaW4ta2V5aW50PTI0IHNjZW5lY3V0PTQwIHJjLWxvb2thaGVhZD0yMCBsb29rYWhlYWQtc2xpY2VzPTAgYmZyYW1lcz00IGJmcmFtZS1iaWFzPTAgYi1hZGFwdD0yIHJlZj0zIGxpbWl0LXJlZnM9MyBuby1saW1pdC1tb2RlcyB3ZWlnaHRwIG5vLXdlaWdodGIgYXEtbW9kZT0xIHFnLXNpemU9MzIgYXEtc3RyZW5ndGg9MS4wMCBjYnFwb2Zmcz0wIGNycXBvZmZzPTAgcmQ9MyBwc3ktcmQ9Mi4wMCByZG9xLWxldmVsPTAgcHN5LXJkb3E9MC4wMCBuby1yZC1yZWZpbmUgc2lnbmhpZGUgZGVibG9jayBzYW8gbm8tc2FvLW5vbi1kZWJsb2NrIGItcHlyYW1pZCBjdXRyZWUgbm8taW50cmEtcmVmcmVzaCByYz1jcmYgY3JmPTI4LjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTUxIHFwc3RlcD00IGlwcmF0aW89MS40MCBwYnJhdGlvPTEuMzCAAAAACmZpZWwBAAAAABhzdHRzAAAAAAAAAAEAAAAeAAACAAAAABhzdHNzAAAAAAAAAAIAAAABAAAAGQAAAOBjdHRzAAAAAAAAABoAAAABAAAEAAAAAAEAAAwAAAAAAQAABgAAAAACAAAAAAAAAAEAAAIAAAAAAQAADAAAAAABAAAGAAAAAAIAAAAAAAAAAQAAAgAAAAABAAAEAAAAAAEAAAoAAAAAAQAABAAAAAABAAAAAAAAAAEAAAIAAAAAAQAACAAAAAABAAAEAAAAAAEAAAAAAAAAAQAADAAAAAABAAAGAAAAAAIAAAAAAAAAAQAAAgAAAAABAAAEAAAAAAEAAAwAAAAAAQAABgAAAAACAAAAAAAAAAEAAAIAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAeAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADFQAAAH8AAAAUAAAAFAAAABAAAAAQAAAA5QAAABYAAAASAAAAFgAAABEAAAAeAAAAbgAAABYAAAAUAAAAEQAAACAAAAASAAAAEQAAAG8AAAAXAAAAFAAAABQAAAAmAAADPgAAAMYAAABfAAAAEwAAABgAAAATAAAAFHN0Y28AAAAAAAAAAQAAACwAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ==",i="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAALl21kYXQAAAMRJgGvHYCh+rRXrzsdF9OQ5sh6IUZVTbyUH1TYc9eQ5kYBqfbDfH2M5v71r9vJSjxNUUON5TCnZyZh+hxfdR9bgRVQkfi8f9fXf0JglIlP6t46usUo9ioTIvqfewozMNadUuHkUisjCSA0FXb9FBpztGmCtQqeIsvh7yfEYBOEzNm1c1FrOrc2UduY1ZJv8Ij2xWZoIGQcRgA2bPr7ykA0aQu2eXLGvLrF8ZSdktns6UXrvYY00LIOodKhFrsz6YYTjWwzDetgzC3KPCEnOYuxbu2xm43OhS/pHAlf9tlSSRoJx8TTwBpgTcQbrtaqVTSQAu+7FHXB2HkZG4bEZg8Gm4zkjMLCo47TPJ/CfAy4zWXLsZAZr0jGDydkNewLwRikhLIuel01AZH+lW3kO+YYP409hXSCu90OCly97bSYqbBYpa72JOvFhmKebViOP080hLrQ/lGzHOV7CW1TrXY5JAQrfz2cdpmH/pcFLr+VwvRPJzhDo6LM0GWELCApILayF4ag6eOncqhSW1+gVp2iNjOlx8tUFmCL8ZfdOG6FsekMj9nkSmhRuuZaOCeLB/fqc/gKoDVIO3EjK9ErHs1XQOqeNxVwFsB7rz1h9TTV6t3/3qLNnBxIjl2E3v24Gmy5bZncjU7CmMl8o5nfaYy23B0BDqvRBwI2RGnV21dunF7CyZRxTHQVe0uuwes2ePGVdfBl2U/Bt3ntG2z21MFiXkN0MwpiZYsR6maapbTXTxGEiVa9O3NcpjATS0AFVHzcDBO5k6DTVPn6llDGr1xGe9zyfb1VaJfWYiK0CSGRiGfkpSe3w4yddULOTLYS+7t6KttCXuZIxNg9MWBekV6iAeYHgQNhZiMY++tRNois/cEixZVMTtaJqafcubkHlLqO1Qdk4V0rCxS8VI/Yrwu9cb6u6XIN8emW92YkyRXZlOzZ7vDptz8ZqxlTtkNistfCcIB5+ECLhUbZ+MIqiyju61wHPKatY6rZEiH/TFY/c2JWYgmJPcVJSYbhzh1ictew8YhBv5w+3B/9zA3cD4Y87dwAAAB7AgHQKUvBDCDknQwMwyznK16ybbK58f4zdJvWIpTxMEBYlESWfEba4x/4AZwvXFJvYaXeYeyziD6qyFesKwEuL3SDHdh1AIoYosdbXUl4UZWhi3f1iILFuCghJnYZz1SRJhJK0VUxpuE8ztSA4uQXXYw8SmSc3DXMiTD4AAAAEAIB4GSdcCBB4IBoGMwFrsAAAAAQAAHgJPVZokCm5L7EAt3HIAAAAAwAAeBE11miQKLu53QAAAAMAAHghrflQgUwk1KAAAAA4QIB0FCS1fXEMAg5q1JHiGvrjLlBWFggBq1i3Wv3WeiiPbWpyxS2KOx/Qg+W8RAsAHbwyOhETI9aYEHbRtZ0GCC/NbFtmnfGMGGn6VdWj7bsDTnuTZirVKRUcChflUHyaLhVc54GO7OvhQLb8NGFxR+p6GsvCoGhzi+ZLKA9sc+m0Yt1azhLkPyOT8f4PRDTLg0FuGuCYBodg3uBCxH12aMVTgHF8CxR2jc1mvlXbu0RRJQzCXWc7hy2xKqVg6bDNzu75TX01l2csQlrm3SuoJRoGjE2rn7NbLYXmOqIMqw8jwAAABICAeECJ1ddcIEE3yEq1A5k84AAAAAOAAHgwj1dVlokCmCTUoAAAAASAAHg4jVX1lokCiBDybePM1twAAAADQAB4SKt1flwgUyTUoAAAAAaAgHQWN1dX1xDAIOwluVtntqoufg+5WPtikwAAABqAgHQeNJ1ddcQwCDk/lFkKk/qlPlZlN6NiV7m/ymkHztxrqFqf3OWPOMC3pKHbGh+5gIvudQTTXndRwDnk8AxB+/PhgCHrzBiEv5T9Zd7A48wXaOrBQmoq1hgyR7wMCJQbD+T+dVycQy6WAAAABICAeGipdS1lwgQQPOajw3cSlAAAAAQAAHhgj9dZaJAojw09gjewAAAAA0AAeHCrXXlwgUw7ud0AAAAHAIB0JDXVddcQwCDsGkyL7oLlRzAVpH5qSX05FQAAAAOAgHiIqVVf1wgQ+mpmsIAAAANAAHiAj1X5aJAou7ndAAAAGsCAdC40vVV1z4GiDmvPRMMtWfoNTXZjOkbl89TTlTtZFDiv1YrxLoy4Neym5M0VFiUTRa0yLPo2ZzXMJ3pmmLLbcfq2HjuGErGpB1cO6Pts588MYZSJmNs5A+V4N7is7C+TcCBcdMEBF3hywAAABMCAeKip9VXXCBB/sTrh7xmOjAFAAAAEAAB4mI/JVdaJApgL2665CcAAAAQAAHigjXJ11okCiAvbrVgkwAAACIAAeLCrfJ9cIFM9+IaT1CP4IgkFrEODfmTIqc//sF6kUNHAAADOioBrGBsjRHGYLDH3TXdmAexNEEI/lFVpm37he9h94H4YPgoZYwdOPFHPl7pMMOwiVwOuiRl86GtfkysComKlEYKV2zlHElYJaEgnYia4zEqG3RiQeY+CZsOoKJV9Gv9sdh2ZKtZ+nS0vwMWHgW8j/J5I6vQlsh3n8IoXMvR7m9SdfwbSqalOgPkx2XX/aLFVTOBjpV0YazzwgraqgW8MCSBKnbYYaipCdlU/naAHns1rh4uTXHuCZo4+2IeA5vYJbfKWq963KMapbAo1MWiKSW1SVM6nnoJzijuw+WoOXn9N+5mfnbAKaDxV/U7tlMAORiFd45QqtjfmX3QO+wA1AOvtsK2b2i1btFBQE+jp0bgIdatIecG+UBr5I/EPch+6s+S6rQ942uGLYbCl6ivSaoPt+2NKYLEETqlHlUlGuc9efZj4GpPpN5DveT/N+Iybtv05pmk0JDNj65MldO8gpqiVQIHz+gRkp6iMfERioai6AdmjGRtxV4oX6gUYvKNJSBc0AQX5l1cqKBlpQHxdjAzr936nyiETd5NRHkneidrJyxVj2H7wr/ymFvx2mRCL5wKOz9UmT/mxRteWEVRYCzKLOudsDNQ8bvCK/ETACopuhaxxAC76nx9/49pTNLlRKWp0twGGSOmlIt/WugcEtwNt4TgNFMk3/fEZSeGHVrHXv3GnrvZ05VQznR8pnc9v5MF+4KPcaHTUPTdM7eQx6fdL/TL24nTvnE3idhSNx3vvcD6W0WBDNSoc/fZgDZ/PqadsQez6sFotbmwWHEnlVn9x0Ae21IU3MYhcBFh/dCQICxL/NWieTD/D/w2RV78lMfSTZ/gNDEx9fGLf0g9E000QUc+UZ92JE+hvF3WPHO7bamxh2Vp6lAogMVhwQ8XLYR8mbL8rqcxlugvAvi6IhGw7T6SN4jJiZ4sfF2ArEx6d5qbLxQjdgxPuc6V1I0s18fK3mhVpC9JLGUHOWo3kaeCwuJ5bSoETClOF3SLcQgnXEr3gZJ7BhYdb7XAkMqIdoUsT8CcCIz6DX1vWtad2PeSmUejWGK/2gmentwIIo0R1syHR+DSNS3rTS8FPMucOqPd+AdTueg/m4AAAADCAgHQ6UvhDCDkrDUmT1MeQXkhvW7sPKLELfLhpA6HdslJsP7R6x6/I7bb3c1dRChK55f9Qjj7GVMJdkyC0s59awYPGguErC15TAAMTMLnsmxTB2kwShgrGZ0sODar3kxY9jOzjraQLjCPC+UGQFhjXqEIcxk12j+CD0kx2ySUCKsadNeR32WKhr2a0J05wh6RbVzZ1PDlrHEzSuM2TNJrnP7HUVo/+aLbABVaAYQfYoIRdvOQE5fZxByfZ5n1eKAb78AAAABbAgHjZJ1wIEP+jqco37lyuyi9BWTm5gY+vnx4mocxOuHP1QwmtevSxuPsy16LhMrJngT4pEg3knXILN+P48ngp+hGhnGWuVBhd3YeUCrbReOBk7jlRV2e2i5LbwAAAA8AAeMk9V2iQKbg57h1QoAAAAAUAAHjRNddokCm4RHV8ktW2o70/WsAAAAPAAHjhrf1QgUw4R74nbNgAAAIcW1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAAATiAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAebdHJhawAAAFx0a2hkAAAAAwAAAAAAAAAAAAAAAQAAAAAAAATiAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAABCAAAAQgAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAE4gAABAAAAQAAAAAHE21kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAAAAMAAAADwAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABr5taW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZ+c3RibAAABKpzdHNkAAAAAAAAAAEAAASaaHZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAABCAEIASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAABDpodmNDAQFgAAAAkAAAAAAAHvAA/P34+AAADwQgAAEAGEABDAH//wFgAAADAJAAAAMAAAMAHpmYCSEAAQApQgEBAWAAAAMAkAAAAwAAAwAeoCSBJySZZmaSTK4BAAADAAEAAAMAGAgiAAEAB0QBwXK0IkAnAAEDv04BBf///7osot4JtRdH27tVpP5/wvxOeDI2NSAoYnVpbGQgODApIC0gMS45KzctZGM2MmI0N2RkMGQ5OltNYWMgT1MgWF1bY2xhbmcgNC4yLjBdWzY0IGJpdF0gOGJpdCAtIEguMjY1L0hFVkMgY29kZWMgLSBDb3B5cmlnaHQgMjAxMy0yMDE1IChjKSBNdWx0aWNvcmV3YXJlIEluYyAtIGh0dHA6Ly94MjY1Lm9yZyAtIG9wdGlvbnM6IDcyeDcyIGZwcz0yNC8xIGJpdGRlcHRoPTggbm8td3BwIGN0dT02NCBtaW4tY3Utc2l6ZT04IG1heC10dS1zaXplPTMyIHR1LWludHJhLWRlcHRoPTEgdHUtaW50ZXItZGVwdGg9MSBtZT0xIHN1Ym1lPTIgbWVyYW5nZT01NyBuby1yZWN0IG5vLWFtcCBtYXgtbWVyZ2U9MiB0ZW1wb3JhbC1tdnAgbm8tZWFybHktc2tpcCByZHBlbmFsdHk9MCBuby10c2tpcCBuby10c2tpcC1mYXN0IHN0cm9uZy1pbnRyYS1zbW9vdGhpbmcgbm8tbG9zc2xlc3Mgbm8tY3UtbG9zc2xlc3Mgbm8tY29uc3RyYWluZWQtaW50cmEgbm8tZmFzdC1pbnRyYSBvcGVuLWdvcCBuby10ZW1wb3JhbC1sYXllcnMgaW50ZXJsYWNlPTAga2V5aW50PTI1MCBtaW4ta2V5aW50PTI0IHNjZW5lY3V0PTQwIHJjLWxvb2thaGVhZD0yMCBsb29rYWhlYWQtc2xpY2VzPTAgYmZyYW1lcz00IGJmcmFtZS1iaWFzPTAgYi1hZGFwdD0yIHJlZj0zIGxpbWl0LXJlZnM9MyBuby1saW1pdC1tb2RlcyB3ZWlnaHRwIG5vLXdlaWdodGIgYXEtbW9kZT0xIHFnLXNpemU9MzIgYXEtc3RyZW5ndGg9MS4wMCBjYnFwb2Zmcz0wIGNycXBvZmZzPTAgcmQ9MyBwc3ktcmQ9Mi4wMCByZG9xLWxldmVsPTAgcHN5LXJkb3E9MC4wMCBuby1yZC1yZWZpbmUgc2lnbmhpZGUgZGVibG9jayBzYW8gbm8tc2FvLW5vbi1kZWJsb2NrIGItcHlyYW1pZCBjdXRyZWUgbm8taW50cmEtcmVmcmVzaCByYz1jcmYgY3JmPTI4LjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTUxIHFwc3RlcD00IGlwcmF0aW89MS40MCBwYnJhdGlvPTEuMzCAAAAACmZpZWwBAAAAABhzdHRzAAAAAAAAAAEAAAAeAAACAAAAABhzdHNzAAAAAAAAAAIAAAABAAAAGQAAAOBjdHRzAAAAAAAAABoAAAABAAAEAAAAAAEAAAwAAAAAAQAABgAAAAACAAAAAAAAAAEAAAIAAAAAAQAADAAAAAABAAAGAAAAAAIAAAAAAAAAAQAAAgAAAAABAAAEAAAAAAEAAAoAAAAAAQAABAAAAAABAAAAAAAAAAEAAAIAAAAAAQAACAAAAAABAAAEAAAAAAEAAAAAAAAAAQAADAAAAAABAAAGAAAAAAIAAAAAAAAAAQAAAgAAAAABAAAEAAAAAAEAAAwAAAAAAQAABgAAAAACAAAAAAAAAAEAAAIAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAeAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADFQAAAH8AAAAUAAAAFAAAABAAAAAQAAAA5QAAABYAAAASAAAAFgAAABEAAAAeAAAAbgAAABYAAAAUAAAAEQAAACAAAAASAAAAEQAAAG8AAAAXAAAAFAAAABQAAAAmAAADPgAAAMYAAABfAAAAEwAAABgAAAATAAAAFHN0Y28AAAAAAAAAAQAAACwAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU3LjgzLjEwMA==",n="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=";function a(t){return e._.extend({muted:!1,timeout:250,inline:!1,usePromise:!1},t)}function r(t,i,n){null==t&&(t=a({}));var r,s,o=t.muted,l=t.timeout,c=t.inline,u=t.usePromise&&!e.isIE&&!e.isEdge,d=n(),h=d.element,A=d.source,E=!1;h.muted=o,!0===o&&h.setAttribute("muted","muted"),!0===c&&h.setAttribute("playsinline","playsinline");var p=function(){h.pause&&h.pause(),h.src="",h.querySelectorAll&&Array.prototype.forEach.call(h.querySelectorAll("source")||[],function(e){e.remove&&e.remove()}),h.remove&&h.remove(),i&&i.apply(this,arguments)},f=function e(){clearTimeout(s),p({result:!1,error:h.error},d.type),h.removeEventListener("playing",T,!0),h.removeEventListener("error",e,!0)},T=function e(){clearTimeout(s),p({result:!0},d.type),h.removeEventListener("playing",e,!0),h.removeEventListener("error",f,!0)};h.src=A,s=setTimeout(function(){E=!0,clearTimeout(s),p({result:!1,error:new Error("Timeout "+l+" ms has been reached"),timedOut:!0},d.type),h.removeEventListener("playing",T,!0),h.removeEventListener("error",f,!0)},l),u||(h.addEventListener("playing",T,!0),h.addEventListener("error",f,!0)),"function"==typeof h.play?void 0!==(r=h.play())&&r.then(function(e){u&&!E&&T()},function(){u&&!E&&f()}):f()}return{playHev1:function(i,n){return r(a(i),n,function(){return{element:document.createElement("video"),source:t,type:e.CONSTANTS.HEVC_CODEC.HEV1}})},playHvc1:function(t,n){return r(a(t),n,function(){return{element:document.createElement("video"),source:i,type:e.CONSTANTS.HEVC_CODEC.HVC1}})},playVideo:function(e,t){return r(a(e),t,function(){return{element:document.createElement("video"),source:n}})}}}(),e.checkAutoplay=function(){return{runTest:function(i){if("function"==typeof i){var n={},a=e.CONSTANTS.AUTOPLAY_STATE.ALL_BLOCKED,r=!1,s=!1,o=!1,l=function(){o||(o=!0,i(n,a))},c={timeout:750,usePromise:!0};e.isIos&&(c.inline=!0);var u=t.clone(c);u.muted=!0,e.canAutoplay.playVideo(c,function(t){r=!0,t.timedOut||(n.unmuted=t.result),t.result?(n.muted=!0,a=e.CONSTANTS.AUTOPLAY_STATE.ALL_UNBLOCKED,l()):s&&(n.muted&&(a=e.CONSTANTS.AUTOPLAY_STATE.UNBLOCKED_WITHOUT_AUDIO),l())}),e.canAutoplay.playVideo(u,function(t){s=!0,t.timedOut||(n.muted=t.result),r&&(t.result&&(a=e.CONSTANTS.AUTOPLAY_STATE.UNBLOCKED_WITHOUT_AUDIO),l())})}}}}(),e.getRandomString=function(){return Math.random().toString(36).substring(7)},e.safeClone=function(n){if(t.isNumber(n)||t.isString(n)||t.isBoolean(n)||t.isFunction(n)||t.isNull(n)||t.isUndefined(n))return n;var a=n instanceof Array?[]:{};try{i.extend(!0,a,n)}catch(t){e.log("deep clone error",t)}return a},e.debug=function(){e.isDebug&&e.log.apply(e,arguments),e.$("#OOYALA_DEBUG_CONSOLE").append(JSON.stringify(e.safeClone(arguments))+"<br>")},e.inherit=function(t,i){if("function"!=typeof t)return e.log("invalid inherit, ParentClass need to be a class",t),null;var n=function(){t.apply(this,arguments),"function"==typeof i&&i.apply(this,arguments)},a=new t;return e._.extend(n.prototype,a),n.prototype.parentClass=a,n};var n={};e.attachStyle=function(e,t){var a=i('<style type="text/css">'+e+"</style>").appendTo("head");n[t]=n[t]||[],n[t].push(a)},e.removeStyles=function(t){e._.each(n[t],function(e){e.remove()})},e.getInnerProperty=function(e,i){for(var n=e,a=i;a.length>0;){var r=a.shift();if(t.isNull(n)||!t.isObject(n)||t.isFunction(n)||t.isArray(n))return null;n=n[r]}return n},e.checkHevcAvailability=function(t){var i={timeout:300,muted:!0};e.isIos&&(i.inline=!0),e.canAutoplay.playHev1(i,t),e.canAutoplay.playHvc1(i,t)},e.stripNonMp4Streams=function(e){for(var t=[],i=0;i<e.length;i++)"mp4"===e[i].delivery_type&&t.push(e[i]);return t},e.formatSeconds=function(e){var t=parseInt(e,10)%60,i=parseInt(e/3600,10),n=parseInt((e-3600*i)/60,10);return i<10&&(i="0"+i),n<10&&(n="0"+n),t<10&&(t="0"+t),parseInt(i,10)>0?i+":"+n+":"+t:n+":"+t},e.getMediaElementErrorFromCode=function(t){return{1:e.ERROR.MEDIA.MEDIA_ERR_ABORTED,2:e.ERROR.MEDIA.MEDIA_ERR_NETWORK,3:e.ERROR.MEDIA.MEDIA_ERR_DECODE,4:e.ERROR.MEDIA.MEDIA_ERR_SRC_NOT_SUPPORTED}[t]},e.timeStringToSeconds=function(e){var i=(e||"").split(":");return t.reduce(i,function(e,t){return 60*e+parseInt(t,10)},0)},e.leftPadding=function(e,t){for(var i=e?e.toString():"";i.length<t;)i="0"+i;return i},e.getColorString=function(t){return"#"+e.leftPadding(t.toString(16),6).toUpperCase()},e.isHevcEnabled=function(e){return e&&(!0===e.preferHevc||"true"===e.preferHevc)},e.hexToRgb=function(e){return[(16711680&e)>>16,(65280&e)>>8,255&e]},e.changeColor=function(t,i,n){var a=n?Math.max:Math.min,s=n?0:255,o=Math.round(255*i)*(n?-1:1),l=e.hexToRgb(t),c=(0,r.default)(l,3),u=c[0],d=c[1],h=c[2];return[e.leftPadding(a(u+o,s).toString(16),2),e.leftPadding(a(d+o,s).toString(16),2),e.leftPadding(a(h+o,s).toString(16),2)].join("")},e.decode64=function(e){var t,i=e.replace(/\n/g,""),n="",a=0,r=[];if(window.atob)return window.atob(i);do{for(t=0;t<4;t++)r[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i.charAt(a++));n+=String.fromCharCode(r[0]<<2|r[1]>>4,64===r[2]?0:(15&r[1])<<4|r[2]>>2,64===r[3]?0:(3&r[2])<<6|r[3])}while(a<i.length);return n.replace(/\0/g,"")},e.pixelPing=function(t){var i=new window.Image;i.onerror=i.onabort=function(){e.debug("onerror:",t)},i.src=e.getNormalizedTagUrl(t)},e.pixelPings=function(i){t.isEmpty(i)||t.each(i,function(t){e.pixelPing(t)},this)},e.stringToBoolean=function(e){return"string"==typeof e?e.toLowerCase().indexOf("true")>-1||e.toLowerCase().indexOf("yes")>-1:!!e},e.regexEscape=function(e){return e.replace(/[<>()\[\]{}]/g,"\\$&")},e.getNormalizedTagUrl=function(t,i){var n=(new Date).getTime(),a=escape(document.URL),r=t,s=function(t,i){t.forEach(function(t){var n=new RegExp("(".concat(e.regexEscape(t),")"),"gi");r=r.replace(n,i)})};return s(e.TEMPLATES.RANDOM_PLACE_HOLDER,n),s(e.TEMPLATES.REFERAK_PLACE_HOLDER,a),i&&s(e.TEMPLATES.EMBED_CODE_PLACE_HOLDER,i),r},e.safeSeekRange=function(e){return{start:e.length>0?e.start(0):0,end:e.length>0?e.end(0):0}},e.loadedJS=e.loadedJS||{},e.jsOnSuccessList=e.jsOnSuccessList||{},e.safeFuncCall=function(t){if("function"==typeof t)try{t.apply()}catch(t){e.log("Can not invoke function!",t)}},e.loadScriptOnce=function(t,n,a,r){if(e.jsOnSuccessList[t]=e.jsOnSuccessList[t]||[],e.loadedJS[t])return"loaded"===e.loadedJS[t]?e.safeFuncCall(n):"loading"===e.loadedJS[t]&&e.jsOnSuccessList[t].unshift(n),!1;e.loadedJS[t]="loading";return i.ajax({url:t,type:"GET",cache:!0,dataType:"script",timeout:r||15e3,success:function(){e.loadedJS[t]="loaded",e.jsOnSuccessList[t].unshift(n),e._.each(e.jsOnSuccessList[t],function(t){e.safeFuncCall(t)},this),e.jsOnSuccessList[t]=[]},error:function(){e.safeFuncCall(a)}}),!0};try{e.localStorage=window.localStorage}catch(t){e.log(t)}e.localStorage||(e.localStorage={getItem:function(e){return e&&this.hasOwnProperty(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(e){e&&this.hasOwnProperty(e)&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},e.localStorage.length=(document.cookie.match(/\=/g)||e.localStorage).length),e.setItem=function(t,i){try{e.localStorage.setItem(t,i)}catch(t){e.log(t)}},e.ensureNumber=function(e,i){var n,a;return a=null===e||t.isArray(e)?NaN:e,n=t.isNumber(a)?a:Number(a),isFinite(n)?n:void 0===i?null:i},e.JSON=window.JSON,e.normalizeLanguage=function(e){return function(i){if(e&&e.length&&i&&"string"==typeof i){var n=t.find(e,function(e){return t.some(["1","2T","2B","3"],function(t){return e[t]===i})});return n?n["2B"]:null}return null}},e.normalizeLanguageCode=e.normalizeLanguage(e.LANGUAGE_LIST),e.getLanguageFromPageLevelParams=function(t){var i=null,n=null;return t&&(t.audioLanguage?i=t.audioLanguage:t.skinConfig&&t.skinConfig.inline&&t.skinConfig.inline.audio&&t.skinConfig.inline.audio.audioLanguage&&(i=t.skinConfig.inline.audio.audioLanguage)),i&&(n=e.normalizeLanguageCode(i)),n?{issuer:"pageLevelParams",defaultTrack:n}:null},e.getLanguageFromBrowser=function(t){var i=t&&(t.language||t.userLanguage),n=i&&i.split("-")[0],a=null;return n&&(a=e.normalizeLanguageCode(n)),a?{issuer:"browser",defaultTrack:a}:null},e.getLanguageFromSkinConfig=function(t){var i=null,n=null;return t&&t.audio&&t.audio.audioLanguage&&(i=t.audio.audioLanguage),i&&(n=e.normalizeLanguageCode(i)),n?{issuer:"skinConfig",defaultTrack:n}:null},e.getLanguageFromContentTree=function(t){var i=null,n=null;return t&&t.movie_attributes&&t.movie_attributes.default_language&&t.movie_attributes.default_language.length&&(i=t.movie_attributes.default_language),i&&(n=e.normalizeLanguageCode(i)),n?{issuer:"contentTree",defaultTrack:n}:null},e.getTrackFromLocalStorage=function(t){var i=null;return t&&"function"==typeof t.getItem&&(i=t.getItem(e.CONSTANTS.SELECTED_AUDIO)),i?JSON.parse(i):null},e.restoreDefaultTrack=function(i,n){var a=t.find(n,function(t){return t.label===i.label&&t.lang===e.normalizeLanguageCode(i.lang)});return a||(a=t.find(n,function(t){return t.lang===e.normalizeLanguageCode(i.lang)})),a||null},e.getFirstTrack=function(e){return{issuer:"firstTrack",defaultTrack:t.head(e)}},e.determineDefaultTrack=function(e,i){return e.reduce(function(e,n){var a=t.find(i,function(e){return e.lang===n.defaultTrack});return e||a},null)},e.getDefaultTrack=function(t,i){var n=null,a=null;if(i&&(i.localStorage&&(n=e.getTrackFromLocalStorage(i.localStorage))&&(a=e.restoreDefaultTrack(n,t)),!a)){var r=[e.getLanguageFromPageLevelParams(i.pageLevelParams),e.getLanguageFromSkinConfig(i.skinConfig),e.getLanguageFromContentTree(i.contentTree)].filter(function(e){return e});r.length&&(a=e.determineDefaultTrack(r,t))}return a||(a=e.getFirstTrack(t).defaultTrack),a},e.isValidPlaybackSpeed=function(t){return"number"==typeof t&&t>=e.CONSTANTS.PLAYBACK_SPEED.MIN&&t<=e.CONSTANTS.PLAYBACK_SPEED.MAX},e.isAudioOnlyStream=function(t){return t===e.VIDEO.ENCODING.AUDIO_HLS||t===e.VIDEO.ENCODING.AUDIO||t===e.VIDEO.ENCODING.AUDIO_OGG||t===e.VIDEO.ENCODING.AUDIO_M4A},e.isPlaylistsPluginIncluded=function(){if(e.modules&&e.modules.length)for(var t=e.modules.length-1;t>=0;t--){var i=e.modules[t];if(null!==i&&"object"===(0,a.default)(i)&&i.name===e.PLUGINS.PLAYLISTS_PLUGIN)return!0}return!1}}(OO,OO._,OO.$)},{"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/slicedToArray":17,"@babel/runtime/helpers/typeof":18}],57:[function(e,t,i){"use strict";!function(e,t){e.STATE={LOADING:"loading",READY:"ready",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",ERROR:"error",DESTROYED:"destroyed",__end_marker:!0},e.EVENTS={PLAYER_CREATED:"playerCreated",PLAYER_EMBEDDED:"playerEmbedded",SET_EMBED_CODE:"setEmbedCode",HEVC_CHECKED:"hevcChecked",SET_EMBED_CODE_AFTER_OOYALA_AD:"setEmbedCodeAfterOoyalaAd",SET_ASSET:"setAsset",ASSET_CHANGED:"assetChanged",EMBED_CODE_CHANGED:"embedCodeChanged",EMBED_CODE_CHANGED_AFTER_OOYALA_AD:"embedCodeChangedAfterOoyalaAd",AUTH_TOKEN_CHANGED:"authTokenChanged",GUID_SET:"guidSet",WILL_FETCH_PLAYER_XML:"willFetchPlayerXml",PLAYER_XML_FETCHED:"playerXmlFetched",WILL_FETCH_CONTENT_TREE:"willFetchContentTree",SAVE_PLAYER_SETTINGS:"savePlayerSettings",CONTENT_TREE_FETCHED:"contentTreeFetched",WILL_REQUIRE_EMBED_CODE_METADATA:"willRequireEmbedCodeMetadata",WILL_FETCH_EMBED_CODE_METADATA:"willFetchEmbedCodeMetadata",EMBED_CODE_METADATA_FETCHED:"embedCodeMetadataFetched",WILL_FETCH_METADATA:"willFetchMetadata",METADATA_FETCHED:"metadataFetched",SKIN_METADATA_FETCHED:"skinMetadataFetched",ATTRIBUTES_FETCHED:"attributesFetched",THUMBNAILS_FETCHED:"thumbnailsFetched",WILL_FETCH_AUTHORIZATION:"willFetchAuthorization",AUTHORIZATION_FETCHED:"authorizationFetched",WILL_FETCH_AD_AUTHORIZATION:"willFetchAdAuthorization",AD_AUTHORIZATION_FETCHED:"adAuthorizationFetched",UPDATE_ASSET:"updateAsset",ASSET_UPDATED:"assetUpdated",CAN_SEEK:"canSeek",WILL_RESUME_MAIN_VIDEO:"willResumeMainVideo",PLAYBACK_READY:"playbackReady",INITIAL_PLAY:"initialPlay",CAN_PLAY:"canPlay",WILL_PLAY:"willPlay",REPLAY:"replay",SET_PLAYBACK_SPEED:"setPlaybackSpeed",PLAYBACK_SPEED_CHANGED:"playbackSpeedChanged",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",BUFFERING:"buffering",BUFFERED:"buffered",DOWNLOADING:"downloading",STALLED:"stalled",BITRATE_INFO_AVAILABLE:"bitrateInfoAvailable",SET_TARGET_BITRATE:"setTargetBitrate",BITRATE_CHANGED:"bitrateChanged",SEND_QUALITY_CHANGE:"receiveVideoQualityChangeEvent",CLOSED_CAPTIONS_INFO_AVAILABLE:"closedCaptionsInfoAvailable",SET_CLOSED_CAPTIONS_LANGUAGE:"setClosedCaptionsLanguage",TOGGLE_CLOSED_CAPTIONS:"toggleCLosedCaptions",SKIN_UI_LANGUAGE:"skinUiLanguage",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",MULTI_AUDIO_FETCHED:"multiAudioFetched",MULTI_AUDIO_CHANGED:"multiAudioChanged",SET_CURRENT_AUDIO:"setCurrentAudio",MULTIAUDIO_ERROR:"multiAudioError",ASSET_DIMENSION:"assetDimension",SCRUBBING:"scrubbing",SCRUBBED:"scrubbed",SEEK:"seek",SEEKED:"seeked",LIVE_BUTTON_CLICKED:"liveButtonClicked",PLAY:"play",PLAYING:"playing",PLAY_FAILED:"playFailed",PAUSE:"pause",PAUSED:"paused",PLAYED:"played",SHOULD_DISPLAY_CUE_POINTS:"shouldDisplayCuePoints",INSERT_CUE_POINT:"insertCuePoint",RESET_CUE_POINTS:"resetCuePoints",WILL_CHANGE_FULLSCREEN:"willChangeFullscreen",FULLSCREEN_CHANGED:"fullscreenChanged",SIZE_CHANGED:"sizeChanged",CHANGE_VOLUME:"changeVolume",VOLUME_CHANGED:"volumeChanged",CHANGE_MUTE_STATE:"changeMuteState",MUTE_STATE_CHANGED:"muteStateChanged",TOGGLE_STEREO_VR:"toggleStereoVr",TOGGLE_FULLSCREEN_VR:"toggleFullscreenVr",MOVE_VR_TO_DIRECTION:"moveVrToDirection",VIDEO_VR:"videoVr",CLEAR_VIDEO_TYPE:"clearVideoType",RECREATING_UI:"recreatingUI",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",END_SCREEN_SHOWN:"endScreenShown",CHANGE_CLOSED_CAPTION_LANGUAGE:"changeClosedCaptionLanguage",ERROR:"error",API_ERROR:"apiError",BITRATE_INITIAL:"bitrateInitial",BITRATE_FIVE_SEC:"bitrateFiveSec",BITRATE_STABLE:"bitrateStable",PLAYBACK_START_ERROR:"playbackStartError",PLAYBACK_MIDSTREAM_ERROR:"playbackMidstreamError",PLUGIN_LOADED:"pluginLoaded",SKIN_CONFIG_LOADED:"skinConfigLoaded",AUTOPLAY_CHECK_COMPLETE:"autoplayCheckComplete",INITIAL_PLAY_STARTING:"initialPlayStarting",REQUEST_PREVIOUS_VIDEO:"requestPreviousVideo",REQUEST_NEXT_VIDEO:"requestNextVideo",POSITION_IN_PLAYLIST_DETERMINED:"positionInPlaylistDetermined",VC_PLUGIN_ERROR:"videoPluginError",DESTROY:"destroy",WILL_PLAY_FROM_BEGINNING:"willPlayFromBeginning",DISABLE_PLAYBACK_CONTROLS:"disablePlaybackControls",ENABLE_PLAYBACK_CONTROLS:"enablePlaybackControls",VC_READY:"videoControllerReady",VC_CREATE_VIDEO_ELEMENT:"videoControllerCreateVideoElement",VC_UPDATE_ELEMENT_STREAM:"videoControllerUpdateElementStream",VC_VIDEO_ELEMENT_CREATED:"videoControllerVideoElementCreated",VC_FOCUS_VIDEO_ELEMENT:"videoControllerFocusVideoElement",VC_VIDEO_ELEMENT_IN_FOCUS:"videoControllerVideoElementInFocus",VC_VIDEO_ELEMENT_LOST_FOCUS:"videoControllerVideoElementLostFocus",VC_DISPOSE_VIDEO_ELEMENT:"videoControllerDisposeVideoElement",VC_VIDEO_ELEMENT_DISPOSED:"videoControllerVideoElementDisposed",VC_SET_VIDEO_STREAMS:"videoControllerSetVideoStreams",VC_ERROR:"videoControllerError",VC_SET_INITIAL_TIME:"videoSetInitialTime",VC_PLAY:"videoPlay",PLAY_VIDEO_ELEMENT:"playVideoElement",VC_CAN_PLAY:"videoCanPlay",VC_WILL_PLAY:"videoWillPlay",VC_PLAYING:"videoPlaying",VC_PLAYED:"videoPlayed",VC_PLAY_FAILED:"videoPlayFailed",VC_PAUSE:"videoPause",VC_PAUSED:"videoPaused",VC_SEEK:"videoSeek",VC_SEEKING:"videoSeeking",VC_SEEKED:"videoSeeked",VC_PRELOAD:"videoPreload",VC_RELOAD:"videoReload",VC_TAG_FOUND:"videoTagFound",VC_RELOAD_AND_PLAY:"vcReloadAndPlay",VC_WILL_RELOAD_AND_PLAY:"vcWillReloadAndPlay",VC_RELOADED:"vcReloaded",AD_SDK_LOADED:"adSdkLoaded",AD_SDK_LOAD_FAILED:"adSdkLoadFailed",AD_REQUEST:"adRequest",AD_REQUEST_SUCCESS:"adRequestSuccess",AD_REQUEST_ERROR:"adRequestError",AD_REQUEST_EMPTY:"adRequestEmpty",AD_PLAYBACK_ERROR:"adPlaybackError",AD_SDK_IMPRESSION:"adSdkImpression",AD_COMPLETED:"adCompleted",SSAI_AD_TIMELINE_RECEIVED:"adTimelineReceived",SSAI_PLAY_SINGLE_AD:"ssaiPlaySingleAd",SSAI_SINGLE_AD_PLAYED:"ssaiSingleAdPlayed",WILL_FETCH_ADS:"willFetchAds",DISABLE_SEEKING:"disableSeeking",ENABLE_SEEKING:"enableSeeking",WILL_PLAY_ADS:"willPlayAds",WILL_PLAY_SINGLE_AD:"willPlaySingleAd",WILL_PAUSE_ADS:"willPauseAds",WILL_RESUME_ADS:"willResumeAds",WILL_PLAY_NONLINEAR_AD:"willPlayNonlinearAd",PLAY_NONLINEAR_AD:"playNonlinearAd",ADS_PLAYED:"adsPlayed",SINGLE_AD_PLAYED:"singleAdPlayed",ADS_ERROR:"adsError",ADS_CLICKED:"adsClicked",FIRST_AD_FETCHED:"firstAdFetched",AD_CONFIG_READY:"adConfigReady",WILL_SHOW_COMPANION_ADS:"willShowCompanionAds",AD_FETCH_FAILED:"adFetchFailed",MIDROLL_PLAY_FAILED:"midrollPlayFailed",SKIP_AD:"skipAd",UPDATE_AD_COUNTDOWN:"updateAdCountdown",REPORT_EXPERIMENT_VARIATIONS:"reportExperimentVariations",FETCH_STYLE:"fetchStyle",STYLE_FETCHED:"styleFetched",SET_STYLE:"setStyle",USE_SERVER_SIDE_HLS_ADS:"useServerSideHlsAds",LOAD_ALL_VAST_ADS:"loadAllVastAds",ADS_FILTERED:"adsFiltered",ADS_MANAGER_HANDLING_ADS:"adsManagerHandlingAds",ADS_MANAGER_FINISHED_ADS:"adsManagerFinishedAds",OVERLAY_RENDERING:"overlayRendering",SHOW_AD_MARQUEE:"showAdMarquee",SDK_AD_EVENT:"sdkAdEvent",PAGE_UNLOAD_REQUESTED:"pageUnloadRequested",PAGE_PROBABLY_UNLOADING:"pageProbablyUnloading",REPORT_DISCOVERY_IMPRESSION:"reportDiscoveryImpression",REPORT_DISCOVERY_CLICK:"reportDiscoveryClick",DISCOVERY_API:{SEND_DISPLAY_EVENT:"sendDisplayEvent",SEND_CLICK_EVENT:"sendClickEvent"},PLAYLISTS_READY:"playlistReady",UI_READY:"uiReady",TOUCH_MOVE:"touchMove",END_VR_MOVE:"endVrMove",CHECK_VR_DIRECTION:"checkVrDirection",VR_DIRECTION_CHANGED:"vrDirectionChanged",VIDEO_TYPE_CHANGED:"videoTypeChanged",AUTOPLAY_STATE_CHECKED:"autoplayStateChecked",HA_ENABLED:"haEnabled",HA_FAILOVER_NOW:"haFailoverNow",HA_CONFIG_UPDATE:"haConfigUpdate",HA_NOTIFY:"haNotify",HA_NOTIFIED:"haNotified",HA_CONFIG_UPDATED:"haConfigUpdated",HA_WILL_FAILOVER:"haWillFailover",HA_FAILOVER_COMPLETE:"haFailoverComplete",HA_FAILOVER_ERROR:"haFailoverError",CANCEL_GEO_CHECKING:"cancelGeoChecking",CHROMECAST_AVAILABLE:"chromecastAvailable",CHROMECAST_CLICKED:"chromecastClicked",CHROMECAST_START_CAST:"chromecastStartCast",CHROMECAST_END_CAST:"chromecastEndCast",MARKER_DATA_AVAILABLE:"markerDataAvailable",AIRPLAY:{BUTTON_CLICKED:"airplayButtonClicked",SESSION_RESUMED:"airplaySessionResumed",AVAILABILITY_CHANGED:"airplayAvailabilityChanged",CONNECTION_CHANGED:"airplayPlaybackTargetChanged"},__end_marker:!0},e.ERROR={API:{NETWORK:"network",SAS:{GENERIC:"sas",GEO:"geo",DOMAIN:"domain",FUTURE:"future",PAST:"past",DEVICE:"device",PROXY:"proxy",CONCURRENT_STREAMS:"concurrent_streams",INVALID_HEARTBEAT:"invalid_heartbeat",ERROR_DEVICE_INVALID_AUTH_TOKEN:"device_invalid_auth_token",ERROR_DEVICE_LIMIT_REACHED:"device_limit_reached",ERROR_NON_REGISTERED_DEVICE:"non_registered_device",ERROR_DEVICE_BINDING_FAILED:"device_binding_failed",ERROR_DEVICE_ID_TOO_LONG:"device_id_too_long",ERROR_DRM_RIGHTS_SERVER_ERROR:"drm_server_error",ERROR_DRM_GENERAL_FAILURE:"drm_general_failure",ERROR_INVALID_ENTITLEMENTS:"invalid_entitlements"},CONTENT_TREE:"content_tree",METADATA:"metadata"},PLAYBACK:{GENERIC:"playback",STREAM:"stream",LIVESTREAM:"livestream",NETWORK:"network_error"},CHROMECAST:{MANIFEST:"chromecast_manifest",MEDIAKEYS:"chromecast_mediakeys",NETWORK:"chromecast_network",PLAYBACK:"chromecast_playback"},UNPLAYABLE_CONTENT:"unplayable_content",INVALID_EXTERNAL_ID:"invalid_external_id",EMPTY_CHANNEL:"empty_channel",EMPTY_CHANNEL_SET:"empty_channel_set",CHANNEL_CONTENT:"channel_content",VC:{UNSUPPORTED_ENCODING:"unsupported_encoding",UNABLE_TO_CREATE_VIDEO_ELEMENT:"unable_to_create_video_element"},MULTIAUDIO:{UNSUPPORTED_ENCODING:"multiaudio_unsupported_encoding"},MEDIA:{MEDIA_ERR_ABORTED:"aborted",MEDIA_ERR_NETWORK:"network_error",MEDIA_ERR_DECODE:"decode_error",MEDIA_ERR_SRC_NOT_SUPPORTED:"unsupported_source"}},e.URLS={VAST_PROXY:t.template("http://player.ooyala.com/nuplayer/mobile_vast_ads_proxy?callback=<%=cb%>&embed_code=<%=embedCode%>&expires=<%=expires%>&tag_url=<%=tagUrl%>"),EXTERNAL_ID:t.template("<%=server%>/player_api/v1/content_tree/external_id/<%=pcode%>/<%=externalId%>"),CONTENT_TREE:t.template("<%=server%>/player_api/v1/content_tree/embed_code/<%=pcode%>/<%=embedCode%>"),METADATA:t.template("<%=server%>/player_api/v1/metadata/embed_code/<%=playerBrandingId%>/<%=embedCode%>?videoPcode=<%=pcode%>"),EMBED_CODE_METADATA:t.template("<%=server%>/player_api/v1/metadata/embed_code/xxx/<%=embedCode%>?videoPcode=<%=pcode%>"),SAS:t.template("<%=server%>/player_api/v2/authorization/embed_code/<%=pcode%>/<%=embedCode%>"),ANALYTICS:t.template("<%=server%>/reporter.js"),THUMBNAILS:t.template("<%=server%>/api/v1/thumbnail_images/<%=embedCode%>"),GEO_BLOCKING:t.template("<%=server%>/player_api/v2/mid_stream_check/<%=pcode%>/<%=embedCode%>/<%=authToken%>"),__end_marker:!0},e.TRACKING_LEVEL={DEFAULT:"default",ANONYMOUS:"anonymous",DISABLED:"disabled"},e.MODULE_NAMES={OOYALA_ANALYTICS:"ooyala_analytics",ANALYTICS_FRAMEWORK_TRANSLATOR:"AnalyticsFrameworkTranslator",LIBRATO:"Librato"},e.TRACKING_MODULES=[e.MODULE_NAMES.OOYALA_ANALYTICS,e.MODULE_NAMES.ANALYTICS_FRAMEWORK_TRANSLATOR,e.MODULE_NAMES.LIBRATO],e.PLUGINS={ADS:"ads",VIDEO:"video",ANALYTICS:"analytics",PLAYLIST:"playlist",SKIN:"skin",PLAYLISTS_PLUGIN:"playlistsPlugin"},e.PAGE_LEVEL_PARAMS={USE_FIRST_VIDEO_FROM_PLAYLIST:"useFirstVideoFromPlaylist"},e.VIDEO={MAIN:"main",RELOAD:"reload",ADS:"ads",ENCODING:{DRM:{HLS:"hls_drm",DASH:"dash_drm"},AUDIO:"audio",AUDIO_OGG:"audio_ogg",AUDIO_M4A:"audio_m4a",AUDIO_HLS:"audio_hls",DASH:"dash",HDS:"hds",HLS:"hls",IMA:"ima",PULSE:"pulse",MP4:"mp4",YOUTUBE:"youtube",RTMP:"rtmp",SMOOTH:"smooth",WEBM:"webm",AKAMAI_HD_VOD:"akamai_hd_vod",AKAMAI_HD2_VOD_HLS:"akamai_hd2_vod_hls",AKAMAI_HD2_VOD_HDS:"akamai_hd2_vod_hds",AKAMAI_HD2_HDS:"akamai_hd2_hds",AKAMAI_HD2_HLS:"akamai_hd2_hls",FAXS_HLS:"faxs_hls",WIDEVINE_HLS:"wv_hls",WIDEVINE_MP4:"wv_mp4",WIDEVINE_WVM:"wv_wvm",UNKNOWN:"unknown"},FEATURE:{CLOSED_CAPTIONS:"closedCaptions",VIDEO_OBJECT_SHARING_GIVE:"videoObjectSharingGive",VIDEO_OBJECT_SHARING_TAKE:"videoObjectSharingTake",BITRATE_CONTROL:"bitrateControl"},TECHNOLOGY:{FLASH:"flash",HTML5:"html5",MIXED:"mixed",OTHER:"other"}},e.VIDEO_PLAYERS={OOYALA_HTML5_VIDEO_TECH:"ooyalaHtml5VideoTech",BIT_WRAPPER:"bit-wrapper"},e.PLAYER_VR={DEFAULT_SETTINGS:{STEREO:!1,CONTENT_TYPE:"single",START_POSITION:0,VIEW_WINDOW:{minYaw:0,maxYaw:360,minPitch:-90,maxPitch:90}}},e.CSS={VISIBLE_POSITION:"0px",INVISIBLE_POSITION:"-100000px",VISIBLE_DISPLAY:"block",INVISIBLE_DISPLAY:"none",VIDEO_Z_INDEX:1e4,SUPER_Z_INDEX:2e4,ALICE_SKIN_Z_INDEX:11e3,OVERLAY_Z_INDEX:10500,TRANSPARENT_COLOR:"rgba(255, 255, 255, 0)",__end_marker:!0},e.TEMPLATES={RANDOM_PLACE_HOLDER:["[place_random_number_here]","<now>","[timestamp]","<rand-num>","[cache_buster]","[random]"],REFERAK_PLACE_HOLDER:["[referrer_url]","[LR_URL]","[description_url]"],EMBED_CODE_PLACE_HOLDER:["[oo_embedcode]"],MESSAGE:'<table width="100%" height="100%" bgcolor="black" style="padding-left:55px; padding-right:55px; background-color:black; color: white;"><tbody><tr valign="middle"><td align="right"><span style="font-family:Arial; font-size:20px"><%= message %></span></td></tr></tbody></table>',__end_marker:!0},e.CONSTANTS={AD_PLAY_COUNT_KEY:"oo_ad_play_count",AD_ID_TO_PLAY_COUNT_DIVIDER:": ",AD_PLAY_COUNT_DIVIDER:"|",MAX_AD_PLAY_COUNT_HISTORY_LENGTH:20,CONTROLS_BOTTOM_PADDING:10,SEEK_TO_END_LIMIT:4,PLAYER_TYPE:{VIDEO:"video",AUDIO:"audio"},HEVC_CODEC:{HEV1:"hev1",HVC1:"hvc1"},AUTO_BITRATE:"auto",CLOSED_CAPTIONS:{SHOWING:"showing",HIDDEN:"hidden",DISABLED:"disabled"},OOYALA_PLAYER_SETTINGS_KEY:"ooyala_player_settings",SELECTED_AUDIO:"selectedAudio",VALHALLA_CACHE_CONTENT_TREE_KEY:"content_tree",VALHALLA_CACHE_METADATA_KEY:"metadata",VALHALLA_CACHE_SAS_KEY:"sas_auth",GUID_STORAGE_KEY:"ooyala_guid",PLAYBACK_SPEED:{MIN:.5,MAX:2},AUTOPLAY_STATE:{ALL_UNBLOCKED:"All_Unblocked",ALL_BLOCKED:"All_Blocked",UNBLOCKED_WITHOUT_AUDIO:"Unblocked_without_Audio"},__end_marker:!0}}(OO,OO._)},{}],58:[function(e,t,i){"use strict";var n,a=e("jquery"),r=e("underscore");OO._=r,OO.$=a,OO.publicApi=OO.publicApi||{},OO.playerParams=OO.playerParams||{},OO.publicApi.trackingLevel=OO.trackingLevel=(window.OO||{}).trackingLevel;var s=!1,o=2e3;OO.consoleOutput=[],OO.log=function(){if(void 0!==window.console&&"function"==typeof window.console.log&&OO.playerParams.debug&&window.console.log.apply(window.console,arguments),s){var e,t,i="";for(e=0;e<arguments.length;e++)i+=arguments[e]+" ";OO.consoleOutput||(OO.consoleOutput=[]),n&&(t=new RegExp(n)),t&&!t.test(i)||(OO.consoleOutput.length>=o&&OO.consoleOutput.shift(),OO.consoleOutput.push(i))}},OO.startRecordingConsoleOutput=function(e){return n=e,s=!0,"CONSOLE RECORDING STARTED"},OO.stopRecordingConsoleOutput=function(){return s=!1,"CONSOLE RECORDING STOPPED"},OO.clearRecordedConsoleOutput=function(){return OO.consoleOutput||(OO.consoleOutput=[]),OO.consoleOutput.splice(0,OO.consoleOutput.length),"CONSOLE RECORDING CLEARED"},OO.setMaxConsoleOutputLines=function(e){return OO.consoleOutput||(OO.consoleOutput=[]),e<OO.consoleOutput.length&&OO.consoleOutput.splice(0,OO.consoleOutput.length-e),"CONSOLE MAX LINES: "+(o=e)},window.JSON||(window.JSON={stringify:function(e){return"<object>"},__end_marker:!0});var l=OO.playerParams.namespace||"OO";if(window[l]&&window[l].Player)throw OO.log("PlayerV4 is loaded already!!!"),window[l].REV!==OO.publicApi.REV&&OO.log("there is a different VERSION loaded:",window[l].REV,OO.publicApi.REV),new Error("PlayerV4 already defined!!");window[l]&&window[l].__static?OO.publicApi.__static=window[l].__static:OO.publicApi.__static={readyList:[],docReady:!1,apiReady:!1},window[l]=OO.publicApi,window[l].__internal=OO,OO.isReady=function(){return OO.publicApi.__static.apiReady&&OO.publicApi.__static.docReady},OO.tryCallReady=function(){if(OO.isReady())for(;OO.publicApi.__static.readyList.length>0;){var e=OO.publicApi.__static.readyList.pop();if("function"==typeof e)try{e(OO.publicApi)}catch(e){OO.log("Error executing ready function",e,e.stack)}}},OO.publicApi.ready=function(e){OO.publicApi.__static.readyList.unshift(e),OO.tryCallReady()};var c=OO;OO.publicApi.plugin=function(e,t){c.isReady()?(OO.log("plugin is ready to register",c,e),c.plugin(e,t)):(OO.log("plugin",e),OO.publicApi.__static.readyList.push(function(i){i.plugin(e,t)}))}},{jquery:34,underscore:36}],59:[function(e,t,i){"use strict";!function(e){e.LANGUAGE_LIST=[{1:"aa",3:"aar",name:"Afar","2B":"aar","2T":"",local:"Qafaraf"},{1:"ab",3:"abk",name:"Abkhazian","2B":"abk","2T":"",local:"Аҧсуа бызшәа"},{1:"",3:"ace",name:"Achinese","2B":"ace","2T":"",local:"بهسا اچيه"},{1:"",3:"ach",name:"Acoli","2B":"ach","2T":"",local:"Lwo"},{1:"",3:"ada",name:"Adangme","2B":"ada","2T":"",local:"Dangme"},{1:"",3:"ady",name:"Adyghe","2B":"ady","2T":"",local:"Адыгабзэ"},{1:"",3:"",name:"Afro-Asiatic languages","2B":"afa","2T":"",local:"Afro-Asiatic languages"},{1:"",3:"afh",name:"Afrihili","2B":"afh","2T":"",local:"El-Afrihili"},{1:"af",3:"afr",name:"Afrikaans","2B":"afr","2T":"",local:"Afrikaans"},{1:"",3:"ain",name:"Ainu","2B":"ain","2T":"",local:"アイヌ・イタㇰ"},{1:"ak",3:"aka",name:"Akan","2B":"aka","2T":"",local:"Akan"},{1:"",3:"akk",name:"Akkadian","2B":"akk","2T":"",local:"𒀝𒅗𒁺𒌑"},{1:"sq",3:"sqi",name:"Albanian","2B":"alb","2T":"sqi",local:"Shqip"},{1:"",3:"ale",name:"Aleut","2B":"ale","2T":"",local:"Унáӈам тунуý"},{1:"",3:"",name:"Algonquian languages","2B":"alg","2T":"",local:"Algonquian languages"},{1:"",3:"alt",name:"Southern Altai","2B":"alt","2T":"",local:"Алтай тили"},{1:"am",3:"amh",name:"Amharic","2B":"amh","2T":"",local:"አማርኛ"},{1:"",3:"ang",name:"Old English (ca. 450–1100)","2B":"ang","2T":"",local:"Ænglisc"},{1:"",3:"anp",name:"Angika","2B":"anp","2T":"",local:"Angika"},{1:"",3:"",name:"Apache languages","2B":"apa","2T":"",local:"Apache languages"},{1:"ar",3:"ara",name:"Arabic","2B":"ara","2T":"",local:"العَرَبِيَّة"},{1:"",3:"arc",name:"Official Aramaic (700–300 BCE)","2B":"arc","2T":"",local:"Official Aramaic (700–300 BCE)"},{1:"an",3:"arg",name:"Aragonese","2B":"arg","2T":"",local:"aragonés"},{1:"hy",3:"hye",name:"Armenian","2B":"arm","2T":"hye",local:"Հայերէն"},{1:"",3:"arn",name:"Mapudungun","2B":"arn","2T":"",local:"Mapudungun"},{1:"",3:"arp",name:"Arapaho","2B":"arp","2T":"",local:"Hinónoʼeitíít"},{1:"",3:"",name:"Artificial languages","2B":"art","2T":"",local:"Artificial languages"},{1:"",3:"arw",name:"Arawak","2B":"arw","2T":"",local:"Lokono"},{1:"as",3:"asm",name:"Assamese","2B":"asm","2T":"",local:"অসমীয়া"},{1:"",3:"ast",name:"Asturian","2B":"ast","2T":"",local:"Asturianu"},{1:"",3:"",name:"Athapascan languages","2B":"ath","2T":"",local:"Athapascan languages"},{1:"",3:"",name:"Australian languages","2B":"aus","2T":"",local:"Australian languages"},{1:"av",3:"ava",name:"Avaric","2B":"ava","2T":"",local:"Магӏарул мацӏ"},{1:"ae",3:"ave",name:"Avestan","2B":"ave","2T":"",local:"Avestan"},{1:"",3:"awa",name:"Awadhi","2B":"awa","2T":"",local:"अवधी"},{1:"ay",3:"aym",name:"Aymara","2B":"aym","2T":"",local:"Aymar aru"},{1:"az",3:"aze",name:"Azerbaijani","2B":"aze","2T":"",local:"Azərbaycan dili"},{1:"",3:"",name:"Banda languages","2B":"bad","2T":"",local:"Banda languages"},{1:"",3:"",name:"Bamileke languages","2B":"bai","2T":"",local:"Bamiléké"},{1:"ba",3:"bak",name:"Bashkir","2B":"bak","2T":"",local:"Башҡорт теле"},{1:"",3:"bal",name:"Baluchi","2B":"bal","2T":"",local:"بلوچی"},{1:"bm",3:"bam",name:"Bambara","2B":"bam","2T":"",local:"ߓߊߡߊߣߊߣߞߊߣ"},{1:"",3:"ban",name:"Balinese","2B":"ban","2T":"",local:"ᬪᬵᬱᬩᬮᬶ"},{1:"eu",3:"eus",name:"Basque","2B":"baq","2T":"eus",local:"euskara"},{1:"",3:"bas",name:"Basa","2B":"bas","2T":"",local:"Mbene"},{1:"",3:"",name:"Baltic languages","2B":"bat","2T":"",local:"Baltic languages"},{1:"",3:"bej",name:"Beja","2B":"bej","2T":"",local:"Bidhaawyeet"},{1:"be",3:"bel",name:"Belarusian","2B":"bel","2T":"",local:"Беларуская мова"},{1:"",3:"bem",name:"Bemba","2B":"bem","2T":"",local:"Chibemba"},{1:"bn",3:"ben",name:"Bengali","2B":"ben","2T":"",local:"বাংলা"},{1:"",3:"",name:"Berber languages","2B":"ber","2T":"",local:"Tamaziɣt"},{1:"",3:"bho",name:"Bhojpuri","2B":"bho","2T":"",local:"भोजपुरी"},{1:"bh",3:"",name:"Bihari languages","2B":"bih","2T":"",local:"Bihari languages"},{1:"",3:"bik",name:"Bikol","2B":"bik","2T":"",local:"Bikol"},{1:"",3:"bin",name:"Bini","2B":"bin","2T":"",local:"Ẹ̀dó"},{1:"bi",3:"bis",name:"Bislama","2B":"bis","2T":"",local:"Bislama"},{1:"",3:"bla",name:"Siksika","2B":"bla","2T":"",local:"ᓱᖽᐧᖿ"},{1:"",3:"",name:"Bantu languages","2B":"bnt","2T":"",local:"Bantu languages"},{1:"bo",3:"bod",name:"Tibetan","2B":"ib","2T":"bod",local:"བོད་སྐད་"},{1:"bs",3:"bos",name:"Bosnian","2B":"bos","2T":"",local:"bosanski"},{1:"",3:"bra",name:"Braj","2B":"bra","2T":"",local:"Braj"},{1:"br",3:"bre",name:"Breton","2B":"bre","2T":"",local:"Brezhoneg"},{1:"",3:"",name:"Batak languages","2B":"btk","2T":"",local:"Batak languages"},{1:"",3:"bua",name:"Buriat","2B":"bua","2T":"",local:"буряад хэлэн"},{1:"",3:"bug",name:"Buginese","2B":"bug","2T":"",local:"ᨅᨔ ᨕᨘᨁᨗ"},{1:"bg",3:"bul",name:"Bulgarian","2B":"bul","2T":"",local:"български език"},{1:"my",3:"mya",name:"Burmese","2B":"bur","2T":"mya",local:"မြန်မာစာ"},{1:"",3:"byn",name:"Bilin","2B":"byn","2T":"",local:"ብሊና, ብሊን"},{1:"",3:"cad",name:"Caddo","2B":"cad","2T":"",local:"Hasí:nay"},{1:"",3:"",name:"Central American Indian languages","2B":"cai","2T":"",local:"Central American Indian languages"},{1:"",3:"car",name:"Galibi Carib","2B":"car","2T":"",local:"Kari'nja"},{1:"ca",3:"cat",name:"Catalan","2B":"cat","2T":"",local:"català"},{1:"",3:"",name:"Caucasian languages","2B":"cau","2T":"",local:"Caucasian languages"},{1:"",3:"ceb",name:"Cebuano","2B":"ceb","2T":"",local:"Sinugbuanong Binisayâ"},{1:"",3:"",name:"Celtic languages","2B":"cel","2T":"",local:"Celtic languages"},{1:"cs",3:"ces",name:"Czech","2B":"ze","2T":"ces",local:"čeština"},{1:"ch",3:"cha",name:"Chamorro","2B":"cha","2T":"",local:"Finu' Chamoru"},{1:"",3:"chb",name:"Chibcha","2B":"chb","2T":"",local:"Muysccubun"},{1:"ce",3:"che",name:"Chechen","2B":"che","2T":"",local:"Нохчийн мотт"},{1:"",3:"chg",name:"Chagatai","2B":"chg","2T":"",local:"جغتای"},{1:"zh",3:"zho",name:"Chinese","2B":"chi","2T":"zho",local:"中文"},{1:"",3:"chk",name:"Chuukese","2B":"chk","2T":"",local:"Chuukese"},{1:"",3:"chm",name:"Mari","2B":"chm","2T":"",local:"марий йылме"},{1:"",3:"chn",name:"Chinook jargon","2B":"chn","2T":"",local:"chinuk wawa"},{1:"",3:"cho",name:"Choctaw","2B":"cho","2T":"",local:"Chahta'"},{1:"",3:"chp",name:"Chipewyan","2B":"chp","2T":"",local:"ᑌᓀᓱᒼᕄᓀ (Dënesųłiné)"},{1:"",3:"chr",name:"Cherokee","2B":"chr","2T":"",local:"ᏣᎳᎩ ᎦᏬᏂᎯᏍᏗ"},{1:"cu",3:"chu",name:"Church Slavic","2B":"chu","2T":"",local:"Славе́нскїй ѧ҆зы́къ"},{1:"cv",3:"chv",name:"Chuvash","2B":"chv","2T":"",local:"Чӑвашла"},{1:"",3:"chy",name:"Cheyenne","2B":"chy","2T":"",local:"Tsėhésenėstsestȯtse"},{1:"",3:"",name:"Chamic languages","2B":"cmc","2T":"",local:"Chamic languages"},{1:"",3:"cnr",name:"Montenegrin","2B":"cnr","2T":"",local:"crnogorski / црногорски"},{1:"",3:"cop",name:"Coptic","2B":"cop","2T":"",local:"ϯⲙⲉⲑⲣⲉⲙⲛ̀ⲭⲏⲙⲓ"},{1:"kw",3:"cor",name:"Cornish","2B":"cor","2T":"",local:"Kernowek"},{1:"co",3:"cos",name:"Corsican","2B":"cos","2T":"",local:"Corsu"},{1:"",3:"",name:"English based Creoles and pidgins","2B":"cpe","2T":"",local:"English based Creoles and pidgins"},{1:"",3:"",name:"French-based Creoles and pidgins","2B":"cpf","2T":"",local:"French-based Creoles and pidgins"},{1:"",3:"",name:"Portuguese-based Creoles and pidgins","2B":"cpp","2T":"",local:"Portuguese-based Creoles and pidgins"},{1:"cr",3:"cre",name:"Cree","2B":"cre","2T":"",local:"Cree"},{1:"",3:"crh",name:"Crimean Tatar","2B":"crh","2T":"",local:"Къырымтатарджа"},{1:"",3:"",name:"Creoles and pidgins","2B":"crp","2T":"",local:"Creoles and pidgins"},{1:"",3:"csb",name:"Kashubian","2B":"csb","2T":"",local:"Kaszëbsczi jãzëk"},{1:"",3:"",name:"Cushitic languages","2B":"cus","2T":"",local:"Cushitic languages"},{1:"cy",3:"cym",name:"Welsh","2B":"el","2T":"cym",local:"Cymraeg"},{1:"cs",3:"ces",name:"Czech","2B":"cze","2T":"ces",local:"čeština"},{1:"",3:"dak",name:"Dakota","2B":"dak","2T":"",local:"Dakhótiyapi"},{1:"da",3:"dan",name:"Danish","2B":"dan","2T":"",local:"dansk"},{1:"",3:"dar",name:"Dargwa","2B":"dar","2T":"",local:"дарган мез"},{1:"",3:"",name:"Land Dayak languages","2B":"day","2T":"",local:"Land Dayak languages"},{1:"",3:"del",name:"Delaware","2B":"del","2T":"",local:"Delaware"},{1:"",3:"den",name:"Slave (Athapascan)","2B":"den","2T":"",local:"Dene K'e"},{1:"de",3:"deu",name:"German","2B":"ger","2T":"deu",local:"Deutsch"},{1:"",3:"dgr",name:"Dogrib","2B":"dgr","2T":"",local:"डोगरी ڈوگرى"},{1:"",3:"din",name:"Dinka","2B":"din","2T":"",local:"Thuɔŋjäŋ"},{1:"dv",3:"div",name:"Dhivehi","2B":"div","2T":"",local:"ދިވެހި"},{1:"",3:"doi",name:"Dogri","2B":"doi","2T":"",local:"डोगरी"},{1:"",3:"",name:"Dravidian languages","2B":"dra","2T":"",local:"Dravidian languages"},{1:"",3:"dsb",name:"Lower Sorbian","2B":"dsb","2T":"",local:"Dolnoserbski"},{1:"",3:"dua",name:"Duala","2B":"dua","2T":"",local:"Duala"},{1:"",3:"dum",name:"Middle Dutch (ca. 1050–1350)","2B":"dum","2T":"",local:"Middle Dutch (ca. 1050–1350)"},{1:"nl",3:"nld",name:"Dutch","2B":"dut","2T":"nld",local:"Nederlands"},{1:"",3:"dyu",name:"Dyula","2B":"dyu","2T":"",local:"Julakan"},{1:"dz",3:"dzo",name:"Dzongkha","2B":"dzo","2T":"",local:"རྫོང་ཁ་"},{1:"",3:"efi",name:"Efik","2B":"efi","2T":"",local:"Efik"},{1:"",3:"egy",name:"Egyptian (Ancient)","2B":"egy","2T":"",local:"Egyptian (Ancient)"},{1:"",3:"eka",name:"Ekajuk","2B":"eka","2T":"",local:"Ekajuk"},{1:"el",3:"ell",name:"Modern Greek (1453–)","2B":"re","2T":"ell",local:"Νέα Ελληνικά"},{1:"",3:"elx",name:"Elamite","2B":"elx","2T":"",local:"Elamite"},{1:"en",3:"eng",name:"English","2B":"eng","2T":"",local:"English"},{1:"",3:"enm",name:"Middle English (1100–1500)","2B":"enm","2T":"",local:"Middle English (1100–1500)"},{1:"eo",3:"epo",name:"Esperanto","2B":"epo","2T":"",local:"Esperanto"},{1:"et",3:"est",name:"Estonian","2B":"est","2T":"",local:"eesti keel"},{1:"eu",3:"eus",name:"Basque","2B":"aq","2T":"eus",local:"euskara"},{1:"ee",3:"ewe",name:"Ewe","2B":"ewe","2T":"",local:"Èʋegbe"},{1:"",3:"ewo",name:"Ewondo","2B":"ewo","2T":"",local:"Ewondo"},{1:"",3:"fan",name:"Fang","2B":"fan","2T":"",local:"Fang"},{1:"fo",3:"fao",name:"Faroese","2B":"fao","2T":"",local:"føroyskt"},{1:"fa",3:"fas",name:"Persian","2B":"er","2T":"fas",local:"فارسی"},{1:"",3:"fat",name:"Fanti","2B":"fat","2T":"",local:"Mfantse"},{1:"fj",3:"fij",name:"Fijian","2B":"fij","2T":"",local:"Na Vosa Vakaviti"},{1:"",3:"fil",name:"Filipino","2B":"fil","2T":"",local:"Wikang Filipino"},{1:"fi",3:"fin",name:"Finnish","2B":"fin","2T":"",local:"suomen kieli"},{1:"",3:"",name:"Finno-Ugrian languages","2B":"fiu","2T":"",local:"Finno-Ugrian languages"},{1:"",3:"fon",name:"Fon","2B":"fon","2T":"",local:"Fon gbè"},{1:"fr",3:"fra",name:"French","2B":"fre","2T":"fra",local:"Français"},{1:"",3:"frm",name:"Middle French (ca. 1400–1600)","2B":"frm","2T":"",local:"François"},{1:"",3:"fro",name:"Old French (842–ca. 1400)","2B":"fro","2T":"",local:"Franceis"},{1:"",3:"frr",name:"Northern Frisian","2B":"frr","2T":"",local:"Frasch"},{1:"",3:"frs",name:"Eastern Frisian","2B":"frs","2T":"",local:"Seeltersk"},{1:"fy",3:"fry",name:"Western Frisian","2B":"fry","2T":"",local:"Frysk"},{1:"ff",3:"ful",name:"Fulah","2B":"ful","2T":"",local:"Fulfulde"},{1:"",3:"fur",name:"Friulian","2B":"fur","2T":"",local:"Furlan"},{1:"",3:"gaa",name:"Ga","2B":"gaa","2T":"",local:"Gã"},{1:"",3:"gay",name:"Gayo","2B":"gay","2T":"",local:"Basa Gayo"},{1:"",3:"gba",name:"Gbaya","2B":"gba","2T":"",local:"Gbaya"},{1:"",3:"",name:"Germanic languages","2B":"gem","2T":"",local:"Germanic languages"},{1:"ka",3:"kat",name:"Georgian","2B":"geo","2T":"kat",local:"ქართული"},{1:"de",3:"deu",name:"German","2B":"ger","2T":"deu",local:"Deutsch"},{1:"",3:"gez",name:"Geez","2B":"gez","2T":"",local:"ግዕዝ"},{1:"",3:"gil",name:"Gilbertese","2B":"gil","2T":"",local:"Taetae ni Kiribati"},{1:"gd",3:"gla",name:"Gaelic","2B":"gla","2T":"",local:"Gàidhlig"},{1:"ga",3:"gle",name:"Irish","2B":"gle","2T":"",local:"Gaeilge"},{1:"gl",3:"glg",name:"Galician","2B":"glg","2T":"",local:"galego"},{1:"gv",3:"glv",name:"Manx","2B":"glv","2T":"",local:"Gaelg"},{1:"",3:"gmh",name:"Middle High German (ca. 1050–1500)","2B":"gmh","2T":"",local:"Diutsch"},{1:"",3:"goh",name:"Old High German (ca. 750–1050)","2B":"goh","2T":"",local:"Diutisk"},{1:"",3:"gon",name:"Gondi","2B":"gon","2T":"",local:"Gondi"},{1:"",3:"gor",name:"Gorontalo","2B":"gor","2T":"",local:"Bahasa Hulontalo"},{1:"",3:"got",name:"Gothic","2B":"got","2T":"",local:"Gothic"},{1:"",3:"grb",name:"Grebo","2B":"grb","2T":"",local:"Grebo"},{1:"",3:"grc",name:"Ancient Greek (to 1453)","2B":"grc","2T":"",local:"Ἑλληνική"},{1:"el",3:"ell",name:"Modern Greek (1453–)","2B":"gre","2T":"ell",local:"Νέα Ελληνικά"},{1:"gn",3:"grn",name:"Guarani","2B":"grn","2T":"",local:"Avañe'ẽ"},{1:"",3:"gsw",name:"Swiss German","2B":"gsw","2T":"",local:"Schwiizerdütsch"},{1:"gu",3:"guj",name:"Gujarati","2B":"guj","2T":"",local:"ગુજરાતી"},{1:"",3:"gwi",name:"Gwichʼin","2B":"gwi","2T":"",local:"Dinjii Zhu’ Ginjik"},{1:"",3:"hai",name:"Haida","2B":"hai","2T":"",local:"X̱aat Kíl"},{1:"ht",3:"hat",name:"Haitian","2B":"hat","2T":"",local:"kreyòl ayisyen"},{1:"ha",3:"hau",name:"Hausa","2B":"hau","2T":"",local:"Harshen Hausa"},{1:"",3:"haw",name:"Hawaiian","2B":"haw","2T":"",local:"ʻŌlelo Hawaiʻi"},{1:"he",3:"heb",name:"Hebrew","2B":"heb","2T":"",local:"עברית"},{1:"hz",3:"her",name:"Herero","2B":"her","2T":"",local:"Otjiherero"},{1:"",3:"hil",name:"Hiligaynon","2B":"hil","2T":"",local:"Ilonggo"},{1:"",3:"",name:"Himachali languages","2B":"him","2T":"",local:"Himachali languages"},{1:"hi",3:"hin",name:"Hindi","2B":"hin","2T":"",local:"हिन्दी"},{1:"",3:"hit",name:"Hittite","2B":"hit","2T":"",local:"𒉈𒅆𒇷"},{1:"",3:"hmn",name:"Hmong","2B":"hmn","2T":"",local:"lus Hmoob"},{1:"ho",3:"hmo",name:"Hiri Motu","2B":"hmo","2T":"",local:"Hiri Motu"},{1:"hr",3:"hrv",name:"Croatian","2B":"hrv","2T":"",local:"hrvatski"},{1:"",3:"hsb",name:"Upper Sorbian","2B":"hsb","2T":"",local:"hornjoserbšćina"},{1:"hu",3:"hun",name:"Hungarian","2B":"hun","2T":"",local:"magyar nyelv"},{1:"",3:"hup",name:"Hupa","2B":"hup","2T":"",local:"Na:tinixwe Mixine:whe'"},{1:"hy",3:"hye",name:"Armenian","2B":"rm","2T":"hye",local:"Հայերէն"},{1:"",3:"iba",name:"Iban","2B":"iba","2T":"",local:"Jaku Iban"},{1:"ig",3:"ibo",name:"Igbo","2B":"ibo","2T":"",local:"Asụsụ Igbo"},{1:"is",3:"isl",name:"Icelandic","2B":"ice","2T":"isl",local:"íslenska"},{1:"io",3:"ido",name:"Ido","2B":"ido","2T":"",local:"Ido"},{1:"ii",3:"iii",name:"Sichuan Yi","2B":"iii","2T":"",local:"ꆈꌠꉙ"},{1:"",3:"",name:"Ijo languages","2B":"ijo","2T":"",local:"Ịjọ"},{1:"iu",3:"iku",name:"Inuktitut","2B":"iku","2T":"",local:"ᐃᓄᒃᑎᑐᑦ"},{1:"ie",3:"ile",name:"Interlingue","2B":"ile","2T":"",local:"Interlingue"},{1:"",3:"ilo",name:"Iloko","2B":"ilo","2T":"",local:"Pagsasao nga Ilokano"},{1:"ia",3:"ina",name:"Interlingua (International Auxiliary Language Association)","2B":"ina","2T":"",local:"Interlingua (International Auxiliary Language Association)"},{1:"",3:"",name:"Indic languages","2B":"inc","2T":"",local:"Indic languages"},{1:"id",3:"ind",name:"Indonesian","2B":"ind","2T":"",local:"bahasa Indonesia"},{1:"",3:"",name:"Indo-European languages","2B":"ine","2T":"",local:"Indo-European languages"},{1:"",3:"inh",name:"Ingush","2B":"inh","2T":"",local:"ГӀалгӀай мотт"},{1:"ik",3:"ipk",name:"Inupiaq","2B":"ipk","2T":"",local:"Iñupiaq"},{1:"",3:"",name:"Iranian languages","2B":"ira","2T":"",local:"Iranian languages"},{1:"",3:"",name:"Iroquoian languages","2B":"iro","2T":"",local:"Iroquoian languages"},{1:"is",3:"isl",name:"Icelandic","2B":"ce","2T":"isl",local:"íslenska"},{1:"it",3:"ita",name:"Italian","2B":"ita","2T":"",local:"italiano"},{1:"jv",3:"jav",name:"Javanese","2B":"jav","2T":"",local:"ꦧꦱꦗꦮ"},{1:"",3:"jbo",name:"Lojban","2B":"jbo","2T":"",local:"la .lojban."},{1:"ja",3:"jpn",name:"Japanese","2B":"jpn","2T":"",local:"日本語"},{1:"",3:"jpr",name:"Judeo-Persian","2B":"jpr","2T":"",local:"Dzhidi"},{1:"",3:"jrb",name:"Judeo-Arabic","2B":"jrb","2T":"",local:"عربية يهودية / ערבית יהודית"},{1:"",3:"kaa",name:"Kara-Kalpak","2B":"kaa","2T":"",local:"Qaraqalpaq tili"},{1:"",3:"kab",name:"Kabyle","2B":"kab","2T":"",local:"Tamaziɣt Taqbaylit"},{1:"",3:"kac",name:"Kachin","2B":"kac","2T":"",local:"Jingpho"},{1:"kl",3:"kal",name:"Kalaallisut","2B":"kal","2T":"",local:"Kalaallisut"},{1:"",3:"kam",name:"Kamba","2B":"kam","2T":"",local:"Kamba"},{1:"kn",3:"kan",name:"Kannada","2B":"kan","2T":"",local:"ಕನ್ನಡ"},{1:"",3:"",name:"Karen languages","2B":"kar","2T":"",local:"Karen languages"},{1:"ks",3:"kas",name:"Kashmiri","2B":"kas","2T":"",local:"कॉशुर / كأشُر"},{1:"ka",3:"kat",name:"Georgian","2B":"eo","2T":"kat",local:"ქართული"},{1:"kr",3:"kau",name:"Kanuri","2B":"kau","2T":"",local:"Kanuri"},{1:"",3:"kaw",name:"Kawi","2B":"kaw","2T":"",local:"ꦧꦱꦗꦮ"},{1:"kk",3:"kaz",name:"Kazakh","2B":"kaz","2T":"",local:"қазақ тілі / qazaq tili"},{1:"",3:"kbd",name:"Kabardian","2B":"kbd","2T":"",local:"Адыгэбзэ (Къэбэрдейбзэ)"},{1:"",3:"kha",name:"Khasi","2B":"kha","2T":"",local:"কা কতিয়েন খাশি"},{1:"",3:"",name:"Khoisan languages","2B":"khi","2T":"",local:"Khoisan languages"},{1:"km",3:"khm",name:"Central Khmer","2B":"khm","2T":"",local:"ភាសាខ្មែរ"},{1:"",3:"kho",name:"Khotanese","2B":"kho","2T":"",local:"Khotanese"},{1:"ki",3:"kik",name:"Kikuyu","2B":"kik","2T":"",local:"Gĩkũyũ"},{1:"rw",3:"kin",name:"Kinyarwanda","2B":"kin","2T":"",local:"Kinyarwanda"},{1:"ky",3:"kir",name:"Kirghiz","2B":"kir","2T":"",local:"кыргызча"},{1:"",3:"kmb",name:"Kimbundu","2B":"kmb","2T":"",local:"Kimbundu"},{1:"",3:"kok",name:"Konkani","2B":"kok","2T":"",local:"कोंकणी"},{1:"kv",3:"kom",name:"Komi","2B":"kom","2T":"",local:"Коми кыв"},{1:"kg",3:"kon",name:"Kongo","2B":"kon","2T":"",local:"Kongo"},{1:"ko",3:"kor",name:"Korean","2B":"kor","2T":"",local:"한국어"},{1:"",3:"kos",name:"Kosraean","2B":"kos","2T":"",local:"Kosraean"},{1:"",3:"kpe",name:"Kpelle","2B":"kpe","2T":"",local:"Kpɛlɛwoo"},{1:"",3:"krc",name:"Karachay-Balkar","2B":"krc","2T":"",local:"Къарачай-Малкъар тил"},{1:"",3:"krl",name:"Karelian","2B":"krl","2T":"",local:"karjal"},{1:"",3:"",name:"Kru languages","2B":"kro","2T":"",local:"Kru languages"},{1:"",3:"kru",name:"Kurukh","2B":"kru","2T":"",local:"कुड़ुख़"},{1:"kj",3:"kua",name:"Kuanyama","2B":"kua","2T":"",local:"Kuanyama"},{1:"",3:"kum",name:"Kumyk","2B":"kum","2T":"",local:"къумукъ тил/qumuq til"},{1:"ku",3:"kur",name:"Kurdish","2B":"kur","2T":"",local:"Kurdî / کوردی"},{1:"",3:"kut",name:"Kutenai","2B":"kut","2T":"",local:"Kutenai"},{1:"",3:"lad",name:"Ladino","2B":"lad","2T":"",local:"Judeo-español"},{1:"",3:"lah",name:"Lahnda","2B":"lah","2T":"",local:"بھارت کا"},{1:"",3:"lam",name:"Lamba","2B":"lam","2T":"",local:"Lamba"},{1:"lo",3:"lao",name:"Lao","2B":"lao","2T":"",local:"ພາສາລາວ"},{1:"la",3:"lat",name:"Latin","2B":"lat","2T":"",local:"Lingua latīna"},{1:"lv",3:"lav",name:"Latvian","2B":"lav","2T":"",local:"Latviešu valoda"},{1:"",3:"lez",name:"Lezghian","2B":"lez","2T":"",local:"Лезги чӏал"},{1:"li",3:"lim",name:"Limburgan","2B":"lim","2T":"",local:"Lèmburgs"},{1:"ln",3:"lin",name:"Lingala","2B":"lin","2T":"",local:"Lingala"},{1:"lt",3:"lit",name:"Lithuanian","2B":"lit","2T":"",local:"lietuvių kalba"},{1:"",3:"lol",name:"Mongo","2B":"lol","2T":"",local:"Lomongo"},{1:"",3:"loz",name:"Lozi","2B":"loz","2T":"",local:"Lozi"},{1:"lb",3:"ltz",name:"Luxembourgish","2B":"ltz","2T":"",local:"Lëtzebuergesch"},{1:"",3:"lua",name:"Luba-Lulua","2B":"lua","2T":"",local:"Tshiluba"},{1:"lu",3:"lub",name:"Luba-Katanga","2B":"lub","2T":"",local:"Kiluba"},{1:"lg",3:"lug",name:"Ganda","2B":"lug","2T":"",local:"Luganda"},{1:"",3:"lui",name:"Luiseno","2B":"lui","2T":"",local:"Cham'teela"},{1:"",3:"lun",name:"Lunda","2B":"lun","2T":"",local:"Chilunda"},{1:"",3:"luo",name:"Luo (Kenya and Tanzania)","2B":"luo","2T":"",local:"Dholuo"},{1:"",3:"lus",name:"Lushai","2B":"lus","2T":"",local:"Mizo ṭawng"},{1:"mk",3:"mkd",name:"Macedonian","2B":"mac","2T":"mkd",local:"македонски јазик"},{1:"",3:"mad",name:"Madurese","2B":"mad","2T":"",local:"Madhura"},{1:"",3:"mag",name:"Magahi","2B":"mag","2T":"",local:"मगही"},{1:"mh",3:"mah",name:"Marshallese","2B":"mah","2T":"",local:"Kajin M̧ajeļ"},{1:"",3:"mai",name:"Maithili","2B":"mai","2T":"",local:"मैथिली"},{1:"",3:"mak",name:"Makasar","2B":"mak","2T":"",local:"Basa Mangkasara' / ᨅᨔ ᨆᨀᨔᨑ"},{1:"ml",3:"mal",name:"Malayalam","2B":"mal","2T":"",local:"മലയാളം"},{1:"",3:"man",name:"Mandingo","2B":"man","2T":"",local:"Mandi'nka kango"},{1:"mi",3:"mri",name:"Maori","2B":"mao","2T":"mri",local:"Te Reo Māori"},{1:"",3:"",name:"Austronesian languages","2B":"map","2T":"",local:"Austronesian languages"},{1:"mr",3:"mar",name:"Marathi","2B":"mar","2T":"",local:"मराठी"},{1:"",3:"mas",name:"Masai","2B":"mas","2T":"",local:"ɔl"},{1:"ms",3:"msa",name:"Malay","2B":"may","2T":"msa",local:"Bahasa Melayu"},{1:"",3:"mdf",name:"Moksha","2B":"mdf","2T":"",local:"мокшень кяль"},{1:"",3:"mdr",name:"Mandar","2B":"mdr","2T":"",local:"Mandar"},{1:"",3:"men",name:"Mende","2B":"men","2T":"",local:"Mɛnde yia"},{1:"",3:"mga",name:"Middle Irish (900–1200)","2B":"mga","2T":"",local:"Gaoidhealg"},{1:"",3:"mic",name:"Mi'kmaq","2B":"mic","2T":"",local:"Míkmawísimk"},{1:"",3:"min",name:"Minangkabau","2B":"min","2T":"",local:"Baso Minang"},{1:"",3:"mis",name:"Uncoded languages","2B":"mis","2T":"",local:"Uncoded languages"},{1:"mk",3:"mkd",name:"Macedonian","2B":"ac","2T":"mkd",local:"македонски јазик"},{1:"",3:"",name:"Mon-Khmer languages","2B":"mkh","2T":"",local:"Mon-Khmer languages"},{1:"mg",3:"mlg",name:"Malagasy","2B":"mlg","2T":"",local:"Malagasy"},{1:"mt",3:"mlt",name:"Maltese","2B":"mlt","2T":"",local:"Malti"},{1:"",3:"mnc",name:"Manchu","2B":"mnc","2T":"",local:"ᠮᠠᠨᠵᡠ ᡤᡳᠰᡠᠨ"},{1:"",3:"mni",name:"Manipuri","2B":"mni","2T":"",local:"Manipuri"},{1:"",3:"",name:"Manobo languages","2B":"mno","2T":"",local:"Manobo languages"},{1:"",3:"moh",name:"Mohawk","2B":"moh","2T":"",local:"Kanien’kéha"},{1:"mn",3:"mon",name:"Mongolian","2B":"mon","2T":"",local:"монгол хэл"},{1:"",3:"mos",name:"Mossi","2B":"mos","2T":"",local:"Mooré"},{1:"mi",3:"mri",name:"Maori","2B":"ao","2T":"mri",local:"Te Reo Māori"},{1:"ms",3:"msa",name:"Malay","2B":"ay","2T":"msa",local:"Bahasa Melayu"},{1:"",3:"mul",name:"Multiple languages","2B":"mul","2T":"",local:"Multiple languages"},{1:"",3:"",name:"Munda languages","2B":"mun","2T":"",local:"Munda languages"},{1:"",3:"mus",name:"Creek","2B":"mus","2T":"",local:"Mvskoke"},{1:"",3:"mwl",name:"Mirandese","2B":"mwl","2T":"",local:"mirandés"},{1:"",3:"mwr",name:"Marwari","2B":"mwr","2T":"",local:"मारवाड़ी"},{1:"my",3:"mya",name:"Burmese","2B":"ur","2T":"mya",local:"မြန်မာစာ"},{1:"",3:"",name:"Mayan languages","2B":"myn","2T":"",local:"Mayan languages"},{1:"",3:"myv",name:"Erzya","2B":"myv","2T":"",local:"эрзянь кель"},{1:"",3:"",name:"Nahuatl languages","2B":"nah","2T":"",local:"Nahuatl languages"},{1:"",3:"",name:"North American Indian languages","2B":"nai","2T":"",local:"North American Indian languages"},{1:"",3:"nap",name:"Neapolitan","2B":"nap","2T":"",local:"napulitano"},{1:"na",3:"nau",name:"Nauru","2B":"nau","2T":"",local:"dorerin Naoero"},{1:"nv",3:"nav",name:"Navajo","2B":"nav","2T":"",local:"Diné bizaad"},{1:"nr",3:"nbl",name:"South Ndebele","2B":"nbl","2T":"",local:"isiNdebele seSewula"},{1:"nd",3:"nde",name:"North Ndebele","2B":"nde","2T":"",local:"siNdebele saseNyakatho"},{1:"ng",3:"ndo",name:"Ndonga","2B":"ndo","2T":"",local:"ndonga"},{1:"",3:"nds",name:"Low German","2B":"nds","2T":"",local:"Plattdütsch"},{1:"ne",3:"nep",name:"Nepali","2B":"nep","2T":"",local:"नेपाली भाषा"},{1:"",3:"new",name:"Nepal Bhasa","2B":"new","2T":"",local:"नेवाः भाय्"},{1:"",3:"nia",name:"Nias","2B":"nia","2T":"",local:"Li Niha"},{1:"",3:"",name:"Niger-Kordofanian languages","2B":"nic","2T":"",local:"Niger-Kordofanian languages"},{1:"",3:"niu",name:"Niuean","2B":"niu","2T":"",local:"ko e vagahau Niuē"},{1:"nl",3:"nld",name:"Dutch","2B":"ut","2T":"nld",local:"Nederlands"},{1:"nn",3:"nno",name:"Norwegian Nynorsk","2B":"nno","2T":"",local:"nynorsk"},{1:"nb",3:"nob",name:"Norwegian Bokmål","2B":"nob","2T":"",local:"bokmål"},{1:"",3:"nog",name:"Nogai","2B":"nog","2T":"",local:"Ногай тили"},{1:"",3:"non",name:"Old Norse","2B":"non","2T":"",local:"Dǫnsk tunga"},{1:"no",3:"nor",name:"Norwegian","2B":"nor","2T":"",local:"norsk"},{1:"",3:"nqo",name:"N'Ko","2B":"nqo","2T":"",local:"N'Ko"},{1:"",3:"nso",name:"Pedi","2B":"nso","2T":"",local:"Sesotho sa Leboa"},{1:"",3:"",name:"Nubian languages","2B":"nub","2T":"",local:"لغات نوبية"},{1:"",3:"nwc",name:"Classical Newari","2B":"nwc","2T":"",local:"पुलां भाय्"},{1:"ny",3:"nya",name:"Chichewa","2B":"nya","2T":"",local:"Chichewa"},{1:"",3:"nym",name:"Nyamwezi","2B":"nym","2T":"",local:"Nyamwezi"},{1:"",3:"nyn",name:"Nyankole","2B":"nyn","2T":"",local:"Nyankole"},{1:"",3:"nyo",name:"Nyoro","2B":"nyo","2T":"",local:"Runyoro"},{1:"",3:"nzi",name:"Nzima","2B":"nzi","2T":"",local:"Nzima"},{1:"oc",3:"oci",name:"Occitan (post 1500)","2B":"oci","2T":"",local:"occitan"},{1:"oj",3:"oji",name:"Ojibwa","2B":"oji","2T":"",local:"Ojibwa"},{1:"or",3:"ori",name:"Oriya","2B":"ori","2T":"",local:"ଓଡ଼ିଆ"},{1:"om",3:"orm",name:"Oromo","2B":"orm","2T":"",local:"Afaan Oromoo"},{1:"",3:"osa",name:"Osage","2B":"osa","2T":"",local:"Wazhazhe ie / 𐓏𐓘𐓻𐓘𐓻𐓟 𐒻𐓟"},{1:"os",3:"oss",name:"Ossetian","2B":"oss","2T":"",local:"Ирон æвзаг"},{1:"",3:"ota",name:"Ottoman Turkish (1500–1928)","2B":"ota","2T":"",local:"لسان عثمانى / lisân-ı Osmânî"},{1:"",3:"",name:"Otomian languages","2B":"oto","2T":"",local:"Otomian languages"},{1:"",3:"",name:"Papuan languages","2B":"paa","2T":"",local:"Papuan languages"},{1:"",3:"pag",name:"Pangasinan","2B":"pag","2T":"",local:"Salitan Pangasinan"},{1:"",3:"pal",name:"Pahlavi","2B":"pal","2T":"",local:"Pārsīk"},{1:"",3:"pam",name:"Pampanga","2B":"pam","2T":"",local:"Amánung Kapampangan"},{1:"pa",3:"pan",name:"Panjabi","2B":"pan","2T":"",local:"ਪੰਜਾਬੀ / پنجابی"},{1:"",3:"pap",name:"Papiamento","2B":"pap","2T":"",local:"Papiamentu"},{1:"",3:"pau",name:"Palauan","2B":"pau","2T":"",local:"a tekoi er a Belau"},{1:"",3:"peo",name:"Old Persian (ca. 600–400 B.C.)","2B":"peo","2T":"",local:"Old Persian (ca. 600–400 B.C.)"},{1:"fa",3:"fas",name:"Persian","2B":"per","2T":"fas",local:"فارسی"},{1:"",3:"",name:"Philippine languages","2B":"phi","2T":"",local:"Philippine languages"},{1:"",3:"phn",name:"Phoenician","2B":"phn","2T":"",local:"𐤃𐤁𐤓𐤉𐤌 𐤊𐤍𐤏𐤍𐤉𐤌"},{1:"pi",3:"pli",name:"Pali","2B":"pli","2T":"",local:"Pāli"},{1:"pl",3:"pol",name:"Polish","2B":"pol","2T":"",local:"Język polski"},{1:"",3:"pon",name:"Pohnpeian","2B":"pon","2T":"",local:"Pohnpeian"},{1:"pt",3:"por",name:"Portuguese","2B":"por","2T":"",local:"português"},{1:"",3:"",name:"Prakrit languages","2B":"pra","2T":"",local:"Prakrit languages"},{1:"",3:"pro",name:"Old Provençal (to 1500)","2B":"pro","2T":"",local:"Old Provençal (to 1500)"},{1:"ps",3:"pus",name:"Pushto","2B":"pus","2T":"",local:"پښتو"},{1:"",3:"qaa-qtz",name:"Reserved for local use","2B":"qaa-qtz","2T":"",local:"Reserved for local use"},{1:"qu",3:"que",name:"Quechua","2B":"que","2T":"",local:"Runa simi"},{1:"",3:"raj",name:"Rajasthani","2B":"raj","2T":"",local:"राजस्थानी"},{1:"",3:"rap",name:"Rapanui","2B":"rap","2T":"",local:"Vananga rapa nui"},{1:"",3:"rar",name:"Rarotongan","2B":"rar","2T":"",local:"Māori Kūki 'Āirani"},{1:"",3:"",name:"Romance languages","2B":"roa","2T":"",local:"Romance languages"},{1:"rm",3:"roh",name:"Romansh","2B":"roh","2T":"",local:"Rumantsch"},{1:"",3:"rom",name:"Romany","2B":"rom","2T":"",local:"romani čhib"},{1:"ro",3:"ron",name:"Romanian","2B":"um","2T":"ron",local:"limba română"},{1:"ro",3:"ron",name:"Romanian","2B":"rum","2T":"ron",local:"limba română"},{1:"rn",3:"run",name:"Rundi","2B":"run","2T":"",local:"Ikirundi"},{1:"",3:"rup",name:"Aromanian","2B":"rup","2T":"",local:"armãneashce"},{1:"ru",3:"rus",name:"Russian","2B":"rus","2T":"",local:"Русский язык"},{1:"",3:"sad",name:"Sandawe","2B":"sad","2T":"",local:"Sandaweeki"},{1:"sg",3:"sag",name:"Sango","2B":"sag","2T":"",local:"yângâ tî sängö"},{1:"",3:"sah",name:"Yakut","2B":"sah","2T":"",local:"Сахалыы"},{1:"",3:"",name:"South American Indian languages","2B":"sai","2T":"",local:"South American Indian languages"},{1:"",3:"",name:"Salishan languages","2B":"sal","2T":"",local:"Salishan languages"},{1:"",3:"sam",name:"Samaritan Aramaic","2B":"sam","2T":"",local:"ארמית"},{1:"sa",3:"san",name:"Sanskrit","2B":"san","2T":"",local:"संस्कृतम्"},{1:"",3:"sas",name:"Sasak","2B":"sas","2T":"",local:"Sasak"},{1:"",3:"sat",name:"Santali","2B":"sat","2T":"",local:"ᱥᱟᱱᱛᱟᱲᱤ"},{1:"",3:"scn",name:"Sicilian","2B":"scn","2T":"",local:"Sicilianu"},{1:"",3:"sco",name:"Scots","2B":"sco","2T":"",local:"Braid Scots"},{1:"",3:"sel",name:"Selkup","2B":"sel","2T":"",local:"Selkup"},{1:"",3:"",name:"Semitic languages","2B":"sem","2T":"",local:"Semitic languages"},{1:"",3:"sga",name:"Old Irish (to 900)","2B":"sga","2T":"",local:"Goídelc"},{1:"",3:"",name:"Sign languages","2B":"sgn","2T":"",local:"Sign languages"},{1:"",3:"shn",name:"Shan","2B":"shn","2T":"",local:"ၵႂၢမ်းတႆးယႂ်"},{1:"",3:"sid",name:"Sidamo","2B":"sid","2T":"",local:"Sidaamu Afoo"},{1:"si",3:"sin",name:"Sinhala","2B":"sin","2T":"",local:"සිංහල"},{1:"",3:"",name:"Siouan languages","2B":"sio","2T":"",local:"Siouan languages"},{1:"",3:"",name:"Sino-Tibetan languages","2B":"sit","2T":"",local:"Sino-Tibetan languages"},{1:"",3:"",name:"Slavic languages","2B":"sla","2T":"",local:"Slavic languages"},{1:"sk",3:"slk",name:"Slovak","2B":"slo","2T":"slk",local:"slovenčina"},{1:"sk",3:"slk",name:"Slovak","2B":"lo","2T":"slk",local:"slovenčina"},{1:"sl",3:"slv",name:"Slovenian","2B":"slv","2T":"",local:"slovenski jezik"},{1:"",3:"sma",name:"Southern Sami","2B":"sma","2T":"",local:"Åarjelsaemien gïele"},{1:"se",3:"sme",name:"Northern Sami","2B":"sme","2T":"",local:"davvisámegiella"},{1:"",3:"",name:"Sami languages","2B":"smi","2T":"",local:"Sami languages"},{1:"",3:"smj",name:"Lule Sami","2B":"smj","2T":"",local:"julevsámegiella"},{1:"",3:"smn",name:"Inari Sami","2B":"smn","2T":"",local:"anarâškielâ"},{1:"sm",3:"smo",name:"Samoan","2B":"smo","2T":"",local:"Gagana faʻa Sāmoa"},{1:"",3:"sms",name:"Skolt Sami","2B":"sms","2T":"",local:"sääʹmǩiõll"},{1:"sn",3:"sna",name:"Shona","2B":"sna","2T":"",local:"chiShona"},{1:"sd",3:"snd",name:"Sindhi","2B":"snd","2T":"",local:"سنڌي / सिन्धी / ਸਿੰਧੀ"},{1:"",3:"snk",name:"Soninke","2B":"snk","2T":"",local:"Sooninkanxanne"},{1:"",3:"sog",name:"Sogdian","2B":"sog","2T":"",local:"Sogdian"},{1:"so",3:"som",name:"Somali","2B":"som","2T":"",local:"af Soomaali"},{1:"",3:"",name:"Songhai languages","2B":"son","2T":"",local:"Songhai languages"},{1:"st",3:"sot",name:"Southern Sotho","2B":"sot","2T":"",local:"Sesotho [southern]"},{1:"es",3:"spa",name:"Spanish","2B":"spa","2T":"",local:"Español"},{1:"sq",3:"sqi",name:"Albanian","2B":"lb","2T":"sqi",local:"Shqip"},{1:"sc",3:"srd",name:"Sardinian","2B":"srd","2T":"",local:"sardu"},{1:"",3:"srn",name:"Sranan Tongo","2B":"srn","2T":"",local:"Sranan Tongo"},{1:"sr",3:"srp",name:"Serbian","2B":"srp","2T":"",local:"српски / srpski"},{1:"",3:"srr",name:"Serer","2B":"srr","2T":"",local:"Seereer"},{1:"",3:"",name:"Nilo-Saharan languages","2B":"ssa","2T":"",local:"Nilo-Saharan languages"},{1:"ss",3:"ssw",name:"Swati","2B":"ssw","2T":"",local:"siSwati"},{1:"",3:"suk",name:"Sukuma","2B":"suk","2T":"",local:"Kɪsukuma"},{1:"su",3:"sun",name:"Sundanese","2B":"sun","2T":"",local:"ᮘᮞ ᮞᮥᮔ᮪ᮓ / Basa Sunda"},{1:"",3:"sus",name:"Susu","2B":"sus","2T":"",local:"Sosoxui"},{1:"",3:"sux",name:"Sumerian","2B":"sux","2T":"",local:"𒅴𒂠"},{1:"sw",3:"swa",name:"Swahili","2B":"swa","2T":"",local:"Kiswahili"},{1:"sv",3:"swe",name:"Swedish","2B":"swe","2T":"",local:"svenska"},{1:"",3:"syc",name:"Classical Syriac","2B":"syc","2T":"",local:"Classical Syriac"},{1:"",3:"syr",name:"Syriac","2B":"syr","2T":"",local:"ܠܫܢܐ ܣܘܪܝܝܐ"},{1:"ty",3:"tah",name:"Tahitian","2B":"tah","2T":"",local:"Reo Tahiti"},{1:"",3:"",name:"Tai languages","2B":"tai","2T":"",local:"ภาษาไท"},{1:"ta",3:"tam",name:"Tamil","2B":"tam","2T":"",local:"தமிழ்"},{1:"tt",3:"tat",name:"Tatar","2B":"tat","2T":"",local:"татар теле / tatar tele / تاتار"},{1:"te",3:"tel",name:"Telugu","2B":"tel","2T":"",local:"తెలుగు"},{1:"",3:"tem",name:"Timne","2B":"tem","2T":"",local:"KʌThemnɛ"},{1:"",3:"ter",name:"Tereno","2B":"ter","2T":"",local:"Terêna"},{1:"",3:"tet",name:"Tetum","2B":"tet","2T":"",local:"Lia-Tetun"},{1:"tg",3:"tgk",name:"Tajik","2B":"tgk","2T":"",local:"тоҷикӣ / tojikī"},{1:"tl",3:"tgl",name:"Tagalog","2B":"tgl","2T":"",local:"Wikang Tagalog"},{1:"th",3:"tha",name:"Thai","2B":"tha","2T":"",local:"ภาษาไทย"},{1:"bo",3:"bod",name:"Tibetan","2B":"tib","2T":"bod",local:"བོད་སྐད་"},{1:"",3:"tig",name:"Tigre","2B":"tig","2T":"",local:"ትግረ"},{1:"ti",3:"tir",name:"Tigrinya","2B":"tir","2T":"",local:"ትግርኛ"},{1:"",3:"tiv",name:"Tiv","2B":"tiv","2T":"",local:"Tiv"},{1:"",3:"tkl",name:"Tokelau","2B":"tkl","2T":"",local:"Tokelau"},{1:"",3:"tlh",name:"Klingon","2B":"tlh","2T":"",local:"Klingon"},{1:"",3:"tli",name:"Tlingit","2B":"tli","2T":"",local:"Lingít"},{1:"",3:"tmh",name:"Tamashek","2B":"tmh","2T":"",local:"Tamashek"},{1:"",3:"tog",name:"Tonga (Nyasa)","2B":"tog","2T":"",local:"chiTonga"},{1:"to",3:"ton",name:"Tonga (Tonga Islands)","2B":"ton","2T":"",local:"lea faka-Tonga"},{1:"",3:"tpi",name:"Tok Pisin","2B":"tpi","2T":"",local:"Tok Pisin"},{1:"",3:"tsi",name:"Tsimshian","2B":"tsi","2T":"",local:"Tsimshian"},{1:"tn",3:"tsn",name:"Tswana","2B":"tsn","2T":"",local:"Setswana"},{1:"ts",3:"tso",name:"Tsonga","2B":"tso","2T":"",local:"Xitsonga"},{1:"tk",3:"tuk",name:"Turkmen","2B":"tuk","2T":"",local:"Türkmençe / Түркменче / تورکمن تیلی ,تورکمنچه"},{1:"",3:"tum",name:"Tumbuka","2B":"tum","2T":"",local:"chiTumbuka"},{1:"",3:"",name:"Tupi languages","2B":"tup","2T":"",local:"Tupi languages"},{1:"tr",3:"tur",name:"Turkish","2B":"tur","2T":"",local:"Türkçe"},{1:"",3:"",name:"Altaic languages","2B":"tut","2T":"",local:"Altaic languages"},{1:"",3:"tvl",name:"Tuvalua","2B":"tvl","2T":"",local:"Te Ggana Tuuvalu"},{1:"tw",3:"twi",name:"Twi","2B":"twi","2T":"",local:"Twi"},{1:"",3:"tyv",name:"Tuvinian","2B":"tyv","2T":"",local:"тыва дыл"},{1:"",3:"udm",name:"Udmurt","2B":"udm","2T":"",local:"удмурт кыл"},{1:"",3:"uga",name:"Ugaritic","2B":"uga","2T":"",local:"Ugaritic"},{1:"ug",3:"uig",name:"Uighur","2B":"uig","2T":"",local:"ئۇيغۇرچە  "},{1:"uk",3:"ukr",name:"Ukrainian","2B":"ukr","2T":"",local:"українська мова"},{1:"",3:"umb",name:"Umbundu","2B":"umb","2T":"",local:"Úmbúndú"},{1:"",3:"und",name:"Undefined language","2B":"und","2T":"",local:"Undefined language"},{1:"ur",3:"urd",name:"Urdu","2B":"urd","2T":"",local:"اُردُو"},{1:"uz",3:"uzb",name:"Uzbek","2B":"uzb","2T":"",local:"Oʻzbekcha / ўзбекча / ئوزبېچه"},{1:"",3:"vai",name:"Vai","2B":"vai","2T":"",local:"ꕙꔤ"},{1:"ve",3:"ven",name:"Venda","2B":"ven","2T":"",local:"Tshivenḓa"},{1:"vi",3:"vie",name:"Vietnamese","2B":"vie","2T":"",local:"Tiếng Việt"},{1:"vo",3:"vol",name:"Volapük","2B":"vol","2T":"",local:"Volapük"},{1:"",3:"vot",name:"Votic","2B":"vot","2T":"",local:"vađđa ceeli"},{1:"",3:"",name:"Wakashan languages","2B":"wak","2T":"",local:"Wakashan languages"},{1:"",3:"wal",name:"Wolaitta","2B":"wal","2T":"",local:"Wolaitta"},{1:"",3:"war",name:"Waray","2B":"war","2T":"",local:"Winaray"},{1:"",3:"was",name:"Washo","2B":"was","2T":"",local:"wá:šiw ʔítlu"},{1:"cy",3:"cym",name:"Welsh","2B":"wel","2T":"cym",local:"Cymraeg"},{1:"",3:"",name:"Sorbian languages","2B":"wen","2T":"",local:"Serbsce / Serbski"},{1:"wa",3:"wln",name:"Walloon","2B":"wln","2T":"",local:"Walon"},{1:"wo",3:"wol",name:"Wolof","2B":"wol","2T":"",local:"Wolof"},{1:"",3:"xal",name:"Kalmyk","2B":"xal","2T":"",local:"Хальмг келн / Xaľmg keln"},{1:"xh",3:"xho",name:"Xhosa","2B":"xho","2T":"",local:"isiXhosa"},{1:"",3:"yao",name:"Yao","2B":"yao","2T":"",local:"Yao"},{1:"",3:"yap",name:"Yapese","2B":"yap","2T":"",local:"Yapese"},{1:"yi",3:"yid",name:"Yiddish","2B":"yid","2T":"",local:"ייִדיש, יידיש"},{1:"yo",3:"yor",name:"Yoruba","2B":"yor","2T":"",local:"èdè Yorùbá"},{1:"",3:"",name:"Yupik languages","2B":"ypk","2T":"",local:"Yupik languages"},{1:"",3:"zap",name:"Zapotec","2B":"zap","2T":"",local:"Diidxazá"},{1:"",3:"zbl",name:"Blissymbols","2B":"zbl","2T":"",local:"Blissymbols"},{1:"",3:"zen",name:"Zenaga","2B":"zen","2T":"",local:"Tuḍḍungiyya"},{1:"",3:"zgh",name:"Standard Moroccan Tamazight","2B":"zgh","2T":"",local:"ⵜⴰⵎⴰⵣⵉⵖⵜ ⵜⴰⵏⴰⵡⴰⵢⵜ"},{1:"za",3:"zha",name:"Zhuang","2B":"zha","2T":"",local:"Vahcuengh / 話僮"},{1:"zh",3:"zho",name:"Chinese","2B":"hi","2T":"zho",local:"中文"},{1:"",3:"",name:"Zande languages","2B":"znd","2T":"",local:"Zande languages"},{1:"zu",3:"zul",name:"Zulu","2B":"zul","2T":"",local:"isiZulu"},{1:"",3:"zun",name:"Zuni","2B":"zun","2T":"",local:"Shiwi'ma"},{1:"",3:"zxx",name:"No linguistic content","2B":"zxx","2T":"",local:"No linguistic content"},{1:"",3:"zza",name:"Zaza","2B":"zza","2T":"",local:"Zaza"}]}(OO)},{}],60:[function(e,t,i){"use strict";!function(e){e.MESSAGES={EN:{},ES:{},FR:{},JA:{}};var t=e.MESSAGES.EN,i=e.MESSAGES.ES,n=e.MESSAGES.FR,a=e.MESSAGES.JA;t[e.ERROR.API.NETWORK]="Cannot Contact Server",t[e.ERROR.API.SAS.GENERIC]="Invalid Authorization Response",t[e.ERROR.API.SAS.GEO]="This video is not authorized in your location",t[e.ERROR.API.SAS.DOMAIN]="This video is not authorized for your domain",t[e.ERROR.API.SAS.FUTURE]="This video will be available soon",t[e.ERROR.API.SAS.PAST]="This video is no longer available",t[e.ERROR.API.SAS.DEVICE]="This video is not authorized for playback on this device",t[e.ERROR.API.SAS.PROXY]="An anonymous proxy was detected. Please disable the proxy and retry.",t[e.ERROR.API.SAS.CONCURRENT_STREAMS]="You have exceeded the maximum number of concurrent streams",t[e.ERROR.API.SAS.INVALID_HEARTBEAT]="Invalid heartbeat response",t[e.ERROR.API.SAS.ERROR_INVALID_ENTITLEMENTS]="User Entitlement Terminated - Stream No Longer Active for the User",t[e.ERROR.API.CONTENT_TREE]="Invalid Content",t[e.ERROR.API.METADATA]="Invalid Metadata",t[e.ERROR.PLAYBACK.GENERIC]="Could not play the content",t[e.ERROR.PLAYBACK.STREAM]="This video isn't encoded for your device",t[e.ERROR.PLAYBACK.LIVESTREAM]="Live stream is off air",t[e.ERROR.PLAYBACK.NETWORK]="Network connection temporarily lost",t[e.ERROR.UNPLAYABLE_CONTENT]="This video is not playable on this player",t[e.ERROR.INVALID_EXTERNAL_ID]="Invalid External ID",t[e.ERROR.EMPTY_CHANNEL]="This channel is empty",t[e.ERROR.EMPTY_CHANNEL_SET]="This channel set is empty",t[e.ERROR.CHANNEL_CONTENT]="This channel is not playable at this time",t[e.ERROR.VC_PLAY_FAILED]="This video is not encoded for your device",t[e.TEXT.ADS_COUNTDOWN]="Advertisement: Your Video will resume shortly",t[e.TEXT.ADS_COUNTDOWN_SECONDS]="Advertisement: Your Video will resume in <%= time %> <%= seconds %>",t[e.TEXT.LIVE]="LIVE",i[e.ERROR.API.NETWORK]="No se puede contactar al servidor",i[e.ERROR.API.SAS.GENERIC]="Respuesta de autorización no válida",i[e.ERROR.API.SAS.GEO]="El vídeo no está autorizado en su ubicación",i[e.ERROR.API.SAS.DOMAIN]="El vídeo no está autorizado para su dominio",i[e.ERROR.API.SAS.FUTURE]="El vídeo estará disponible pronto",i[e.ERROR.API.SAS.PAST]="El vídeo ya no está disponible",i[e.ERROR.API.SAS.DEVICE]="El vídeo no está autorizado para reproducirse en este dispositivo",i[e.ERROR.API.SAS.PROXY]="Se detectó un proxy anónimo. Deshabilite el proxy e intente nuevamente.",i[e.ERROR.API.SAS.CONCURRENT_STREAMS]="Ha superado la cantidad máxima de transmisiones concurrentes",i[e.ERROR.API.SAS.INVALID_HEARTBEAT]="Respuesta de pulso no válida",i[e.ERROR.API.SAS.ERROR_INVALID_ENTITLEMENTS]="La suscripción del usuario a terminado - El video ya no está disponible para el usuario",i[e.ERROR.API.CONTENT_TREE]="Contenido no válido",i[e.ERROR.API.METADATA]="Metadatos no válidos",i[e.ERROR.PLAYBACK.GENERIC]="No se pudo reproducir el contenido",i[e.ERROR.PLAYBACK.STREAM]="El vídeo no está codificado para su dispositivo",i[e.ERROR.PLAYBACK.LIVESTREAM]="La transmisión en vivo está fuera del aire",i[e.ERROR.PLAYBACK.NETWORK]="La conexión de red se halla temporalmente perdida",i[e.ERROR.UNPLAYABLE_CONTENT]="El vídeo no se puede reproducir en este reproductor",i[e.ERROR.INVALID_EXTERNAL_ID]="ID externo no válido",i[e.ERROR.EMPTY_CHANNEL]="El canal está vacío",i[e.ERROR.EMPTY_CHANNEL_SET]="El conjunto de canales está vacío",i[e.ERROR.CHANNEL_CONTENT]="El canal no se puede reproducir en este momento",i[e.ERROR.VC_PLAY_FAILED]="El vídeo no está codificado para su dispositivo",i[e.TEXT.ADS_COUNTDOWN]="Anuncio: el vídeo se reanudará en breve",i[e.TEXT.LIVE]="EN VIVO",n[e.ERROR.API.NETWORK]="Impossible de contacter le serveur",n[e.ERROR.API.SAS.GENERIC]="Réponse d'autorisation non valide",n[e.ERROR.API.SAS.GEO]="Cette vidéo n'est pas autorisée dans votre pays",n[e.ERROR.API.SAS.DOMAIN]="Cette vidéo n'est pas autorisée pour votre domaine",n[e.ERROR.API.SAS.FUTURE]="Cette vidéo sera bientôt disponible",n[e.ERROR.API.SAS.PAST]="Cette vidéo n'est plus disponible",n[e.ERROR.API.SAS.DEVICE]="La lecture de cette vidéo n'est pas autorisée sur cet appareil",n[e.ERROR.API.SAS.PROXY]="Un proxy anonyme a été détecté. Désactivez le proxy, puis réessayez.",n[e.ERROR.API.SAS.CONCURRENT_STREAMS]="Vous avez dépassé le nombre maximum de flux simultanés.",n[e.ERROR.API.SAS.INVALID_HEARTBEAT]="Réponse du signal de pulsation ('heartbeat') non valide",n[e.ERROR.API.CONTENT_TREE]="Contenu non valide",n[e.ERROR.API.METADATA]="Métadonnées non valides",n[e.ERROR.PLAYBACK.GENERIC]="Impossible de lire le contenu",n[e.ERROR.PLAYBACK.STREAM]="Cette vidéo n'est pas encodée pour votre appareil",n[e.ERROR.PLAYBACK.LIVESTREAM]="Le flux direct a été interrompu",n[e.ERROR.PLAYBACK.NETWORK]="Connexion au réseau temporairement interrompue",n[e.ERROR.UNPLAYABLE_CONTENT]="Vous ne pouvez pas lire cette vidéo sur ce lecteur",n[e.ERROR.INVALID_EXTERNAL_ID]="Identifiant externe non valide",n[e.ERROR.EMPTY_CHANNEL]="Cette chaîne est vide",n[e.ERROR.EMPTY_CHANNEL_SET]="Ce groupe de chaînes est vide",n[e.ERROR.CHANNEL_CONTENT]="Vous ne pouvez pas lire cette chaîne pour le moment",n[e.ERROR.VC_PLAY_FAILED]="Cette vidéo n'est pas encodée pour votre appareil",n[e.TEXT.ADS_COUNTDOWN]="Publicité : votre vidéo reprendra bientôt",n[e.TEXT.LIVE]="EN DIRECT",a[e.ERROR.API.NETWORK]="後でご確認ください。",a[e.ERROR.API.SAS.GENERIC]="ビデオを認証できません。",a[e.ERROR.API.SAS.GEO]="この地域ではこのビデオは許可されていません。",a[e.ERROR.API.SAS.DOMAIN]="お使いのドメインではこのビデオは許可されていません。",a[e.ERROR.API.SAS.FUTURE]="このビデオはしばらくすると再生可能になります。",a[e.ERROR.API.SAS.PAST]="このビデオは、既に御利用いただけません。",a[e.ERROR.API.SAS.DEVICE]="このビデオは、このデバイスでの再生は許可されていません。",a[e.ERROR.API.SAS.CONCURRENT_STREAMS]="最大同時接続数を超えています。",a[e.ERROR.API.SAS.INVALID_HEARTBEAT]="同時再生ストリームの最大数に達しました。",a[e.ERROR.API.CONTENT_TREE]="不正なコンテンツです。",a[e.ERROR.API.METADATA]="不正なメタデータです。",a[e.ERROR.PLAYBACK.GENERIC]="このコンテンツを再生できませんでした。",a[e.ERROR.PLAYBACK.STREAM]="このビデオは、お使いのデバイス向けにエンコードされていません。",a[e.ERROR.PLAYBACK.LIVESTREAM]="ライブ配信はされておりません。",a[e.ERROR.PLAYBACK.NETWORK]="ネットワークに一時的に接続できません。",a[e.ERROR.UNPLAYABLE_CONTENT]="このビデオは、このプレーヤーでは再生できません。",a[e.ERROR.INVALID_EXTERNAL_ID]="External IDが不正です。",a[e.ERROR.EMPTY_CHANNEL]="このチャンネルは空です。",a[e.ERROR.EMPTY_CHANNEL_SET]="このチャンネルセットは空です。",a[e.ERROR.CHANNEL_CONTENT]="このチャンネルは、現在再生できません。",a[e.ERROR.VC_PLAY_FAILED]="このビデオは、お使いのデバイス向けにエンコードされていません。",a[e.TEXT.ADS_COUNTDOWN]="広告：",a[e.TEXT.ADS_COUNTDOWN_SECONDS]="広告: <%= time %>数秒後にビデオの再生が開始します",a[e.TEXT.LIVE]="ライブ",e.getLocalizedMessage=function(t){var i=e.getLocale();return(e.MESSAGES[i]?e.MESSAGES[i][t]:void 0)||e.MESSAGES.EN[t]||""}}(OO)},{}],61:[function(e,t,i){"use strict";!function(e){e.TEXT={ADS_COUNTDOWN:"adsCountdown",ADS_COUNTDOWN_SECONDS:"adsCountdownSeconds",LIVE:"LIVE",__end_marker:!0}}(OO)},{}],62:[function(e,t,i){"use strict";e("./include/init.js"),e("./core/3rd_party_initializer.js"),e("./core/environment.js"),e("./include/constants.js"),e("./include/resource.js"),e("./include/messages.js"),e("./include/languages.js"),e("./autogen/stylus_css.js"),e("./autogen/oo_rev.js"),e("./assets/asset_utils.js"),e("./core/utils.js"),e("./core/emitter.js"),e("./core/message_bus.js"),e("./core/state_machine.js"),e("./core/registration.js"),e("./core/player.js"),e("./core/playerExternalApi.js"),e("./modules/ooyala_storage.js"),e("./modules/device_id.js"),e("./modules/chromeless_ui.js"),e("./modules/ha_failover.js"),e("./modules/asset/asset_controller.js"),e("./modules/playback/playback_controller.js"),e("./modules/playback/video_controller.js"),e("./modules/valhalla_cache.js"),e("./modules/api.js"),e("./modules/channels.js"),e("./modules/external_id.js"),e("./modules/auth_heartbeat.js"),e("./modules/ads/ad_manager_controller.js"),e("./modules/ads/ad_manager_ooyala.js"),e("../html5-analytics-plugins/js/framework/AnalyticsFramework.js"),e("../html5-analytics-plugins/js/plugins/iq.js"),e("./modules/analytics/analytics_framework_translator.js"),e("./analytics/analytics.js"),e("./analytics/analytics_base.js"),e("./analytics/ooyala_analytics.js"),e("./modules/plugins/librato.js"),e("./modules/chromecastSender.js"),e("./modules/airplay.js")},{"../html5-analytics-plugins/js/framework/AnalyticsFramework.js":5,"../html5-analytics-plugins/js/plugins/iq.js":7,"./analytics/analytics.js":42,"./analytics/analytics_base.js":43,"./analytics/ooyala_analytics.js":44,"./assets/asset_utils.js":45,"./autogen/oo_rev.js":46,"./autogen/stylus_css.js":47,"./core/3rd_party_initializer.js":48,"./core/emitter.js":49,"./core/environment.js":50,"./core/message_bus.js":51,"./core/player.js":52,"./core/playerExternalApi.js":53,"./core/registration.js":54,"./core/state_machine.js":55,"./core/utils.js":56,"./include/constants.js":57,"./include/init.js":58,"./include/languages.js":59,"./include/messages.js":60,"./include/resource.js":61,"./modules/ads/ad_manager_controller.js":63,"./modules/ads/ad_manager_ooyala.js":64,"./modules/airplay.js":65,"./modules/analytics/analytics_framework_translator.js":66,"./modules/api.js":67,"./modules/asset/asset_controller.js":68,"./modules/auth_heartbeat.js":69,"./modules/channels.js":70,"./modules/chromecastSender.js":71,"./modules/chromeless_ui.js":72,"./modules/device_id.js":73,"./modules/external_id.js":74,"./modules/ha_failover.js":75,"./modules/ooyala_storage.js":76,"./modules/playback/playback_controller.js":77,"./modules/playback/video_controller.js":78,"./modules/plugins/librato.js":79,"./modules/valhalla_cache.js":80}],63:[function(e,t,i){(function(t){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault"),n=i(e("@babel/runtime/helpers/objectSpread")),a=i(e("@babel/runtime/helpers/typeof"));!function(e,i,r){e.EVENTS.AMC_ALL_ADS_DONE="adManagerControllerAllAdsDone",e.EVENTS.AMC_PREROLLS_DONE="adManagerControllerPrerollsDone",e.EVENTS.AMC_ALL_READY="adManagerControllerAllReady",e.EVENTS.AMC_AD_SETUP="adManagerControllerAdSetup",e.EVENTS.AD_POD_STARTED="adPodStarted",e.EVENTS.AD_POD_ENDED="adPodEnded",e.EVENTS.NONLINEAR_AD_PLAYED="nonlinearAdPlayed",e.EVENTS.HIDE_NONLINEAR_AD="hideNonlinearAd",e.EVENTS.SHOW_NONLINEAR_AD="showNonlinearAd",e.EVENTS.SHOW_NONLINEAR_AD_CLOSE_BUTTON="showNonlinearAdCloseButton",e.EVENTS.NONLINEAR_AD_DISPLAYED="nonlinearAdDisplayed",e.EVENTS.AD_MANAGER_HANDLED_ADS="adManagerHandledAds",e.EVENTS.SHOW_AD_SKIP_BUTTON="showAdSkipButton",e.EVENTS.SHOW_AD_CONTROLS="showAdControls",e.EVENTS.SHOW_AD_MARQUEE="showAdMarquee",e.EVENTS.ADS_CLICKTHROUGH_OPENED="adsClickthroughOpened";var s=3e3,o=25e3,l={},c={PAUSE_AD_ON_CLICK:"pauseAdOnClick",AD_MANAGER_LOAD_TIMEOUT:"adManagerLoadTimeout",AD_LOAD_TIMEOUT:"adLoadTimeout",DISPLAY_CUE_POINTS:"displayCuePointMarkers",REPLAY_ADS:"replayAds",SHOW_NONLINEAR_CLOSE_BUTTON:"showNonLinearCloseButton",SHOW_LINEAR_AD_SKIP_BUTTON:"showLinearAdSkipButton",LINEAR_AD_SKIP_BUTTON_START_TIME:"linearAdSkipButtonStartTime",ALLOW_AD_CLICK_THROUGH_ON_VIDEO:"allowAdClickThroughOnVideo",PAUSE_ON_LIVE_ADS:"pauseOnLiveAds",DELAY_FOR_PREROLL:"delayForPreroll",LATE_PREROLL_RESTART_THRESHOLD:"latePrerollRestartThreshold",PRELOAD_ADS:"preloadAds"},u=[];e.Ads={manager:function(t){if("function"==typeof t){var n=t.apply({},[i,r]);e.Ads.validateAdManager(n)&&(e.log("AMC: Registering ad manager factory: "+n.name),l[n.name]=t)}},unregisterAdManager:function(t){e.log("AMC: Removing an ad manager factory: "+t),t&&l[t]&&(u.push(t),delete l[t])},validateAdManager:function(t){var n,r,s,o={name:"string",ready:"boolean"},c=["initialize","buildTimeline","playAd","cancelAd"];function u(t){e.log("AMC: "+t)}function d(e,n){return!!i.isFunction(t[e])||(u('The ad manager "'+n+'" requires a "'+e+'" function'),!1)}if(!t)return u(" The ad manager must be defined"),!1;if(!i.isObject(t))return u("The ad manager must be an object"),!1;for(var h in o)if(n=h,r=o[h],s=t.name,!(i.has(t,n)?(0,a.default)(t[n])===r||(u('The ad manager "'+s+'" property "'+n+'" should be type "'+r+'"'),0):(u('The ad manager "'+s+'" requires a "'+n+'" property'),0)))return!1;for(var A=0;A<c.length;A++)if(!d(c[A],t.name))return!1;return!l[t.name]||(u('The ad manager "'+t.name+'" has already been registered'),!1)},getUnregisteredAdManagers:function(){return u}},e.exposeStaticApi("Ads",e.Ads);var d=function(){for(var e=i.union(["EVENTS","ADTYPE","AD_CANCEL_CODE","AD_SETTINGS","MAX_AD_REQUEST_TIMEOUT","Ad","ui","platform","adManagerSettings","playerSettings","backlotSettings","pageSettings","currentEmbedCode","movieMetadata","startTime","movieDuration","isLiveStream","uiLanguage"],["updateMainStreamUrl","playAd","addPlayerListener","removePlayerListener","loadAdModule","notify","onAdManagerReady","removeAdManager","adsClicked","raiseAdError","appendToTimeline","showCompanion","forceAdToPlay","adManagerWillControlAds","adsClickthroughOpened","adManagerDoneControllingAds","notifyPodStarted","notifyPodEnded","notifyLinearAdStarted","notifyLinearAdEnded","notifyNonlinearAdStarted","notifyNonlinearAdEnded","hidePlayerUi","isLastAdPlayed","sendURLToLoadAndPlayNonLinearAd","showSkipVideoAdButton","showNonlinearAdCloseButton","focusAdVideo","getRegisteredAdManagers","unregisterAdManager","onSdkAdEvent","onAdSdkLoaded","onAdSdkLoadFailure","onAdRequest","onAdRequestSuccess","onAdRequestEmpty","onAdRequestError","onAdPlaybackError","onAdCompleted","onAdSdkImpression","reportPluginLoaded","willRequireEmbedCodeMetadata","notifySSAIAdTimelineReceived","notifySSAIAdPlaying","notifySSAIAdPlayed","raiseApiError"]),t=0;t<e.length;t++)if(i.isFunction(p[e[t]]))this[e[t]]=i.bind(p[e[t]],p);else{var n=i.bind(function(e){return this[e]},p,e[t]);Object.defineProperty(this,e[t],{get:n})}},h=function(){this.requiredInEnvironment=e.requiredInEnvironment;for(var t=["platform","os","isIos","iosMajorVersion","isAndroid4Plus","isAndroid4_4Plus","isFirefox","isChrome","chromeMajorVersion","isIE","isIE11Plus","isMacOs","isMacOsLionOrLater","isKindleHD","isSSL","device","isIphone","isIpad","isAndroid","isRimDevice","isWinPhone","isSmartTV","DEV"],i=0;i<t.length;i++)this[t[i]]=e[t[i]]},A=function(t,n,a){var r=t,s=a;this.elementId=null,this.useSingleVideoElement=!1,this.rootElement=null,this.videoWrapper=null,this.playerSkinVideoWrapper=null,this.ooyalaVideoElement=null,this.adVideoElement=null,this.adWrapper=null,this.pluginsElement=null,this.playerSkinPluginsElement=null,this.height=null,this.width=null,this.uiParameters={},this.aliceUiParameters={};var o=null,l=i.bind(function(){this.useSingleVideoElement=e.requiresSingleVideoElement,r.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amcUi",d),r.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,"amcUi",A),r.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amcUi",p),r.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"amcUi",f),r.subscribe(e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,"amcUi",T)},this);this.destroy=function(){h(!0),r.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amcUi"),r.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amcUi"),r.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,"amcUi"),r.unsubscribe(e.EVENTS.EMBED_CODE_CHANGED,"amcUi"),r.unsubscribe(e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,"amcUi")};var u=function(t){for(var i=t;document.getElementById(i);)i=t+"-"+e.getRandomString();return i};this.setupUiElements=function(){var e=this.uiParameters;this.videoWrapper=this.rootElement.find("."+e.videoWrapperClass),this.pluginsElement=this.videoWrapper.find("."+e.pluginsClass),this.pluginsElement.attr("id",u("ooyala-plugins-element")),this.videoWrapper.attr("id",u("ooyala-inner-wrapper"));var t=this.aliceUiParameters;i.isEmpty(t)||(this.playerSkinVideoWrapper=this.rootElement.find("."+t.videoWrapperClass),this.playerSkinPluginsElement=this.playerSkinVideoWrapper.find("."+t.pluginsClass),this.playerSkinPluginsElement.attr("id",u("ooyala-plugins-element")),this.playerSkinVideoWrapper.attr("id",u("ooyala-inner-wrapper"))),this.adWrapper=this.useSingleVideoElement?this.videoWrapper:this.pluginsElement},this.registerUi=function(){for(var e in s)s[e]&&E(s[e],"registerUi",[])},this.setupAndRegisterUi=function(){this.setupUiElements(),this.registerUi()},this.prepAdVideoElement=function(){e.log("AMC: Prepping player with a video element on load");var t={};t[e.VIDEO.ENCODING.MP4]="";var n=null,a=[];for(var r in s)if(s[r].videoRestrictions&&(s[r].videoRestrictions.technology&&(n=s[r].videoRestrictions.technology),s[r].videoRestrictions.features))for(var o in s[r].videoRestrictions.features)a.push(s[r].videoRestrictions.features[o]);a=i.uniq(a),this.createAdVideoElement(t,{technology:n,features:a})},this.createAdVideoElement=function(t,i){var n={};for(var a in t)n[a]={url:t[a]};r.publish(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,e.VIDEO.ADS,n,this.pluginsElement,i)};var d=i.bind(function(t,i){i.videoId===e.VIDEO.MAIN?(this.ooyalaVideoElement=i.videoElement,this.useSingleVideoElement&&this.setupAndRegisterUi()):i.videoId===e.VIDEO.ADS&&(this.adVideoElement=i.videoElement,this.adWrapper=i.parent)},this),h=i.bind(function(t){this.adVideoElement&&t&&r.publish(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,e.VIDEO.ADS)},this),A=i.bind(function(t,i){i===e.VIDEO.ADS&&(this.adVideoElement=null)},this),p=i.bind(function(t,i){if((o=i)===e.VIDEO.ADS)for(var n in s)s[n]&&E(s[n],"adVideoFocused",[])},this),f=i.bind(function(){},this),T=i.bind(function(){(e.isAndroid||e.isIos)&&r.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,e.VIDEO.MAIN,"true")},this);this.isAdInFocus=function(){return o===e.VIDEO.ADS},this.transitionToAd=function(){r.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,e.VIDEO.ADS)},this.transitionToMainContent=function(t,n,a){o!==e.VIDEO.MAIN&&r.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,e.VIDEO.MAIN),t&&!n&&(r.publish(e.EVENTS.VC_PLAY,e.VIDEO.MAIN),i.isNumber(a)&&r.publish(e.EVENTS.VC_SET_INITIAL_TIME,e.VIDEO.MAIN,a))},this.shouldDisplayCuePointMarkers=function(){r.publish(e.EVENTS.SHOULD_DISPLAY_CUE_POINTS,n[c.DISPLAY_CUE_POINTS])},this.resetCuePoints=function(t,i){var n=t.map(function(e){return e.position>i?i:e.position},this);r.publish(e.EVENTS.RESET_CUE_POINTS,n)},l()};e.AdManagerController=function(t,a){var u="adManagerController",f=t,T=!1,g={},y=!1,m={};this.adManagerSettings={},this.playerSettings={},this.backlotSettings=null,this.pageSettings=null,this.uiLanguage="";var _,S=null,O=null,b=null,I=!1,v=!1,N={},D=5,C="";this.currentEmbedCode="",this.movieMetadata=null,this.startTime=-1,this.movieDuration=-1,this.isLiveStream=!1,this.liveStreamTimestamps={},this.timeMainVideoIdleMs=0;var R=0,L=[],P=[],w=[],k=!1,V=0,B=!1,M=!1,F=0,U=!1,x=!1,H=!1;this.ended=!1,this.waitForPostrollToPlay=!0;var G={},Y=!1,j=!1,W=!1,K=!1,z=!1,q=!1,X=!1,Q=!1,Z=null,J=null;this.adStarted=!1;var $=!1,ee=!1,te={},ie={},ne=!0,ae=null,re=!1,se=!1,oe=!1,le=0,ce=!1,ue=!1,de=!1;this.ui=null,this.platform=null,this.amcInterface=null,this.adManagers={},this.unregisteredAdManagers=[],this.MAX_AD_MODULE_LOAD_TIMEOUT=5e3,this.MAX_AD_REQUEST_TIMEOUT=8e3;this.testMode=!1,this.AD_SETTINGS=c,this.EVENTS={INITIAL_PLAY_REQUESTED:"initialPlayRequested",REPLAY_REQUESTED:"replayRequested",PLAY_STARTED:"playStarted",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",AD_PLAYHEAD_TIME_CHANGED:"adPlayheadTimeChanged",PAUSE:"pause",RESUME:"resume",CONTENT_COMPLETED:"contentCompleted",CONTENT_AND_ADS_COMPLETED:"contentAndAdsCompleted",CONTENT_TREE_FETCHED:"contentTreeFetched",SIZE_CHANGED:"sizeChanged",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",CONTENT_CHANGED:"contentChanged",FULLSCREEN_CHANGED:"fullscreenChanged",VOLUME_CHANGED:"volumeChanged",AD_VOLUME_CHANGED:"adVolumeChanged",MUTE_STATE_CHANGED:"muteStateChanged",MAIN_CONTENT_IN_FOCUS:"mainContentInFocus",VIDEO_TAG_FOUND:"videoTagFound",CONTENT_URL_CHANGED:"contentURLChanged",NONLINEAR_AD_DISPLAYED:"nonlinearAdDisplayed",WILL_FETCH_AD_AUTHORIZATION:"willFetchAdAuthorization",AMC_PREROLLS_DONE:"amcPrerollsDone",SET_EMBED_CODE:"setEmbedCode",SET_EMBED_CODE_AFTER_OOYALA_AD:"setEmbedCodeAfterOoyalaAd",DEVICE_ID_SET:"deviceIdSet"};var he="seeked",Ae="contentVideoPlayed";this.ADTYPE={LINEAR_OVERLAY:"linearOverlay",NONLINEAR_OVERLAY:"nonlinearOverlay",LINEAR_VIDEO:"linearVideo",NONLINEAR_VIDEO:"nonlinearVideo",COMPANION:"companion",AD_REQUEST:"adRequest",UNKNOWN_AD_REQUEST:"unknownAdRequest"},this.AD_CANCEL_CODE={SKIPPED:"skipped",TIMEOUT:"timeout",ERROR:"error",STREAM_ENDED:"streamEnded"},this.FORCED_AD_POSITION=-1,this.Ad=function(t){var n=t||{};this.id=i.uniqueId(n.adManager+"_"),this.duration=n.duration||0,this.adManager=n.adManager,this.ad=n.ad||{},this.adType=n.adType||p.ADTYPE.LINEAR_VIDEO,this.isLinear=this.adType===p.ADTYPE.LINEAR_VIDEO||this.adType===p.ADTYPE.LINEAR_OVERLAY,this.isRequest=this.adType===p.ADTYPE.AD_REQUEST||this.adType===p.ADTYPE.UNKNOWN_AD_REQUEST,this.streams=n.streams||{},this.played=!1,this.videoRestrictions=n.videoRestrictions;var a="t";"p"===n.positionType&&(a="p");var r=+n.position;switch(i.isNumber(r)&&i.isFinite(r)?this.position=r:this.position=0,a){case"p":if(this.position>=100)this.position=1e9;else{var s=n.mainContentDuration;i.isFinite(s)&&s>0?this.position=this.position/100*s:(e.log("Creating a Ad instance with movieDuration = 0"),this.position=0)}}};var Ee=["Init","Ready","Playback","Reload","Overlay"],pe=["LinearAd"];this.fsm=e.StateMachine.create({initial:"Init",messageBus:f,moduleName:u,target:this,events:[{name:e.EVENTS.PLAYER_CREATED,from:"Init",to:"Init"},{name:e.EVENTS.PLAY,from:pe,to:"*"},{name:e.EVENTS.INITIAL_PLAY,from:"Ready",to:"Playback"},{name:e.EVENTS.SET_EMBED_CODE,from:"*",to:"Reload"},{name:e.EVENTS.EMBED_CODE_CHANGED,from:"*",to:"Ready"},{name:e.EVENTS.PLAYED,from:"*",to:"Ready"},{name:e.EVENTS.REPLAY,from:"*",to:"Playback"},{name:e.EVENTS.AMC_ALL_READY,from:"*",to:"Ready"},{name:e.EVENTS.AMC_AD_SETUP,from:Ee,to:"LinearAd"},{name:e.EVENTS.WILL_PLAY_ADS,from:Ee,to:"LinearAd"},{name:e.EVENTS.AD_POD_STARTED,from:"*",to:"LinearAd"},{name:e.EVENTS.WILL_PLAY_NONLINEAR_AD,from:"*",to:"*"},{name:e.EVENTS.PLAY_NONLINEAR_AD,from:"*",to:"Overlay"},{name:e.EVENTS.NONLINEAR_AD_PLAYED,from:"*",to:"Playback"},{name:e.EVENTS.ADS_PLAYED,from:"*",to:"Playback"}]});var fe=i.bind(function(){if(!y&&O&&S&&b){y=!0;for(var t=i.values(c),n=0;n<t.length;n++){var a=t[n];void 0!==this.pageSettings[a]&&(this.adManagerSettings[a]=this.pageSettings[a])}for(var r={},l=i.keys(this.adManagers),u=0;u<l.length;u++){var d=l[u],h=this.adManagers[d];if(h){var A=e.getInnerProperty(this.backlotSettings,["modules",d,"metadata"])||{};A=i.extend(A,e.getInnerProperty(this.pageSettings,[d]));for(var p=0;p<t.length;p++){var f=t[p];void 0!==A[f]&&(this.adManagerSettings[f]=A[f])}r[d]={metadata:A,adManagerClass:h}}}this.adManagerSettings[c.PAUSE_AD_ON_CLICK]=void 0===this.adManagerSettings[c.PAUSE_AD_ON_CLICK]||ge(this.adManagerSettings[c.PAUSE_AD_ON_CLICK]),this.adManagerSettings[c.DISPLAY_CUE_POINTS]=void 0===this.adManagerSettings[c.DISPLAY_CUE_POINTS]||ge(this.adManagerSettings[c.DISPLAY_CUE_POINTS]),this.adManagerSettings[c.REPLAY_ADS]=void 0===this.adManagerSettings[c.REPLAY_ADS]||ge(this.adManagerSettings[c.REPLAY_ADS]),this.adManagerSettings[c.SHOW_NONLINEAR_CLOSE_BUTTON]=void 0!==this.adManagerSettings[c.SHOW_NONLINEAR_CLOSE_BUTTON]&&ge(this.adManagerSettings[c.SHOW_NONLINEAR_CLOSE_BUTTON]),this.adManagerSettings[c.SHOW_LINEAR_AD_SKIP_BUTTON]=void 0!==this.adManagerSettings[c.SHOW_LINEAR_AD_SKIP_BUTTON]&&ge(this.adManagerSettings[c.SHOW_LINEAR_AD_SKIP_BUTTON]),this.adManagerSettings[c.LINEAR_AD_SKIP_BUTTON_START_TIME]=void 0===this.adManagerSettings[c.LINEAR_AD_SKIP_BUTTON_START_TIME]?5:parseInt(this.adManagerSettings[c.LINEAR_AD_SKIP_BUTTON_START_TIME]),this.adManagerSettings[c.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]=void 0===this.adManagerSettings[c.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]||ge(this.adManagerSettings[c.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]),this.adManagerSettings[c.AD_LOAD_TIMEOUT]=Te(this.adManagerSettings[c.AD_LOAD_TIMEOUT])?1e3*this.adManagerSettings[c.AD_LOAD_TIMEOUT]:null,this.adManagerSettings[c.AD_MANAGER_LOAD_TIMEOUT]=Te(this.adManagerSettings[c.AD_MANAGER_LOAD_TIMEOUT])?1e3*this.adManagerSettings[c.AD_MANAGER_LOAD_TIMEOUT]:null,this.adManagerSettings[c.PRELOAD_ADS]=void 0!==this.adManagerSettings[c.PRELOAD_ADS]&&ge(this.adManagerSettings[c.PRELOAD_ADS]),this.preloadAds=this.adManagerSettings[c.PRELOAD_ADS],Te(this.adManagerSettings[c.AD_LOAD_TIMEOUT])&&(o=this.adManagerSettings[c.AD_LOAD_TIMEOUT]),Te(this.adManagerSettings[c.AD_MANAGER_LOAD_TIMEOUT])&&(s=this.adManagerSettings[c.AD_MANAGER_LOAD_TIMEOUT]),"boolean"==typeof this.adManagerSettings[c.DELAY_FOR_PREROLL]&&(ce=this.adManagerSettings[c.DELAY_FOR_PREROLL]),"number"==typeof this.adManagerSettings[c.LATE_PREROLL_RESTART_THRESHOLD]&&(D=this.adManagerSettings[c.LATE_PREROLL_RESTART_THRESHOLD]),void 0!==this.adManagerSettings[c.PAUSE_ON_LIVE_ADS]&&(Y=!this.adManagerSettings[c.PAUSE_ON_LIVE_ADS]),this.testMode?Se():i.delay(i.bind(Se,this),s);for(var T=i.values(r),g=0;g<T.length;g++){var m=T[g];E(m.adManagerClass,"loadMetadata",[m.metadata,e.getInnerProperty(this.backlotSettings,["base"])||{},this.movieMetadata])}this.ui.shouldDisplayCuePointMarkers(),_e()}},this),Te=i.bind(function(e){return i.isFinite(e)&&e>=0},this),ge=function(e){var t=e.toString().toLowerCase();return"true"===t||"yes"===t||"1"===t},ye=function(t){var i=t||!1;if(f.removeDependent(e.EVENTS.PLAYBACK_READY,e.EVENTS.AMC_ALL_READY),f.removeDependent(e.EVENTS.WILL_PLAY_FROM_BEGINNING,e.EVENTS.AMC_PREROLLS_DONE),f.removeDependent(e.EVENTS.PLAYED,e.EVENTS.AMC_ALL_ADS_DONE),f.removeDependent(e.EVENTS.PLAYED,e.EVENTS.AD_MANAGER_HANDLED_ADS),G={},!i){var n=function(e,t,i,n){return i};f.addDependent(e.EVENTS.PLAYBACK_READY,e.EVENTS.AMC_ALL_READY,u,n),f.addDependent(e.EVENTS.WILL_PLAY_FROM_BEGINNING,e.EVENTS.AMC_PREROLLS_DONE,u,n),f.addDependent(e.EVENTS.PLAYED,e.EVENTS.AMC_ALL_ADS_DONE,u,n)}};this.onPlayerCreated=function(t,n,a){var s=i.bind(function(){ht(),f.publish(e.EVENTS.AMC_ALL_READY,{prerolls:0})},this);for(var o in l){var c=l[o].apply({},[i,r]);e.log("AMC: Registering ad manager: "+c.name),this.adManagers[c.name]=c}if(this.adManagers&&!i.isEmpty(this.adManagers))if(e.supportAds&&e.requiredInEnvironment("ads")&&!e.requiredInEnvironment("flash-playback")){if(this.ui=new A(f,this.adManagerSettings,this.adManagers),this.platform=new h(f),this.amcInterface=new d(this),this.pageSettings=a,O=!0,a&&null!=a.initialTime&&(this.startTime=a.initialTime),this.ui.elementId=n,this.ui.rootElement=r("#"+n),!this.ui.rootElement)return s();for(var p in this.ui.height=this.ui.rootElement.height(),this.ui.width=this.ui.rootElement.width(),ye(),f.intercept(e.EVENTS.DESTROY,u,i.bind(this.onDestroy,this)),this.adManagers)this.adManagers[p]&&E(this.adManagers[p],"initialize",[this.amcInterface,n]);f.subscribe(e.EVENTS.PLAYER_EMBEDDED,u,i.bind(this.onPlayerEmbedded,this)),f.subscribe(e.EVENTS.METADATA_FETCHED,u,i.bind(this.onMetadataFetched,this)),f.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,u,i.bind(this.onContentTreeFetched,this)),f.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,u,i.bind(this.onAuthorizationFetched,this)),f.subscribe(e.EVENTS.ASSET_CHANGED,u,i.bind(this.onAssetChanged,this)),f.subscribe(e.EVENTS.UI_READY,u,i.bind(this.onUiReady,this)),f.subscribe(e.EVENTS.PLAYBACK_READY,u,i.bind(this.onPlaybackReady,this)),f.subscribe(e.EVENTS.AD_AUTHORIZATION_FETCHED,u,i.bind(this.onAdAuthorizationFetched,this)),f.subscribe(e.EVENTS.GUID_SET,u,i.bind(this.onGuidSet,this)),f.subscribe(e.EVENTS.AUTOPLAY_CHECK_COMPLETE,u,i.bind(this.onAutoplayCheckComplete,this)),f.subscribe(e.EVENTS.WILL_PLAY_FROM_BEGINNING,u,i.bind(this.onWillPlayFromBeginning,this)),f.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,u,this.onPlayheadTimeChanged),f.subscribe(e.EVENTS.PAUSE,u,i.bind(this.onPause,this)),f.subscribe(e.EVENTS.WILL_PLAY,u,i.bind(this.onWillPlay,this)),f.subscribe(e.EVENTS.PLAYING,u,i.bind(this.onPlaying,this)),f.subscribe(e.EVENTS.SEEK,u,i.bind(this.onSeek,this)),f.subscribe(e.EVENTS.SEEKED,u,i.bind(this.onSeeked,this)),f.subscribe(e.EVENTS.VC_PLAY,u,Xe),f.subscribe(e.EVENTS.VC_PAUSED,u,i.bind(this.onVideoPaused,this)),f.subscribe(e.EVENTS.VC_PLAYING,u,i.bind(this.onVideoPlaying,this)),f.subscribe(e.EVENTS.VC_PLAY_FAILED,u,i.bind(this.onVideoPlayFailed,this)),f.subscribe(e.EVENTS.VC_PLAYED,u,i.bind(this.onVideoPlayed,this)),f.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,u,i.bind(this.onVideoElementInFocus,this)),f.subscribe(e.EVENTS.MUTE_STATE_CHANGED,u,i.bind(this.onMuteStateChanged,this)),f.subscribe(e.EVENTS.SKIN_UI_LANGUAGE,u,i.bind(this.onSkinUiLanguage,this)),f.subscribe(e.EVENTS.FULLSCREEN_CHANGED,u,i.bind(this.onFullscreenChanged,this)),f.subscribe(e.EVENTS.SIZE_CHANGED,u,i.bind(this.onSizeChanged,this)),f.subscribe(e.EVENTS.VOLUME_CHANGED,u,i.bind(this.onVolumeChanged,this)),f.subscribe(e.EVENTS.CONTROLS_SHOWN,u,i.bind(this.onControlsShown,this)),f.subscribe(e.EVENTS.CONTROLS_HIDDEN,u,i.bind(this.onControlsHidden,this)),f.subscribe(e.EVENTS.ADS_CLICKED,u,i.bind(this.onAdsClicked,this)),f.subscribe(e.EVENTS.SKIP_AD,u,i.bind(this.onSkipAd,this)),f.subscribe(e.EVENTS.WILL_PAUSE_ADS,u,i.bind(this.onWillPauseAds,this)),f.subscribe(e.EVENTS.WILL_RESUME_ADS,u,i.bind(this.onWillResumeAds,this)),f.subscribe(e.EVENTS.AD_POD_ENDED,u,i.bind(this.onAdPodEnded,this)),f.subscribe(e.EVENTS.NONLINEAR_AD_DISPLAYED,u,i.bind(this.onNonlinearAdDisplayed,this)),f.subscribe(e.EVENTS.VC_TAG_FOUND,u,i.bind(this.onVideoTagFound,this)),f.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,u,i.bind(this.onVideoElementCreated,this)),f.subscribe(e.EVENTS.CHROMECAST_START_CAST,u,i.bind(this.onChromecastStartCast,this)),f.subscribe(e.EVENTS.CHROMECAST_END_CAST,u,i.bind(this.onChromecastEndCast,this)),fe()}else s();else s()};var me=i.bind(function(){X||i.isEmpty(this.ui.uiParameters)||(this.ui.setupAndRegisterUi(),X=!0)},this);this.onPlayerEmbedded=function(e,t){t&&(this.ui.uiParameters=t)},this.onUiReady=function(e,t){t&&(this.ui.aliceUiParameters=t),this.ui.useSingleVideoElement||me()},this.onPlaybackReady=function(){this.ui.useSingleVideoElement||me()},this.onMetadataFetched=function(e,t){this.backlotSettings=t,S=!0,fe()},this.onContentTreeFetched=function(e,t){this.movieMetadata=t,b=!0,t&&t.duration&&(this.movieDuration=t.duration/1e3,Ke(this.EVENTS.CONTENT_TREE_FETCHED,(0,n.default)({},t,{duration:t.duration/1e3*60}))),fe()},this.onAuthorizationFetched=function(e,t){for(var i in this.isLiveStream=!1,t&&t.streams&&t.streams[0]&&(this.isLiveStream=t.streams[0].is_live_stream||!1),this.adManagers)this.adManagers[i]&&E(this.adManagers[i],"authorizationFetched")},this.onAdAuthorizationFetched=function(e,t){var i=t;for(var n in this.adManagers)this.adManagers[n]&&"ooyala-ads-manager"===n&&(E(this.adManagers[n],"ooyalaAdData",[i]),m=this.adManagers[n])},this.onAssetChanged=function(e,t,i){for(var n in this.adManagers)this.adManagers[n].ready=!1;t.id!==this.currentEmbedCode&&(C=this.currentEmbedCode),this.currentEmbedCode=t.id,""!==C&&C!==this.currentEmbedCode&&(Ke(this.EVENTS.CONTENT_CHANGED),et()),this.pageSettings=i,this.backlotSettings={},S=!0,this.movieMetadata=t.content,b=!0,t.content&&t.content.duration&&(this.movieDuration=t.content.duration/1e3),this.isLiveStream=!1,t.content&&t.content.streams&&t.content.streams[0]&&(this.isLiveStream=t.content.streams[0].is_live_stream||!1),fe()},this.loadAdModule=function(t,n,a){i.defer(function(t,n,a,r){e.loadScriptOnce(a,i.bind(function(){r(!0),t.onAdManagerReady()},t,n,r),i.bind(function(){r(!1),t.removeAdManager(n)},t,n,r),t.MAX_AD_MODULE_LOAD_TIMEOUT)},this,t,n,a)},this.onAdManagerReady=function(e){e&&this.ui.prepAdVideoElement(),_e()},this.willRequireEmbedCodeMetadata=function(){f.publish(e.EVENTS.WILL_REQUIRE_EMBED_CODE_METADATA,!0)},this.reportPluginLoaded=function(t,i){f.publish(e.EVENTS.PLUGIN_LOADED,e.PLUGINS.ADS,i,t)},this.removeAdManager=function(t){e.log("AMC: removing failed ad manager "+t),this.unregisterAdManager(t),_e()};var _e=i.bind(function(){if(!T){for(var t in this.adManagers)if(!this.adManagers[t].ready)return;T=!0,Oe();var i=Ie(L);f.publish(e.EVENTS.AMC_ALL_READY,{prerolls:i.length})}},this),Se=i.bind(function(){if(!T){for(var t in this.adManagers)this.adManagers[t].ready||this.removeAdManager(t);if(!T){T=!0,Oe();var i=Ie(L);f.publish(e.EVENTS.AMC_ALL_READY,{prerolls:i.length})}}},this);this.onAdManagerControllerAllReady=function(){if(!l||i.isEmpty(l))return e.log("AMC: No ad manager factories, destroying AMC"),void ht();z=!1,ze()};var Oe=i.bind(function(){for(var e in this.adManagers){var t=this.adManagers[e];if(t){var n=E(t,"buildTimeline",[]);i.isArray(n)&&(L=i.union(L,n),be(L))}}L=De(L),this.ui.resetCuePoints(L,this.movieDuration)},this),be=i.bind(function(e){i.each(e,function(e){Ue(e)&&(e.ad.lastPlayed=e.position,e.ad.playTimes={},P.push(e))},this)},this),Ie=i.bind(function(e){var t=[];return i.each(e,function(e){0===e.position&&t.push(e)},this),t},this),ve=i.bind(function(e,t){var n=[];return i.each(e,function(e){e.adManager===t&&n.push(e)},this),n},this);this.appendToTimeline=function(e){i.isArray(e)&&(L=L.concat(e),L=De(L),be(e))};var Ne=i.bind(function(e){w.push(e),w=De(w)},this),De=function(t){var i=t;return!e._.isArray(i)||!i.length||i.length<1?[]:(i.sort(function(t,i){return t&&e._.isObject(t)&&void 0!==t.position?i&&e._.isObject(i)&&void 0!==i.position?t.position<i.position?-1:t.position===i.position?!0===t.played&&!1===i.played?-1:!1===t.played&&!0===i.played?1:t.isRequest?-1:i.isRequest?1:t.isLinear?i.isLinear?0:-1:1:1:-1:1}),i)};this.showCompanion=function(t){f.publish(e.EVENTS.WILL_SHOW_COMPANION_ADS,{ads:t})},this.hideCompanion=function(){},this.adManagerWillControlAds=function(t){G[t]||(r.isEmptyObject(G)&&f.addDependent(e.EVENTS.PLAYED,e.EVENTS.AD_MANAGER_HANDLED_ADS,u,function(){}),G[t]=!0)},this.forceAdToPlay=function(e,t,i,n,a){var r={adManager:e,adType:i,ad:t,streams:n,duration:a,position:this.FORCED_AD_POSITION},s=new this.Ad(r);Ne(s),be([s]),se||Ce(R,!1)},this.adManagerDoneControllingAds=function(t){G[t]&&(delete G[t],r.isEmptyObject(G)&&f.publish(e.EVENTS.AD_MANAGER_HANDLED_ADS))},this.isAdManagerControllingAds=function(e){return e?!!G[e]:r.isEmptyObject(G)};var Ce=i.bind(function(t,i,n,a){if(L&&!re&&!de&&(ue||a)){V||(V=this.movieDuration-e.CONSTANTS.SEEK_TO_END_LIMIT);var s=we(t,i,n);w.length>0?a||r.inArray(this.currentState,pe)>=0?ke(a):it({type:w[0].adManager,duration:s}):this.tryAdsCompleted()||a||Re()}},this),Re=i.bind(function(){var t=!1;return z||q||x&&!e.isIos&&!e.isAndroid||(f.publish(e.EVENTS.AMC_PREROLLS_DONE),q=!0,t=!0),t},this),Le=i.bind(function(e,t,n){var a=[];n!==he?i.each(P,function(i){var a=i.ad.lastPlayed+i.ad.repeatAfter;if(a<=e&&e<this.movieDuration||!t&&n===Ae){if(this.startTime>=0){var r,s=i.ad.repeatAfter;r=e>i.position?Math.floor((e-i.position)/s)*s+i.position:i.position,i.ad.lastPlayed=r}else i.ad.lastPlayed=a;t||Pe(i,i.ad.lastPlayed)||w.push(i)}},this):i.each(P,function(t){var i,n=t.ad.repeatAfter,r=Be();(r&&r===t&&(t.ad.firstPlay=!0),i=e>t.position?Math.floor((e-t.position)/n)*n+t.position:t.position,r)?r&&e>=i&&(t.ad.lastPlayed=i):(t.ad.lastPlayed+n<=e&&e<V&&!Pe(t,i)&&a.push(t),t.ad.lastPlayed=i)},this),w=w.concat(a)},this),Pe=i.bind(function(e,t){var i=!1;return e&&t in e.ad.playTimes&&(i=e.ad.playTimes[t]),i},this),we=i.bind(function(e,t,n){var a=0;if(null==L||0===L.length)return a;t&&(w=i.filter(w,i.bind(function(e){return e.position===this.FORCED_AD_POSITION},this)));var r=0;for(r=0;r<L.length-1&&!(L[r+1].position>=e);r++);for(;r>0&&L[r].position===L[r-1].position&&!0!==L[r].played;)r--;for(;L[r]&&L[r].position<=e;)L[r].played||k&&L[r].position<F||i.indexOf(w,L[r])>=0?r++:(w.push(L[r]),L[r].isLinear&&(a+=L[r].duration),r++);return w.length>0?Le(e,!0,n):(Le(e,!1,n),i.each(w,function(e){e.isLinear&&(a+=e.duration)},this)),w=De(w),a},this);this.getTimeline=function(){return L},this.getRepeatAds=function(){return i.clone(P)},this.getAdQueue=function(){return w},this.getCurrentPlayhead=i.bind(function(){return R},this),this.getAdManagerLoadTimeout=function(){return s},this.getAdLoadTimeout=function(){return o},this.isLastAdPlayed=function(){return 0===L.length||L[L.length-1].played},this.sendURLToLoadAndPlayNonLinearAd=function(t,i,n){f.publish(e.EVENTS.PLAY_NONLINEAR_AD,{ad:t,url:n}),this.notifyNonlinearAdStarted(i),n&&this.adManagerSettings[c.SHOW_NONLINEAR_CLOSE_BUTTON]&&f.publish(e.EVENTS.SHOW_NONLINEAR_AD_CLOSE_BUTTON)},this.showSkipVideoAdButton=function(e,t){"boolean"==typeof e&&(ne=e,t&&(ae=t))};var ke=i.bind(function(t){if(ue||t){var i=nt(),n=M||!x&&R>0||this.startTime>=this.movieDuration&&!this.isLiveStream;if((this.startTime>=this.movieDuration||this.ended)&&(R=Number.MAX_VALUE),we(R,n),w.length<=0||w[0]&&!w[0].isRequest&&w[0].isLinear!==i)i&&f.publish(e.EVENTS.ADS_PLAYED);else{var a=t?w[0]:w.shift();this.playAd(a,t)}}},this),Ve=i.bind(function(){P=[]},this),Be=function(){return w.length>0?w[0]:null},Me=i.bind(function(t){ee=!0,Z&&"ooyala-ads-manager"!==Z.adManager&&this.adManagers[Z.adManager]&&(Fe(Z,t),f.publish(e.EVENTS.ADS_PLAYED))},this),Fe=i.bind(function(e,t){e&&this.adManagers[e.adManager]&&E(this.adManagers[e.adManager],"cancelAd",[e,t])},this);this.updateMainStreamUrl=function(t){f.publish(e.EVENTS.VC_UPDATE_ELEMENT_STREAM,e.VIDEO.MAIN,t)},this.playAd=function(t,n){if(t&&t.ad){ee=!1,(Z=t).played=!n;var a=i.bind(function(t,i,n){e.log("AMC: Cancelling an ad due to timeout "+n),Fe(i,{code:this.AD_CANCEL_CODE.TIMEOUT}),t.publish(e.EVENTS.SINGLE_AD_PLAYED,n),t.publish(e.EVENTS.AD_POD_ENDED,n)},this,f,t,t.id);if(ot(t.ad.first_shown,t.ad.frequency)){var r;if(i.isFinite(t.duration)&&t.duration>0&&(this.timeMainVideoIdleMs+=1e3*t.duration),Ue(t))t.ad.firstPlay?(r=t.position,t.ad.firstPlay=!1):r=t.ad.lastPlayed,t.ad.playTimes[r]=!0;if(t.isLinear||t.isRequest)if(e.log("AMC: Will play a linear ad for time: "+t.position+" at playhead "+R),xe(t,a,o),t.adManager&&this.adManagers[t.adManager]){var s=this.adManagers[t.adManager].videoRestrictions?this.adManagers[t.adManager].videoRestrictions:{};t.videoRestrictions&&(s=t.videoRestrictions);var l=this.pageSettings?this.pageSettings.platform:null;s&&l&&(s.platform=l),t.adType!==this.ADTYPE.UNKNOWN_AD_REQUEST&&(t.adType!==this.ADTYPE.LINEAR_VIDEO||t.ad&&t.ad.ssai)?(t.ad.ssai&&this.hidePlayerUi(!0,!0),E(this.adManagers[t.adManager],"playAd",[t,n])):(f.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc",i.bind(He,this,n)),f.subscribe(e.EVENTS.VC_ERROR,"amc",i.bind(je,this,t.id)),this.ui.createAdVideoElement(t.streams,s))}else this.notifyPodEnded(t.id);else Q=!0,J=Z=t,f.publish(e.EVENTS.WILL_PLAY_NONLINEAR_AD,t)}else a()}};var Ue=i.bind(function(e){return e&&e.ad?e.ad.repeatAfter:null},this),xe=i.bind(function(e,t,n){e&&"function"==typeof t&&!this.isAdManagerControllingAds(e.adManager)&&(Ye(e.id),te[e.id]=i.delay(t,n))},this);this.focusAdVideo=function(){this.ui.transitionToAd(),Z&&Z.adType===this.ADTYPE.UNKNOWN_AD_REQUEST&&f.publish(e.EVENTS.VC_PLAY,e.VIDEO.ADS)};var He=i.bind(function(t){e.log("AMC: Start play ad"),f.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc"),f.unsubscribe(e.EVENTS.VC_ERROR,"amc"),E(this.adManagers[Z.adManager],"playAd",[Z,t]),Z.adType===this.ADTYPE.LINEAR_VIDEO&&f.publish(e.EVENTS.VC_PLAY,e.VIDEO.ADS)},this),Ge=i.bind(function(t){if(!this.adStarted){var i={};if(Z&&Z.id===t&&(i.type=Z.adManager,i.duration=Z.duration),f.publish(e.EVENTS.WILL_PLAY_ADS,i),x&&(!Z||!Z.ad||!Z.ad.ssai)){var n=Math.max(0,this.startTime),a=R-n;a>=0&&a<=D&&!e.requiresSingleVideoElement&&f.publish(e.EVENTS.VC_SET_INITIAL_TIME,e.VIDEO.MAIN,n)}}Ye(t),this.adStarted=!0},this),Ye=i.bind(function(e){te&&te[e]&&(clearTimeout(te[e]),delete te[e])},this),je=i.bind(function(t,i,n,a){n===e.VIDEO.ADS&&(f.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc"),f.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amc"),f.unsubscribe(e.EVENTS.VC_ERROR,"amc"),Z&&Z.isLinear&&this.adManagers[Z.adManager]&&E(this.adManagers[Z.adManager],"adVideoError",[Z,a]),this.notifyPodEnded(t))},this);this.notifySSAIAdTimelineReceived=function(t){f.publish(e.EVENTS.SSAI_AD_TIMELINE_RECEIVED,t)},this.notifySSAIAdPlaying=function(t){oe=!0,f.publish(e.EVENTS.SSAI_PLAY_SINGLE_AD,t)},this.notifySSAIAdPlayed=function(){oe=!1,f.publish(e.EVENTS.SSAI_SINGLE_AD_PLAYED)},this.notifyPodStarted=function(t,i){e.log("AMC: Start ad pod "+t),Ye(t),f.publish(e.EVENTS.AD_POD_STARTED,i)},this.notifyPodEnded=function(t){e.log("AMC: End ad pod "+t),se=!0,Ye(t),We(),f.publish(e.EVENTS.AD_POD_ENDED,t)},this.notifyNonlinearAdStarted=function(t){e.log("AMC: Start of non-linear ad "+t),Ge(t)},this.notifyNonlinearAdEnded=function(t){J=null,e.log("AMC: End of non-linear ad "+t),We(),f.publish(e.EVENTS.NONLINEAR_AD_PLAYED,t)},this.notifyLinearAdStarted=function(t,i){e.log("AMC: Start of linear ad "+t),re=!0,Z&&Z.ad&&Z.ad.ssai||this.focusAdVideo(),Ge(t),f.publish(e.EVENTS.WILL_PLAY_SINGLE_AD,i)},this.notifyLinearAdEnded=function(t){e.log("AMC: End of linear ad "+t),re=!1,clearTimeout(ie),f.publish(e.EVENTS.SINGLE_AD_PLAYED,t)},this.hidePlayerUi=function(t,n,a){var r=!!i.isBoolean(t)&&t,s=!!i.isBoolean(n)&&n,o=!i.isBoolean(a)||a;f.publish(e.EVENTS.SHOW_AD_CONTROLS,r,o),f.publish(e.EVENTS.SHOW_AD_MARQUEE,s)};var We=i.bind(function(){f.publish(e.EVENTS.SHOW_AD_CONTROLS,!0),f.publish(e.EVENTS.SHOW_AD_MARQUEE,!0)},this);this.showNonlinearAdCloseButton=function(){f.publish(e.EVENTS.SHOW_NONLINEAR_AD_CLOSE_BUTTON)},this.raiseAdError=function(t){f.publish(e.EVENTS.ADS_ERROR,t)},this.raiseApiError=function(t,i,n){f.publish(e.EVENTS.API_ERROR,t,i,n)},this.addPlayerListener=function(e,t){i.indexOf(i.values(this.EVENTS),e)<0||(null==g[e]&&(g[e]=[]),i.isFunction(t)&&g[e].push(t))},this.notify=function(e,t,i){f.publish(e,t,i)},this.removePlayerListener=function(e,t){var i=g[e];if(i){var n=i.indexOf(t);n>=0&&i.splice(n,1),i.length<=0&&delete g[e]}};var Ke=i.bind(function(e){if(g[e]&&i.isArray(g[e]))for(var t=0;t<g[e].length;t++)g[e][t].apply(this,arguments)},this);this.onPlay=function(){r.inArray(this.currentState,pe)<0||!this.adStarted||f.publish(e.EVENTS.WILL_RESUME_ADS)},this.onInitialPlay=function(t,n,a){for(var r in K=!0,this.startTime<=0&&(R=0,this.startTime=0),lt(),this.isLiveStream&&(this.liveStreamTimestamps.initialPlay={ms:n,delayUsed:!1}),le=0,this.adManagers){if(this.adManagers[r])if(ve(L,r).length)for(var s=E(this.adManagers[r],"createAdVideoElementOnPlayerInit",[])||[],o=void 0,l=0;l<s.length;l++)(o={})[s[l]]="",this.ui.createAdVideoElement(o),le++}le?(f.subscribe(e.EVENTS.VC_ERROR,"amc",i.bind(function(){e.log("Error creating ad video element on initial play"),--le||this.setupInitialPlay(a)},this)),f.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc",i.bind(function(){--le||this.setupInitialPlay(a)},this))):this.setupInitialPlay(a)},this.onAutoplayCheckComplete=function(e,t){I=!0,N=t,ze()},this.setupInitialPlay=function(t){v=t,void 0===_&&(_=!!t),f.unsubscribe(e.EVENTS.VC_ERROR,"amc"),f.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc"),e.isAndroid&&e.isChrome&&f.publish(e.EVENTS.VC_RELOAD,e.VIDEO.MAIN),R=this.startTime,ce&&K&&Re(),ze()};var ze=i.bind(function(){var e=N.muted||N.unmuted,t=I&&(void 0===N.muted||void 0===N.unmuted),i=this.preloadAds;ue||!K&&!i||v&&_&&!e&&!t||(K&&(ue=!0,Ke(this.EVENTS.INITIAL_PLAY_REQUESTED,v)),Ce(R,R>0,null,!K))},this);this.onReplay=function(){this.startTime=0,R=0,lt(),ut(),ct(),ye(),Ve(),Ke(this.EVENTS.REPLAY_REQUESTED),this.adManagerSettings[c.REPLAY_ADS]?(L=[],Oe()):i.each(L,i.bind(function(e){e.played=!0},this)),Ce(0,!1)},this.onWillPlayFromBeginning=function(){x||r.inArray(this.currentState,pe)>=0||(C=this.currentEmbedCode)},this.onSetEmbedCode=function(e,t,n){n&&(this.pageSettings=i.extend(this.pageSettings,n))},this.onEmbedCodeChanged=function(e,t){for(var i in this.adManagers)this.adManagers[i].ready=!1;t!==this.currentEmbedCode&&(C=this.currentEmbedCode),this.currentEmbedCode=t,""!==C&&C!==this.currentEmbedCode&&(Ke(this.EVENTS.CONTENT_CHANGED),et())},this.onPlayheadTimeChanged=function(t,n,a,r,s,o){var l=null,u=n;if(this.isLiveStream&&!Y&&(l=u,u=st()),o===e.VIDEO.MAIN){if(-1===this.movieDuration&&a>0&&(this.movieDuration=a),!x||this.ended)return;if(R=u,U||M||B)return;if(!j&&R>this.startTime&&(e.log("Reached start time at playhead: "+R+" for start time: "+this.startTime),j=!0),-1===this.startTime)return void(this.startTime=R);if(nt()||!ue)return;j&&Ce(R,!0),Ke(this.EVENTS.PLAYHEAD_TIME_CHANGED,u,a,l)}else if(o===e.VIDEO.ADS){var d={};d[c.SHOW_LINEAR_AD_SKIP_BUTTON]=ne;var h=qe(c.SHOW_LINEAR_AD_SKIP_BUTTON,[this.pageSettings,d,this.adManagerSettings]);if(void 0!==h&&(h=ge(h)),h){var A;ae&&(A=ae.indexOf("%")===ae.length-1?parseInt(ae)/100*Z.duration:parseInt(ae)),d[c.LINEAR_AD_SKIP_BUTTON_START_TIME]=A;var E=qe(c.LINEAR_AD_SKIP_BUTTON_START_TIME,[this.pageSettings,d,this.adManagerSettings]);i.isNumber(E)&&E>=0&&u>=E&&f.publish(e.EVENTS.SHOW_AD_SKIP_BUTTON)}Ke(this.EVENTS.AD_PLAYHEAD_TIME_CHANGED,u,a,l)}}.bind(this);var qe=i.bind(function(e,t){for(var i,n=0;n<t.length&&void 0===(i=t[n][e]);n++);return i},this);this.onPause=function(){if(r.inArray(this.currentState,pe)>=0&&this.adStarted)Z&&this.adManagers[Z.adManager]&&f.publish(e.EVENTS.WILL_PAUSE_ADS);else{if(U=!0,Q){Ke("pauseOverlayTimer")}x&&Ke(this.EVENTS.PAUSE)}},this.onVideoPaused=function(){this.liveStreamTimestamps&&(this.liveStreamTimestamps.paused={ms:Date.now(),delayUsed:!1})},this.onWillPauseAds=function(){Z&&this.adManagers[Z.adManager]&&(E(this.adManagers[Z.adManager],"pauseAd",[Z]),(!Z.ad||Z.ad&&!Z.ad.ssai)&&f.publish(e.EVENTS.VC_PAUSE,e.VIDEO.ADS),$=!0)},this.onWillResumeAds=function(){Z&&this.adManagers[Z.adManager]&&(E(this.adManagers[Z.adManager],"resumeAd",[Z]),(!Z.ad||Z.ad&&!Z.ad.ssai)&&f.publish(e.EVENTS.VC_PLAY,e.VIDEO.ADS),$=!1)},this.onGuidSet=function(e,t){Ke(this.EVENTS.DEVICE_ID_SET,t)},this.onWillPlay=function(e,t){x||Ke(this.EVENTS.PLAY_STARTED),U&&H&&Ke(this.EVENTS.RESUME,t),U&&(U=!1,M&&$e())};var Xe=i.bind(function(t,i){i===e.VIDEO.MAIN&&(H=!0)},this);this.onPlaying=function(){!x&&v&&!1===N.muted&&!1===N.unmuted&&(v=!1,ze()),B=!1,x=!0},this.onVideoPlayed=function(t,i){i===e.VIDEO.MAIN?Qe(t,i):i===e.VIDEO.ADS&&(Z&&Z.isLinear&&this.adManagers[Z.adManager]?E(this.adManagers[Z.adManager],"adVideoEnded"):m&&E(m,"adVideoEnded"))},this.onVideoElementInFocus=function(t,i){i===e.VIDEO.MAIN&&(We(),Ke(this.EVENTS.MAIN_CONTENT_IN_FOCUS))};var Qe=i.bind(function(t,i){i===e.VIDEO.MAIN&&(Q&&tt(),this.ended=!0,J=null,Q=!1,this.waitForPostrollToPlay=!1,Ke(this.EVENTS.CONTENT_COMPLETED),Ce(Number.MAX_VALUE,!1,Ae),de&&f.publish(e.EVENTS.AMC_ALL_ADS_DONE))},this);this.onPlayed=function(){x=!1,H=!1,C=this.currentEmbedCode},this.onSeek=function(e,t){r.inArray(this.currentState,pe)>=0?Z&&Z.adManager&&E(this.adManagers[Z.adManager],"seekAd"):(j||t===this.startTime||(j=!0),k=t>=V,F=t,R=t,B=!0)},this.onSeeked=function(e,t){"number"==typeof t&&(R=t),B=!1,Je()},this.onVideoPlaying=function(t,i){rt(),i===e.VIDEO.ADS&&Z&&E(this.adManagers[Z.adManager],"adVideoPlaying")},this.onVideoPlayFailed=function(t,i,n){i===e.VIDEO.ADS?Z&&Z.isLinear&&this.adManagers[Z.adManager]&&E(this.adManagers[Z.adManager],"adVideoError",[Z,n]):i===e.VIDEO.MAIN&&dt()};var Ze=i.bind(function(){M=!1,B=!1},this),Je=i.bind(function(){x&&(B=!1,M=!0,U||$e())},this),$e=i.bind(function(){Ze(),j&&Ce(R,!0,he)},this),et=i.bind(function(){Me({code:this.AD_CANCEL_CODE.STREAM_ENDED}),dt(),z=!0},this);this.onFullscreenChanged=function(e,t){t!==W&&(Ke(this.EVENTS.FULLSCREEN_CHANGED,t),W=t)},this.onSizeChanged=function(e,t,i){t<0||i<0||(this.ui.height=i,this.ui.width=t,Ke(this.EVENTS.SIZE_CHANGED,t,i))},this.onControlsShown=function(){Ke(this.EVENTS.CONTROLS_SHOWN)},this.onControlsHidden=function(){Ke(this.EVENTS.CONTROLS_HIDDEN)},this.onVolumeChanged=function(t,i,n){Ke(this.EVENTS.VOLUME_CHANGED,i),(n===e.VIDEO.ADS||oe)&&Ke(this.EVENTS.AD_VOLUME_CHANGED,i)},this.onMuteStateChanged=function(e,t,i,n){Ke(this.EVENTS.MUTE_STATE_CHANGED,t)},this.onSkinUiLanguage=function(e,t){i.isString(t)&&(this.uiLanguage=t)},this.adsClicked=function(t){if(m&&E(m,"playerClicked"),Z)if(!$||t&&"learnMoreButton"===t.source){if(this.adManagerSettings[c.PAUSE_AD_ON_CLICK]&&(Z&&(!Z.isLinear||Z.ad&&Z.ad.ssai)?f.publish(e.EVENTS.PAUSE):this.onPause()),Z.isLinear&&!this.adManagerSettings[c.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]&&t&&"videoWindow"===t.source)return;this.adManagers[Z.adManager]&&E(this.adManagers[Z.adManager],"playerClicked",[Z,!0])}else f.publish(e.EVENTS.PLAY)},this.adsClickthroughOpened=function(){f.publish(e.EVENTS.ADS_CLICKTHROUGH_OPENED)},this.onSkipAd=function(){m&&E(m,"cancelAd",[Z,{code:this.AD_CANCEL_CODE.SKIPPED}]),"LinearAd"===this.currentState?(e.log("AMC: Canceling linear ad due to skip button clicked."),Fe(Z,{code:this.AD_CANCEL_CODE.SKIPPED})):"Overlay"===this.currentState&&(e.log("AMC: Canceling nonlinear ad due to skip button clicked."),tt())};var tt=i.bind(function(){Q&&Z&&this.adManagers[Z.adManager]&&(ee=!0,E(this.adManagers[Z.adManager],"cancelOverlay",[Z]),f.publish(e.EVENTS.NONLINEAR_AD_PLAYED,Z.id))},this),it=i.bind(function(t){Ze(),Q&&Z&&this.adManagers[Z.adManager]&&(i.isFunction(this.adManagers[Z.adManager].hideOverlay)?(E(this.adManagers[Z.adManager],"hideOverlay",[Z]),f.publish(e.EVENTS.HIDE_NONLINEAR_AD)):tt()),f.publish(e.EVENTS.AMC_AD_SETUP)},this),nt=i.bind(function(){return r.inArray(this.currentState,pe)>=0},this);this.onAdManagerControllerAdSetup=function(){ke()},this.onAdPodStarted=function(){f.publish(e.EVENTS.DISABLE_SEEKING,e.VIDEO.ADS)},this.onWillPlayNonlinearAd=function(t,n){var a=i.bind(function(t,i,n){J=null,e.log("AMC: Cancelling a non-linear ad due to timeout "+n),Fe(i,{code:this.AD_CANCEL_CODE.TIMEOUT}),t.publish(e.EVENTS.NONLINEAR_AD_PLAYED,n)},this,f,n,n.id);xe(n,a,o),n.adManager&&this.adManagers[n.adManager]?E(this.adManagers[n.adManager],"playAd",[n]):this.notifyNonlinearAdEnded(n.id)},this.onPlayNonlinearAd=function(){};var at=i.bind(function(){ct(),ee||ke()},this);this.onAdPodEnded=function(t,i){se=!1,f.publish(e.EVENTS.ENABLE_SEEKING,e.VIDEO.ADS),f.publish(e.EVENTS.VC_SET_VIDEO_STREAMS,e.VIDEO.ADS,null),at(i)},this.onNonlinearAdDisplayed=function(e){Ke(this.EVENTS.NONLINEAR_AD_DISPLAYED)},this.onNonlinearAdPlayed=function(e,t){at(t)},this.tryAdsCompleted=function(){var t=!1;return this.ended&&!this.waitForPostrollToPlay&&(w.length<=0||w[0]&&!w[0].isLinear&&!w[0].isRequest)&&(this.waitForPostrollToPlay=!0,this.ui.transitionToMainContent(!1,this.ended),t=!0,e.log("AMC: All ads completed, unblocking played event"),f.publish(e.EVENTS.AMC_ALL_ADS_DONE)),t},this.onAdsPlayed=function(){if(ee=!1,!this.tryAdsCompleted()){var t,i=!z&&this.ui.isAdInFocus(),n=Math.max(0,this.startTime),a=R-n;x&&a>=0&&a<=D&&e.requiresSingleVideoElement&&(t=n),this.ui.transitionToMainContent(i,this.ended,t),Re(),ke(),ct(),Q&&Z&&this.adManagers[Z.adManager]&&(E(this.adManagers[Z.adManager],"showOverlay"),f.publish(e.EVENTS.SHOW_NONLINEAR_AD))}},this.onAdsClicked=function(e,t){this.adsClicked(t)},this.onVideoTagFound=function(e,t,i,n){Ke(this.EVENTS.VIDEO_TAG_FOUND,t,i,n)},this.onVideoElementCreated=i.bind(function(t,i){if(i.videoId===e.VIDEO.MAIN){var n=i.streamUrl;n&&Ke(this.EVENTS.CONTENT_URL_CHANGED,n)}},this),this.onChromecastStartCast=function(){de=!0,f.unsubscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,u,this.onPlayheadTimeChanged)},this.onChromecastEndCast=function(){de=!1,f.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,u,this.onPlayheadTimeChanged)},this.onAdSdkLoaded=function(t){e.log("onAdSdkLoaded: ",t,e.VERSION.core.releaseVersion),f.publish(e.EVENTS.AD_SDK_LOADED,t,e.VERSION.core.releaseVersion)},this.onAdSdkLoadFailure=function(t,i){f.publish(e.EVENTS.AD_SDK_LOAD_FAILED,t,e.VERSION.core.releaseVersion,i)},this.onAdRequest=function(t,i){f.publish(e.EVENTS.AD_REQUEST,t,i)},this.onAdRequestSuccess=function(t,i,n,a){f.publish(e.EVENTS.AD_REQUEST_SUCCESS,t,i,n,a)},this.onAdRequestEmpty=function(t,i,n,a,r){f.publish(e.EVENTS.AD_REQUEST_EMPTY,t,i,n,a,r)},this.onAdRequestError=function(t,i,n,a,r,s){f.publish(e.EVENTS.AD_REQUEST_ERROR,t,i,n,a,r,s)},this.onAdPlaybackError=function(t,i,n,a,r,s){var o=e.Video.getRegisteredPlugins(),l={pluginNames:Object.getOwnPropertyNames(o)};f.publish(e.EVENTS.AD_PLAYBACK_ERROR,t,i,n,a,r,l,s)},this.onAdSdkImpression=function(t,i,n,a,r){f.publish(e.EVENTS.AD_SDK_IMPRESSION,t,i,n,a,r)},this.onAdCompleted=function(t,i,n,a){f.publish(e.EVENTS.AD_COMPLETED,t,i,n,a)},this.onSdkAdEvent=function(t,i,n){f.publish(e.EVENTS.SDK_AD_EVENT,t,i,n)};var rt=i.bind(function(){var e=Date.now(),t=this.liveStreamTimestamps.paused,n=this.liveStreamTimestamps.initialPlay;t&&i.isFinite(t.ms)&&!t.delayUsed&&(this.timeMainVideoIdleMs+=e-t.ms,this.liveStreamTimestamps.paused.delayUsed=!0),n&&i.isFinite(n.ms)&&!n.delayUsed&&(this.timeMainVideoIdleMs+=e-n.ms,this.liveStreamTimestamps.initialPlay.delayUsed=!0)},this),st=i.bind(function(){if(this.liveStreamTimestamps&&this.liveStreamTimestamps.initialPlay){return(Date.now()-this.liveStreamTimestamps.initialPlay.ms-this.timeMainVideoIdleMs)/1e3}return 0},this),ot=function(t,i){var n=t>0?t:0,a=i>0?i:0,r=e.localStorage.getItem("OO Main Video Count"),s=!1;return(r=r&&+r>0?+r:0)>=n&&(0===a||(r-n)%a==0)&&(s=!0),s},lt=i.bind(function(){var t=e.localStorage.getItem("OO Main Video Count");t=1+(t&&+t>0?+t:0),e.setItem("OO Main Video Count",t),e.log("MAIN VIDEO COUNT: "+e.localStorage.getItem("OO Main Video Count"))},this),ct=i.bind(function(){J?(Z=J,Q=!0,this.adStarted=!0):(Z=null,Q=!1,this.adStarted=!1),re=!1,$=!1,oe=!1,ne=!0,ae=null,se=!1},this),ut=i.bind(function(){w=[],M=!1,B=!1,U=!1,J=null,this.ended=!1,V=0,k=!1,F=0,this.waitForPostrollToPlay=!0,x=!1,H=!1,b=!1,S=!1,K=!1,q=!1},this),dt=i.bind(function(t){T=!1,y=!1,ue=!1,this.movieMetadata=null,this.startTime=-1,this.movieDuration=-1,this.isLiveStream=!1,R=0,L=[],ee=!1,f.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc"),f.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amc"),f.unsubscribe(e.EVENTS.VC_ERROR,"amc"),ut(),ct(),ye(t)},this),ht=i.bind(function(){for(var e in this.ui&&"function"==typeof this.ui.destroy&&this.ui.destroy(),te)te.hasOwnProperty(e)&&Ye(e);for(var t in"LinearAd"!==this.currentState&&"Overlay"!==this.currentState||Me({code:this.AD_CANCEL_CODE.STREAM_ENDED}),this.adManagers)this.unregisterAdManager(t);this.fsm.destroyFsm(),dt(!0)},this);this.onDestroy=function(){ht()},this.getRegisteredAdManagers=function(){return this.adManagers},this.unregisterAdManager=function(t){if(e.log("AMC: Removing an ad manager: "+t),t&&this.adManagers[t]){if(i.isFunction(this.adManagers[t].destroy))try{this.adManagers[t].destroy()}catch(t){e.log("AMC: Error destroying an ad manager - "+t)}this.unregisteredAdManagers.push(t),delete this.adManagers[t]}}};var E=function(t,n,a){try{if(i.isFunction(t[n]))return t[n].apply(t,a)}catch(i){e.log("AMC: ad manager",t&&t.name,"at function '"+n+"' threw exception -",i)}return null},p=null,f=i.bind(function(t,i){return p=new e.AdManagerController(t,i)},this);e.TEST_TEST_TEST&&(t.amcModuleFactory=f),e.registerModule("adManagerController",f)}(OO,OO._,OO.$)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/objectSpread":16,"@babel/runtime/helpers/typeof":18}],64:[function(e,t,i){"use strict";OO.Ads.manager(function(e,t){return new function(){this.name="ooyala-ads-manager",this.adId=null,this.ready=!1,this.initTime=Date.now(),this.movieMetadata={},this.streams={};var t=null,i="",n="",a=!0,r={},s=!1,o=!1,l=!1,c=!1,u=0,d=e.bind(function(){OO.log(this.name+": resetting"),this.adId=null,this.ready=!1,this.initTime=Date.now(),this.movieMetadata={},this.streams={},i="",n="",a=!0,r={},s=!1,o=!1,l=!1,c=!1},this);this.initialize=function(e,i){d(),u=(new Date).getTime(),t=e},this.loadMetadata=function(e,i,r){OO.log(this.name+": Load Metadata at "+((new Date).getTime()-u)+" ms"),t&&(t.addPlayerListener(t.EVENTS.CONTENT_CHANGED,f),this.movieMetadata=r,a&&r&&(this.ready=!1,n=r.embed_code,a=!1),o=!0,h())},this.authorizationFetched=function(){OO.log(this.name+": Authorization Fetched at "+((new Date).getTime()-u)+" ms")};var h=e.bind(function(){if(OO.log(this.name+": Try Fetch Ad Authorization at "+((new Date).getTime()-u)+" ms"),o&&t&&!l){if(!this.movieMetadata||!this.movieMetadata.ads||this.movieMetadata.ads.length<=0||!this.movieMetadata.ads[0]||!this.movieMetadata.ads[0].ad_embed_code)return OO.log(this.name+": No Ooyala Ads at "+((new Date).getTime()-u)+" ms"),l=!0,E(),d(),void(this.ready=!0);OO.log(this.name+": Fetching Ad Authorization at "+((new Date).getTime()-u)+" ms"),l=!0,i=this.movieMetadata.ads[0].ad_embed_code;var e={pcode:this.movieMetadata.asset_pcode||"unknown",embedCode:i,server:OO.SERVER.AUTH,params:OO.playerParams};t.notify(t.EVENTS.WILL_FETCH_AD_AUTHORIZATION,e,A)}},this),A=function(e,t,i){OO.log("Error: Failed SAS call for Ooyala Ad. Continuing on with playback."),E()};this.ooyalaAdData=function(e){OO.log(this.name+": Ooyala Ad Data at "+((new Date).getTime()-u)+" ms"),e&&(this.streams[OO.VIDEO.ENCODING.MP4]=e,E())};var E=e.bind(function(){OO.log(this.name+": Set ready at "+((new Date).getTime()-u)+" ms"),this.ready=!0;var i=Date.now()-this.initTime;t.reportPluginLoaded(i,this.name);var n=!e.isEmpty(this.streams);t.onAdManagerReady(n)},this);this.buildTimeline=function(){var e=[];if(OO.log(this.name+": Build Timeline at "+((new Date).getTime()-u)+" ms"),!this.movieMetadata||!this.movieMetadata.ads)return e;for(var i=0;i<this.movieMetadata.ads.length;i++){var n=this.movieMetadata.ads[i];if(n&&"ooyala"===n.type){var a={position:n.time,adManager:this.name,ad:n,streams:{},adType:t.ADTYPE.UNKNOWN_AD_REQUEST};a.streams[OO.VIDEO.ENCODING.MP4]="";var r=new t.Ad(a);e.push(r)}}return e},this.playAd=function(n){OO.log(this.name+": Play Ad at "+((new Date).getTime()-u)+" ms"),t.pageSettings.autoPlay=!0,t.pageSettings.ooyalaAds=!0,r.indexInPod=1,this.movieMetadata?(r.name=this.movieMetadata.title,r.duration=this.movieMetadata.duration):(r.name="",r.duration=30),r.ooyalaAds=!0,r.hasClickUrl=n.ad.click_url,r.skippable=!1,this.adId=n.id;var a=e.clone(t.pageSettings);a.onCreate=null,a.isAd=!0,t.notify(t.EVENTS.SET_EMBED_CODE,i,a),t.notifyLinearAdStarted(n.id,r)},this.cancelAd=function(e,i){if(OO.log("Cancelling Ooyala ad"),i&&i.code===t.AD_CANCEL_CODE.SKIPPED){t.pageSettings.ooyalaAds=!1,t.notify(OO.EVENTS.SINGLE_AD_PLAYED,this.adId),t.notify(OO.EVENTS.AD_POD_ENDED,this.adId);var a=n;d(),c=!0,t.notify(OO.EVENTS.SET_EMBED_CODE_AFTER_OOYALA_AD,a,t.pageSettings)}},this.playerClicked=function(){OO.log("Click Url = "+r.hasClickUrl),s?(t.notify(OO.EVENTS.PLAY),s=!1):(t.notify(OO.EVENTS.PAUSE),this.openUrl(r.hasClickUrl)&&t.adsClickthroughOpened(),s=!0)};var p=e.bind(function(e){return"string"==typeof e&&e.length>0},this);this.openUrl=function(e){return!!p(e)&&(window.open(e),!0)},this.adVideoEnded=function(){OO.log(this.name+": adVideoEnded at "+((new Date).getTime()-u)+" ms"),t.pageSettings.ooyalaAds=!1,t.notify(OO.EVENTS.SINGLE_AD_PLAYED,this.adId),t.notify(OO.EVENTS.AD_POD_ENDED,this.adId);var e=n;d(),c=!0,t.notify(OO.EVENTS.SET_EMBED_CODE_AFTER_OOYALA_AD,e,t.pageSettings)};var f=e.bind(function(){OO.log(this.name+": onContentChanged at "+((new Date).getTime()-u)+" ms"),u=(new Date).getTime(),this.ready=!0,c&&d()},this);this.destroy=function(){OO.log(this.name+": Destroy at "+((new Date).getTime()-u)+" ms"),t&&t.removePlayerListener(t.EVENTS.CONTENT_CHANGED,f),s=!1}}})},{}],65:[function(e,t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=n(e("@babel/runtime/helpers/classCallCheck")),r=n(e("@babel/runtime/helpers/createClass"));if(window.WebKitPlaybackTargetAvailabilityEvent&&OO.isSafari){var s="Airplay";OO.plugin(s,function(e){return function(){function t(i){var n=this;(0,a.default)(this,t),this.mb=i,this.airplayEnabledInPlayerParams=!0,this.vcVideoElementParams=null,this.safariPriorTo12m1=t.checkIfSafariVersionIsPriorTo12minor1(),this.ignoreFirstConnectedEvent=this.safariPriorTo12m1,this.ignoreSecondConnectedEvent=!1,this.availability=null,this.isSessionResumed=t.checkIfPageWasReloadedWhileCasting(),this.isAirplayConnected=this.isSessionResumed,this.mb.subscribe(e.EVENTS.PLAYER_CREATED,s,this.onPlayerCreated.bind(this)),this.mb.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,s,this.onVcVideoElementCreated.bind(this)),this.mb.subscribe(e.EVENTS.AIRPLAY.BUTTON_CLICKED,s,this.onAirplayButtonClicked.bind(this)),this.mb.subscribe(e.EVENTS.WILL_PLAY_ADS,s,function(){n.adsPlaying=!0}),this.mb.subscribe(e.EVENTS.ADS_PLAYED,s,function(){n.adsPlaying=!1}),this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,s,function(){n.safariPriorTo12m1&&n.isAirplayConnected&&!n.isSessionResumed&&(n.ignoreSecondConnectedEvent=!0)}),this.mb.subscribe(e.EVENTS.CAN_PLAY,s,function(){n.vcVideoElementParams&&(n.webkitListenersInitialized||(n.video=n.vcVideoElementParams.parent[0].querySelector("video"),n.video&&n.airplayEnabledInPlayerParams&&(n.initWebkitListeners(),n.webkitListenersInitialized=!0)))})}return(0,r.default)(t,[{key:"onPlayerCreated",value:function(e,t,i){!1!==i.airplay&&"false"!==i.airplay||(this.airplayEnabledInPlayerParams=!1)}},{key:"onVcVideoElementCreated",value:function(e,t){this.safariPriorTo12m1&&(this.ignoreFirstConnectedEvent=!0),this.webkitListenersInitialized||(this.vcVideoElementParams=t,this.video=t.parent[0].querySelector("video"),this.video&&this.airplayEnabledInPlayerParams&&(this.initWebkitListeners(),this.webkitListenersInitialized=!0))}},{key:"initWebkitListeners",value:function(){this.video.addEventListener("webkitplaybacktargetavailabilitychanged",this.onAvailabilityChanged.bind(this)),this.video.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.onConnectedChanged.bind(this))}},{key:"onAvailabilityChanged",value:function(t){var i="available"===t.availability;this.availability!==i&&(this.availability=i,this.mb.publish(e.EVENTS.AIRPLAY.AVAILABILITY_CHANGED,i))}},{key:"onConnectedChanged",value:function(){if(!this.adsPlaying)if(this.safariPriorTo12m1&&this.ignoreFirstConnectedEvent)this.ignoreFirstConnectedEvent=!1;else if(this.safariPriorTo12m1&&this.ignoreSecondConnectedEvent)this.ignoreSecondConnectedEvent=!1;else{if(this.isSessionResumed)return this.isSessionResumed=!1,void this.mb.publish(e.EVENTS.AIRPLAY.SESSION_RESUMED);t.toggleSessionStorageMarker(),this.isAirplayConnected=!this.isAirplayConnected,this.mb.publish(e.EVENTS.AIRPLAY.CONNECTION_CHANGED,this.isAirplayConnected)}}},{key:"onAirplayButtonClicked",value:function(){var e=this;setTimeout(function(){return e.video.webkitShowPlaybackTargetPicker()})}}],[{key:"checkIfPageWasReloadedWhileCasting",value:function(){return Boolean(window.sessionStorage.getItem("OO_AIRPLAY_CONNECTED"))}},{key:"checkIfSafariVersionIsPriorTo12minor1",value:function(){return parseFloat(window.navigator.userAgent.match(/Version\/([\d.]+)/)[1])<12.1}},{key:"toggleSessionStorageMarker",value:function(){window.sessionStorage.getItem("OO_AIRPLAY_CONNECTED")?window.sessionStorage.removeItem("OO_AIRPLAY_CONNECTED"):window.sessionStorage.setItem("OO_AIRPLAY_CONNECTED",!0)}}]),t}()})}},{"@babel/runtime/helpers/classCallCheck":10,"@babel/runtime/helpers/createClass":11,"@babel/runtime/helpers/interopRequireDefault":13}],66:[function(e,t,i){"use strict";OO.exposeStaticApi("Analytics",OO.Analytics),OO.plugin(OO.MODULE_NAMES.ANALYTICS_FRAMEWORK_TRANSLATOR,function(e,t,i){var n,a,r=!1,s=!1,o=null,l=!1,c={};c.SAS=e.ERROR.API.SAS,c.PLAYBACK=e.ERROR.PLAYBACK,c.METADATA_LOADING=e.ERROR.API,c.GENERAL=e.ERROR;var u=t.bind(function(e){if(!t.isFunction(e))throw Ne("Trying to make private function but "+e+" is not a function.");return t.bind(e,this)},this),d=u(function(t,i,n,r,s,o,l){var c;try{c=new e.Analytics.EVENT_DATA.VideoPlayerCreatedData(e.VERSION.core.releaseVersion,n,s,l)}catch(e){De(t),c={}}a.setPluginMetadata(n),a.publishEvent(e.Analytics.EVENTS.VIDEO_PLAYER_CREATED,[c])}),h=u(function(t,i,n){var r;try{r=new e.Analytics.EVENT_DATA.VideoSourceData(i,n)}catch(e){De(t),r={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_SOURCE_CHANGED,[r])}),A=u(function(t,i){var n;try{var r=i;null!==r.closed_captions&&void 0!==r.closed_captions||(r.closed_captions={}),n=new e.Analytics.EVENT_DATA.VideoContentMetadata(r.title,r.description,r.duration,r.closed_captions,r.content_type,r.hostedAtURL)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_CONTENT_METADATA_UPDATED,[n])}),E=u(function(t,i){var n;try{n=i}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_METADATA_UPDATED,[n])}),p=u(function(t,i){var n;try{var r;r=i&&i.streams&&i.streams[0]&&i.streams[0].is_live_stream?e.Analytics.STREAM_TYPE.LIVE_STREAM:e.Analytics.STREAM_TYPE.VOD,n=new e.Analytics.EVENT_DATA.StreamTypeMetadata(r)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.STREAM_TYPE_UPDATED,[n])}),f=u(function(t){a.publishEvent(e.Analytics.EVENTS.INITIAL_PLAYBACK_REQUESTED)}),T=u(function(t){a.publishEvent(e.Analytics.EVENTS.VIDEO_PLAY_REQUESTED)}),g=u(function(t,i,n,r,s){var o;try{o=new e.Analytics.EVENT_DATA.VideoDownloadingMetadata(i,n,r,s.start,s.end)}catch(e){o={},De(t)}a.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_DOWNLOADING,[o])}),y=u(function(t,i,n,r){var s;try{s=new e.Analytics.EVENT_DATA.VideoBufferingStartedData(i,n,r)}catch(e){De(t),s={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_BUFFERING_STARTED,[s])}),m=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.VideoBufferingEndedData(i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_BUFFERING_ENDED,[n])}),_=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.VideoBitrateProfileLookupData(i.bitrates)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_BITRATE_PROFILES,[n])}),S=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.VideoTargetBitrateData(i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_TARGET_BITRATE_REQUESTED,[n])}),O=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.VideoBitrateProfileData(i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_BITRATE_CHANGED,[n])}),b=u(function(t){a.publishEvent(e.Analytics.EVENTS.VIDEO_PLAYING)}),I=u(function(t,i,n,r,s,o,l){var c;try{var u=l;null==u&&(u=-1),c=new e.Analytics.EVENT_DATA.VideoStreamPositionChangedData(i,n,o,u)}catch(e){De(t),c={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_POSITION_CHANGED,[c])}),v=u(function(t){a.publishEvent(e.Analytics.EVENTS.PLAYBACK_COMPLETED)}),N=u(function(t){a.publishEvent(e.Analytics.EVENTS.VIDEO_PAUSE_REQUESTED)}),D=u(function(t){a.publishEvent(e.Analytics.EVENTS.VIDEO_PAUSED)}),C=u(function(t){a.publishEvent(e.Analytics.EVENTS.VIDEO_REPLAY_REQUESTED)}),R=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.VideoSeekRequestedData(i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_SEEK_REQUESTED,[n])}),L=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.VideoSeekCompletedData(i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_SEEK_COMPLETED,[n])}),P=u(function(t){return a.publishEvent(e.Analytics.EVENTS.WILL_PLAY_FROM_BEGINNING)}),w=u(function(t,i,n,r,s,o,l,c,u,d,h){var A;try{A=new e.Analytics.EVENT_DATA.InitialPlayStartingData(e.VERSION.core.releaseVersion,i,n,r,s,o,l,c,u,d,h)}catch(e){De(t),A={}}a.publishEvent(e.Analytics.EVENTS.INITIAL_PLAY_STARTING,[A])}),k=u(function(t,i){var n;try{var r={};e.Video&&(r=e.Video.getRegisteredPlugins());var s=[];r&&(s=Object.getOwnPropertyNames(r)),n=new e.Analytics.EVENT_DATA.PlaybackReadyData(e.VERSION.core.releaseVersion,i,s)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.PLAYBACK_READY,[n])}),V=u(function(t,i,n,r){var s;try{s=new e.Analytics.EVENT_DATA.ApiErrorData(e.VERSION.core.releaseVersion,i,n,r)}catch(e){De(t),s={}}a.publishEvent(e.Analytics.EVENTS.API_ERROR,[s])}),B=u(function(t,i){if(-1!==i){var n;try{n=new e.Analytics.EVENT_DATA.BitrateInitialData(i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.BITRATE_INITIAL,[n])}}),M=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.BitrateFiveSecData(i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.BITRATE_FIVE_SEC,[n])}),F=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.BitrateStableData(i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.BITRATE_STABLE,[n])}),U=u(function(t,i){var n;try{var r={},s={};null!=i.pluginErrorMessage&&(r.plugin=i.pluginErrorMessage),null!=i.mediaErrorMessage&&(r.media=i.mediaErrorMessage),null!=i.ooyalaErrorMessage&&(r.ooyala=i.ooyalaErrorMessage),null!=i.pluginErrorCode&&(s.plugin=i.pluginErrorCode),null!=i.mediaErrorCode&&(s.media=i.mediaErrorCode),null!=i.ooyalaErrorCode&&(s.ooyala=i.ooyalaErrorCode),n=new e.Analytics.EVENT_DATA.PlaybackStartErrorData(s,r,i.drm)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.PLAYBACK_START_ERROR,[n])}),x=u(function(t,i,n,r){var s;try{s=new e.Analytics.EVENT_DATA.PluginLoadedData(e.VERSION.core.releaseVersion,i,n,r)}catch(e){De(t),s={}}a.publishEvent(e.Analytics.EVENTS.PLUGIN_LOADED,[s])}),H=u(function(t,i){var n;try{var r={},s={};null!=i.pluginErrorMessage&&(r.plugin=i.pluginErrorMessage),null!=i.mediaErrorMessage&&(r.media=i.mediaErrorMessage),null!=i.ooyalaErrorMessage&&(r.ooyala=i.ooyalaErrorMessage),null!=i.pluginErrorCode&&(s.plugin=i.pluginErrorCode),null!=i.mediaErrorCode&&(s.media=i.mediaErrorCode),null!=i.ooyalaErrorCode&&(s.ooyala=i.ooyalaErrorCode),n=new e.Analytics.EVENT_DATA.PlaybackMidstreamErrorData(s,r,i.playhead)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.PLAYBACK_MIDSTREAM_ERROR,[n])}),G=u(function(t,i,n){var r;try{r=new e.Analytics.EVENT_DATA.LoadAdSdkData(i,n)}catch(e){De(t),r={}}a.publishEvent(e.Analytics.EVENTS.AD_SDK_LOADED,[r])}),Y=u(function(t,i,n,r){var s;try{s=new e.Analytics.EVENT_DATA.LoadAdSdkFailureData(i,n,r)}catch(r){De(t),s={}}a.publishEvent(e.Analytics.EVENTS.AD_SDK_LOAD_FAILURE,[s])}),j=u(function(t,i,n){var r;try{r=new e.Analytics.EVENT_DATA.AdRequestData(i,n)}catch(e){De(t),r={}}a.publishEvent(e.Analytics.EVENTS.AD_REQUEST,[r])}),W=u(function(t,i,n,r,s){var o;try{o=new e.Analytics.EVENT_DATA.AdRequestSuccessData(i,n,r,s)}catch(e){De(t),o={}}a.publishEvent(e.Analytics.EVENTS.AD_REQUEST_SUCCESS,[o])}),K=u(function(t,i,n,r,s,o){var l;try{l=new e.Analytics.EVENT_DATA.AdRequestEmptyData(i,n,r,s,o)}catch(e){De(t),l={}}a.publishEvent(e.Analytics.EVENTS.AD_REQUEST_EMPTY,[l])}),z=u(function(t,i,n,r,s,o,l){var c;try{c=new e.Analytics.EVENT_DATA.AdRequestErrorData(i,n,r,s,o,l)}catch(e){De(t),c={}}a.publishEvent(e.Analytics.EVENTS.AD_REQUEST_ERROR,[c])}),q=u(function(t,i,n,r,s,o,l,c){var u;try{u=new e.Analytics.EVENT_DATA.AdPlaybackErrorData(i,n,r,s,o,l.pluginNames,c)}catch(e){De(t),u={}}a.publishEvent(e.Analytics.EVENTS.AD_PLAYBACK_ERROR,[u])}),X=u(function(t,i,n,r,s,o){var l;try{l=new e.Analytics.EVENT_DATA.AdSdkImpressionData(i,n,r,s,o)}catch(e){De(t),l={}}a.publishEvent(e.Analytics.EVENTS.AD_SDK_IMPRESSION,[l])}),Q=u(function(t,i,n,r,s){var o;try{o=new e.Analytics.EVENT_DATA.AdCompletedData(i,n,r,s)}catch(e){De(t),o={}}a.publishEvent(e.Analytics.EVENTS.AD_COMPLETED,[o])}),Z=u(function(t){r=!0,a.publishEvent(e.Analytics.EVENTS.AD_BREAK_STARTED)}),J=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.AdPodStartedData(i)}catch(e){De(t),n={}}var a=[n];s?$(a):o=a}),$=u(function(t){var i=t||[{}];a.publishEvent(e.Analytics.EVENTS.AD_POD_STARTED,i)}),ee=u(function(t,i){if(s){var n;try{n=new e.Analytics.EVENT_DATA.AdPodEndedData(i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.AD_POD_ENDED,[n])}}),te=u(function(t,i){var n;s||($(o),o=null),s=!0,l=!1;try{n=new e.Analytics.EVENT_DATA.AdStartedData(e.Analytics.AD_TYPE.LINEAR_VIDEO,i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.AD_STARTED,[n])}),ie=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.AdEndedData(e.Analytics.AD_TYPE.LINEAR_VIDEO,i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.AD_ENDED,[n])}),ne=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.AdStartedData(e.Analytics.AD_TYPE.NONLINEAR_OVERLAY,i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.AD_STARTED,[n])}),ae=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.AdEndedData(e.Analytics.AD_TYPE.NONLINEAR_OVERLAY,i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.AD_ENDED,[n])}),re=u(function(t){r=!1,l=!1,s&&a.publishEvent(e.Analytics.EVENTS.AD_BREAK_ENDED),s=!1,o=null}),se=u(function(t){a.publishEvent(e.Analytics.EVENTS.AD_SKIPPED)}),oe=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.AdErrorData(i)}catch(i){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.AD_ERROR,[n])}),le=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.AdClickedData({adMetadata:i})}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.AD_CLICKED,[n])}),ce=u(function(t){a.publishEvent(e.Analytics.EVENTS.AD_CLICKTHROUGH_OPENED)}),ue=u(function(t,i,n,r){var s;try{s=new e.Analytics.EVENT_DATA.SdkAdEventData(i,n,r)}catch(i){e.log("Exception in AnalyticsFrameworkTranslator: "+i),De(t),s={}}a.publishEvent(e.Analytics.EVENTS.SDK_AD_EVENT,[s])}),de=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.FullscreenChangedData(i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.FULLSCREEN_CHANGED,[n])}),he=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.VolumeChangedData(i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.VOLUME_CHANGED,[n])}),Ae=u(function(t){a.publishEvent(e.Analytics.EVENTS.DESTROY)}),Ee=u(function(t,i){i===e.VIDEO.MAIN&&a.publishEvent(e.Analytics.EVENTS.VIDEO_CONTENT_COMPLETED)}),pe=u(function(t,i){i===e.VIDEO.ADS&&r&&!l&&(l=!0,a.publishEvent(e.Analytics.EVENTS.AD_IMPRESSION))}),fe=u(function(t,i,n){var r;try{r=new e.Analytics.EVENT_DATA.VideoErrorData(n.mediaErrorCode)}catch(e){De(t),r={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_ERROR,[r])}),Te=u(function(t,i){if(i&&i.videoId===e.VIDEO.MAIN){var n=null;try{n=new e.Analytics.EVENT_DATA.VideoElementData(i.streamUrl)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.VIDEO_ELEMENT_CREATED,[n])}}),ge=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.SsaiPlaySingleAdData(i)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.SSAI_PLAY_SINGLE_AD,[n])}),ye=u(function(t){a.publishEvent(e.Analytics.EVENTS.SSAI_SINGLE_AD_PLAYED)}),me=u(function(t,i){var n;try{n=new e.Analytics.EVENT_DATA.SsaiAdTimelineReceivedData(i.ads)}catch(e){De(t),n={}}a.publishEvent(e.Analytics.EVENTS.SSAI_AD_TIMELINE_RECEIVED,[n])}),_e=u(function(t,i){if(i&&i.metadata){var n;try{n=new e.Analytics.EVENT_DATA.ReportDiscoveryImpressionEventData(i.metadata)}catch(i){e.log("Exception in AnalyticsFrameworkTranslator: "+i),De(t),n={}}a.publishEvent(e.Analytics.EVENTS.REPORT_DISCOVERY_IMPRESSION,[n])}}),Se=u(function(t,i){if(i&&i.metadata){var n;try{n=new e.Analytics.EVENT_DATA.ReportDiscoveryClickEventData(i.metadata)}catch(i){e.log("Exception in AnalyticsFrameworkTranslator: "+i),De(t),n={}}a.publishEvent(e.Analytics.EVENTS.REPORT_DISCOVERY_CLICK,[n])}}),Oe=u(function(t,i){if(i&&i.code){var n=i.code,r=ve(n);if(r){var s,o=e.getLocalizedMessage(n);switch(r){case"SAS":s=new e.Analytics.EVENT_DATA.AuthorizationErrorData(n,o),a.publishEvent(e.Analytics.EVENTS.ERROR.AUTHORIZATION,[s]);break;case"PLAYBACK":s=new e.Analytics.EVENT_DATA.VideoPlaybackErrorData(n,o),a.publishEvent(e.Analytics.EVENTS.ERROR.VIDEO_PLAYBACK,[s]);break;case"METADATA_LOADING":s=new e.Analytics.EVENT_DATA.MetadataLoadingErrorData(n,o),a.publishEvent(e.Analytics.EVENTS.ERROR.METADATA_LOADING,[s]);break;case"GENERAL":s=new e.Analytics.EVENT_DATA.GeneralErrorData(n,o),a.publishEvent(e.Analytics.EVENTS.ERROR.GENERAL,[s])}}else Ne("error while reporting error message - error code does not fall under a recognized category. error code provided is: "+n)}else Ne("error while reporting error message - expected errorData is malformed: "+i)}),be=u(function(e){a.stopPublishingEvents()}),Ie=u(function(e){a.resumePublishingEvents()}),ve=u(function(e){for(var i=null,n=t.keys(c),a=0;a<n.length;a++){var r=n[a],s=t.values(c[r]);if(t.contains(s,e)){i=r;break}}return i}),Ne=u(function(e){return"Error AnalyticsFrameworkTranslator: "+e}),De=u(function(t){e.log(Ne(t+" data changed and is causing an error."))});return function(t,i){this.id=i,n=t,a=new e.Analytics.Framework,n.subscribe(e.EVENTS.PLAYER_CREATED,"AnalyticsFrameworkTranslator",d),n.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"AnalyticsFrameworkTranslator",h),n.subscribe(e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,"AnalyticsFrameworkTranslator",h),n.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"AnalyticsFrameworkTranslator",A),n.subscribe(e.EVENTS.METADATA_FETCHED,"AnalyticsFrameworkTranslator",E),n.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"AnalyticsFrameworkTranslator",p),n.subscribe(e.EVENTS.INITIAL_PLAY,"AnalyticsFrameworkTranslator",f),n.subscribe(e.EVENTS.PLAY,"AnalyticsFrameworkTranslator",T),n.subscribe(e.EVENTS.DOWNLOADING,"AnalyticsFrameworkTranslator",g),n.subscribe(e.EVENTS.BUFFERING,"AnalyticsFrameworkTranslator",y),n.subscribe(e.EVENTS.BUFFERED,"AnalyticsFrameworkTranslator",m),n.subscribe(e.EVENTS.BITRATE_INFO_AVAILABLE,"AnalyticsFrameworkTranslator",_),n.subscribe(e.EVENTS.SET_TARGET_BITRATE,"AnalyticsFrameworkTranslator",S),n.subscribe(e.EVENTS.BITRATE_CHANGED,"AnalyticsFrameworkTranslator",O),n.subscribe(e.EVENTS.PLAYING,"AnalyticsFrameworkTranslator",b),n.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"AnalyticsFrameworkTranslator",I),n.subscribe(e.EVENTS.PLAYED,"AnalyticsFrameworkTranslator",v),n.subscribe(e.EVENTS.PAUSE,"AnalyticsFrameworkTranslator",N),n.subscribe(e.EVENTS.PAUSED,"AnalyticsFrameworkTranslator",D),n.subscribe(e.EVENTS.REPLAY,"AnalyticsFrameworkTranslator",C),n.subscribe(e.EVENTS.SEEK,"AnalyticsFrameworkTranslator",R),n.subscribe(e.EVENTS.SEEKED,"AnalyticsFrameworkTranslator",L),n.subscribe(e.EVENTS.WILL_PLAY_FROM_BEGINNING,"AnalyticsFrameworkTranslator",P),n.subscribe(e.EVENTS.INITIAL_PLAY_STARTING,"AnalyticsFrameworkTranslator",w),n.subscribe(e.EVENTS.PLAYBACK_READY,"AnalyticsFrameworkTranslator",k),n.subscribe(e.EVENTS.API_ERROR,"AnalyticsFrameworkTranslator",V),n.subscribe(e.EVENTS.BITRATE_INITIAL,"AnalyticsFrameworkTranslator",B),n.subscribe(e.EVENTS.BITRATE_FIVE_SEC,"AnalyticsFrameworkTranslator",M),n.subscribe(e.EVENTS.BITRATE_STABLE,"AnalyticsFrameworkTranslator",F),n.subscribe(e.EVENTS.PLAYBACK_START_ERROR,"AnalyticsFrameworkTranslator",U),n.subscribe(e.EVENTS.PLAYBACK_MIDSTREAM_ERROR,"AnalyticsFrameworkTranslator",H),n.subscribe(e.EVENTS.PLUGIN_LOADED,"AnalyticsFrameworkTranslator",x),n.subscribe(e.EVENTS.AD_SDK_LOADED,"AnalyticsFrameworkTranslator",G),n.subscribe(e.EVENTS.AD_SDK_LOAD_FAILED,"AnalyticsFrameworkTranslator",Y),n.subscribe(e.EVENTS.AD_REQUEST,"AnalyticsFrameworkTranslator",j),n.subscribe(e.EVENTS.AD_REQUEST_SUCCESS,"AnalyticsFrameworkTranslator",W),n.subscribe(e.EVENTS.AD_REQUEST_EMPTY,"AnalyticsFrameworkTranslator",K),n.subscribe(e.EVENTS.AD_REQUEST_ERROR,"AnalyticsFrameworkTranslator",z),n.subscribe(e.EVENTS.AD_PLAYBACK_ERROR,"AnalyticsFrameworkTranslator",q),n.subscribe(e.EVENTS.AD_SDK_IMPRESSION,"AnalyticsFrameworkTranslator",X),n.subscribe(e.EVENTS.AD_COMPLETED,"AnalyticsFrameworkTranslator",Q),n.subscribe(e.EVENTS.WILL_PLAY_ADS,"AnalyticsFrameworkTranslator",Z),n.subscribe(e.EVENTS.AD_POD_STARTED,"AnalyticsFrameworkTranslator",J),n.subscribe(e.EVENTS.AD_POD_ENDED,"AnalyticsFrameworkTranslator",ee),n.subscribe(e.EVENTS.WILL_PLAY_SINGLE_AD,"AnalyticsFrameworkTranslator",te),n.subscribe(e.EVENTS.SINGLE_AD_PLAYED,"AnalyticsFrameworkTranslator",ie),n.subscribe(e.EVENTS.WILL_PLAY_NONLINEAR_AD,"AnalyticsFrameworkTranslator",ne),n.subscribe(e.EVENTS.NONLINEAR_AD_PLAYED,"AnalyticsFrameworkTranslator",ae),n.subscribe(e.EVENTS.ADS_PLAYED,"AnalyticsFrameworkTranslator",re),n.subscribe(e.EVENTS.SKIP_AD,"AnalyticsFrameworkTranslator",se),n.subscribe(e.EVENTS.ADS_ERROR,"AnalyticsFrameworkTranslator",oe),n.subscribe(e.EVENTS.ADS_CLICKED,"AnalyticsFrameworkTranslator",le),n.subscribe(e.EVENTS.ADS_CLICKTHROUGH_OPENED,"AnalyticsFrameworkTranslator",ce),n.subscribe(e.EVENTS.SDK_AD_EVENT,"AnalyticsFrameworkTranslator",ue),n.subscribe(e.EVENTS.FULLSCREEN_CHANGED,"AnalyticsFrameworkTranslator",de),n.subscribe(e.EVENTS.VOLUME_CHANGED,"AnalyticsFrameworkTranslator",he),n.subscribe(e.EVENTS.DESTROY,"AnalyticsFrameworkTranslator",Ae),n.subscribe(e.EVENTS.VC_PLAYED,"AnalyticsFrameworkTranslator",Ee),n.subscribe(e.EVENTS.VC_PLAYING,"AnalyticsFrameworkTranslator",pe),n.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"AnalyticsFrameworkTranslator",Te),n.subscribe(e.EVENTS.SSAI_PLAY_SINGLE_AD,"AnalyticsFrameworkTranslator",ge),n.subscribe(e.EVENTS.SSAI_SINGLE_AD_PLAYED,"AnalyticsFrameworkTranslator",ye),n.subscribe(e.EVENTS.SSAI_AD_TIMELINE_RECEIVED,"AnalyticsFrameworkTranslator",me),n.subscribe(e.EVENTS.ERROR,"AnalyticsFrameworkTranslator",Oe),n.subscribe(e.EVENTS.DISCOVERY_API.SEND_DISPLAY_EVENT,"AnalyticsFrameworkTranslator",_e),n.subscribe(e.EVENTS.DISCOVERY_API.SEND_CLICK_EVENT,"AnalyticsFrameworkTranslator",Se),n.subscribe(e.EVENTS.CHROMECAST_START_CAST,"AnalyticsFrameworkTranslator",be),n.subscribe(e.EVENTS.CHROMECAST_END_CAST,"AnalyticsFrameworkTranslator",Ie),n.subscribe(e.EVENTS.VC_PLAY_FAILED,"AnalyticsFrameworkTranslator",fe)}})},{}],67:[function(e,t,i){"use strict";!function(e,t,i){var n=function(i,n,a){this.mb=i,this.id=n,this.params=a||{},this.ooyalaAds=!1,this.contentTree={},this.metadata={},this.skinMetadata={},this.attributes={},this.sasResponse={},this.authToken=e.localStorage.getItem("oo_auth_token"),this._isEmbedCodeMetadataRequired=!1,this._aborting=!1,this._contentAjax=null,this._metadataAjax=null,this._embedCodeMetadataAjax=null,this._sasAjax=null,this._gbAjax=null,this.valhallaCache=e.publicApi.cache||{get:function(){},exists:function(){}},this.mb.subscribe(e.EVENTS.WILL_REQUIRE_EMBED_CODE_METADATA,"api",t.bind(this._willRequireEmbedCodeMetadata,this)),e.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"Api",target:this,events:[{name:e.EVENTS.SET_EMBED_CODE,from:"*",to:"Init"},{name:e.EVENTS.SET_EMBED_CODE_AFTER_OOYALA_AD,from:"*",to:"Init"},{name:e.EVENTS.EMBED_CODE_CHANGED,from:"Init",to:"WaitingForAPIResponse"},{name:e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,from:"Init",to:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_CONTENT_TREE,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_METADATA,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_EMBED_CODE_METADATA,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_AUTHORIZATION,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_AD_AUTHORIZATION,from:["WaitingForAPIResponse","Init"]},{name:e.EVENTS.PLAYBACK_READY,from:"WaitingForAPIResponse",to:"Init"}]})};t.extend(n.prototype,{_processSetEmbedCode:function(e,t,i){this.rootEmbedCode=t,this.adSetCode=i?i.adSetCode:void 0,this.embedToken=i&&i.embedToken||this.embedToken,this.authToken=i&&i.authToken||this.authToken},onSetEmbedCode:function(t,i,n){this._processSetEmbedCode(t,i,n),this.mb.publish(e.EVENTS.EMBED_CODE_CHANGED,i,n)},onSetEmbedCodeAfterOoyalaAd:function(t,i,n){this._processSetEmbedCode(t,i,n),this.mb.publish(e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,i,n)},_processOnEmbedCodeChanged:function(i,n,a){this.currentEmbedCode=n;var r={};a&&a.ooyalaAds&&(r=a),this._abort(this._contentAjax),this._abort(this._metadataAjax),this._abort(this._embedCodeMetadataAjax),this._abort(this._sasAjax),this._abort(this._gbAjax),t.isEmpty(this.adSetCode)||t.extend(r,{adSetCode:this.adSetCode}),t.isEmpty(this.embedToken)||t.extend(r,{embedToken:this.embedToken}),a&&!0===a[e.CONSTANTS.HEVC_CODEC.HVC1]?t.extend(r,{codecPriority:"hvc"}):a&&!0===a[e.CONSTANTS.HEVC_CODEC.HEV1]?t.extend(r,{codecPriority:"hev"}):t.extend(r,{codecPriority:"avc"});var s={embedCode:this.currentEmbedCode,pcode:e.playerParams.pcode||"unknown",playerBrandingId:e.playerParams.playerBrandingId||"unknown"},o=t.extend({},s,{server:e.SERVER.API}),l=t.extend({},s,{server:e.SERVER.AUTH});if(o.params=t.clone(r),l.params=t.clone(r),a&&!a.ooyalaAds&&"string"==typeof a.dynamicFilters&&(l.params.dynamicFilters=a.dynamicFilters,l.params.dynamicFilters.indexOf(" ")>=0)){var c=l.params.dynamicFilters.split(",");t.each(c,function(e,t,i){c[t]=e.trim()}),l.params.dynamicFilters=c.join(",")}this.mb.publish(e.EVENTS.WILL_FETCH_METADATA,o),this._isEmbedCodeMetadataRequired&&this.mb.publish(e.EVENTS.WILL_FETCH_EMBED_CODE_METADATA,o),e.requiredInEnvironment("html5-playback")&&(this.mb.publish(e.EVENTS.WILL_FETCH_PLAYER_XML,o),this.mb.publish(e.EVENTS.WILL_FETCH_CONTENT_TREE,o),this.mb.publish(e.EVENTS.WILL_FETCH_AUTHORIZATION,l))},onEmbedCodeChangedAfterOoyalaAd:function(e,t,i){this._processOnEmbedCodeChanged(e,t,i)},onEmbedCodeChanged:function(e,t,i){this._processOnEmbedCodeChanged(e,t,i)},_willRequireEmbedCodeMetadata:function(e,t){this._isEmbedCodeMetadataRequired=t},onWillFetchContentTree:function(n,a){if(a.params&&a.params.ooyalaAds?this.ooyalaAds=a.params.ooyalaAds:this.ooyalaAds=!1,this.valhallaCache.exists(e.CONSTANTS.VALHALLA_CACHE_CONTENT_TREE_KEY))return e.log("Using valhallaCache to populate contentTree"),void this._onContentTreeFetched(this.valhallaCache.get(e.CONSTANTS.VALHALLA_CACHE_CONTENT_TREE_KEY,!0));var r;void 0!==this.contentTree[this.currentEmbedCode]?this.mb.publish(e.EVENTS.CONTENT_TREE_FETCHED,this.contentTree[this.currentEmbedCode],this.ooyalaAds):this._contentAjax=i.ajax({url:e.URLS.CONTENT_TREE(a)+"?"+i.param(a.params),type:"GET",dataType:"json",crossDomain:!0,success:t.bind(this._onContentTreeFetched,this),error:(r=this,function(e,t,i){r._onApiError(e,t,"Error in Content Tree request. "+i,this.url)})})},_onContentTreeFetched:function(i){var n=e.HM.safeObject("playbackControl.contentTree",i,{});this._contentAjax=null,n.errors&&0==+n.errors.code&&t.each(n.content_tree,t.bind(function(e,t){this.contentTree[t]=n.content_tree[t]},this));if(this.contentTree[this.currentEmbedCode]){var a=n.content_tree[this.currentEmbedCode].hostedAtURL;""!==a&&null!==a||(n.content_tree[this.currentEmbedCode].hostedAtURL=document.URL),["Video","VideoAd","LiveStream","Channel","MultiChannel","Youtube","Audio"].indexOf(this.contentTree[this.currentEmbedCode].content_type)>=0?this.mb.publish(e.EVENTS.CONTENT_TREE_FETCHED,this.contentTree[this.currentEmbedCode],this.ooyalaAds):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.CONTENT_TREE});var r=this.contentTree[this.currentEmbedCode].asset_pcode,s=this.params.pcode;s!==r&&console.warn('Warning: The PCODE (Ooyala Partner Code) "'.concat(r,'" ')+'is not associated to the same account as the content being played "'.concat(s,'". ')+"This may cause data to not report into Ooyala IQ and be lost.")}else this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.UNPLAYABLE_CONTENT})},onWillFetchMetadata:function(n,a){if(a.params&&a.params.ooyalaAds?this.ooyalaAds=a.params.ooyalaAds:this.ooyalaAds=!1,this.valhallaCache.exists(e.CONSTANTS.VALHALLA_CACHE_METADATA_KEY))return e.log("Using valhallaCache to populate metadata"),void this._onMetadataFetched(this.valhallaCache.get(e.CONSTANTS.VALHALLA_CACHE_METADATA_KEY,!0));var r;void 0!==this.metadata[this.currentEmbedCode]?this.mb.publish(e.EVENTS.METADATA_FETCHED,this.metadata[this.currentEmbedCode],this.ooyalaAds):this._metadataAjax=i.ajax({url:e.URLS.METADATA(a)+"&"+i.param(a.params),type:"GET",dataType:"json",crossDomain:!0,success:t.bind(this._onMetadataFetched,this),error:(r=this,function(e,t,i){r._onApiError(e,t,"Error in Metadata request. "+i,this.url)})})},_onMetadataFetched:function(i){this.metadata=this.metadata||{};var n=e.HM.safeObject("api.metadata",i,{});this._metadataAjax=null,n.errors&&0==+n.errors.code&&(this.skinMetadata=n.skin,this.attributes=n.attributes,t.each(n.metadata,t.bind(function(e,i){this.metadata[i]=n.metadata[i],this.metadata[i].modules=this.metadata[i].modules||{},this.metadata[i].modules=t.extend(this.metadata[i].modules,this.params.modules||{})},this))),this.mb.publish(e.EVENTS.METADATA_FETCHED,this.metadata[this.currentEmbedCode]||{},this.ooyalaAds),this.skinMetadata&&this.mb.publish(e.EVENTS.SKIN_METADATA_FETCHED,this.skinMetadata),this.attributes&&this.mb.publish(e.EVENTS.ATTRIBUTES_FETCHED,this.attributes),n.errors&&n.errors.player_movie_mismatch&&void 0!==window.console&&"function"==typeof window.console.log&&console.log("WARNING: Player and movie providers do not match")},onWillFetchEmbedCodeMetadata:function(n,a){var r;this._embedCodeMetadataAjax=i.ajax({url:e.URLS.EMBED_CODE_METADATA(a),type:"GET",dataType:"json",crossDomain:!0,success:t.bind(this._onEmbedCodeMetadataFetched,this),error:(r=this,function(e,t,i){r._onApiError(e,t,"Error in Embed Code Metadata request. "+i,this.url)})})},_onEmbedCodeMetadataFetched:function(i){var n=e.HM.safeObject("api.metadata",i,{});this._embedCodeMetadataAjax=null,n.metadata&&!t.isEmpty(n.metadata)?n.errors&&0==+n.errors.code&&this.mb.publish(e.EVENTS.EMBED_CODE_METADATA_FETCHED,n||{}):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.METADATA})},onWillFetchAuthorization:function(i,n){if(this.mb.publish(e.EVENTS.CANCEL_GEO_CHECKING),n.params&&n.params.ooyalaAds?this.ooyalaAds=n.params.ooyalaAds:this.ooyalaAds=!1,this.valhallaCache.exists(e.CONSTANTS.VALHALLA_CACHE_SAS_KEY))return e.log("Using valhallaCache to populate sasResponse"),void this._onAuthorizationFetched(this.valhallaCache.get(e.CONSTANTS.VALHALLA_CACHE_SAS_KEY,!0));var a;this.sasResponse[this.currentEmbedCode]&&0==+this.sasResponse[this.currentEmbedCode].code?this.mb.publish(e.EVENTS.AUTHORIZATION_FETCHED,this.sasResponse[this.currentEmbedCode],this.ooyalaAds):this._sendSasRequest(n,t.bind(this._onAuthorizationFetched,this),(a=this,function(e,t,i){a._onApiError(e,t,"Error in SAS request. "+i,this.url)}))},_onAuthorizationFetched:function(i){var n,a;this._sasAjax=null;var r=e.HM.safeObject("playbackControl.sasResponse",i,{});if(r.auth_token?(e.setItem("oo_auth_token",r.auth_token),this.authToken=r.auth_token):(e.localStorage.removeItem("oo_auth_token"),this.authToken=null),t.each(r.authorization_data,t.bind(function(t,i){if(this.sasResponse[i]=r.authorization_data[i],!0===this.sasResponse[i].is_cmaf||"true"===this.sasResponse[i].is_cmaf){e.isIos&&e.iosMajorVersion<=9&&(this.sasResponse[i].streams=e.stripNonMp4Streams(this.sasResponse[i].streams))}r.debug_data&&(this.sasResponse[i].debug_data=r.debug_data),r.user_info&&(this.sasResponse[i].user_info=r.user_info),r.auth_token&&(this.sasResponse[i].auth_token=r.auth_token),r.heartbeat_data&&(this.sasResponse[i].heartbeat_data=r.heartbeat_data),r.mid_stream_check_interval&&(this.sasResponse[i].mid_stream_check_interval=r.mid_stream_check_interval)},this)),n=this.sasResponse[this.currentEmbedCode].code,this.checkGeoBlocking(),0!=+n)if(t.isString(n))if(a=n.split(","),t.contains(a,"2"))this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.DOMAIN});else if(t.contains(a,"3"))this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GEO});else if(t.contains(a,"4")){var s=this.sasResponse[this.currentEmbedCode].retry;this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.FUTURE,flight_start_time:s})}else t.contains(a,"5")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.PAST}):t.contains(a,"13")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.DEVICE}):t.contains(a,"18")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.CONCURRENT_STREAMS}):t.contains(a,"24")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.PROXY}):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GENERIC});else this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GENERIC});else this.mb.publish(e.EVENTS.AUTHORIZATION_FETCHED,this.sasResponse[this.currentEmbedCode],this.ooyalaAds)},onWillFetchAdAuthorization:function(e,i,n){this._sendSasRequest(i,t.bind(this._onAdAuthorizationFetched,this),n)},checkGeoBlocking:function(){if(this._sendGeoBlockingRequest=this._sendGeoBlockingRequest.bind(this),this.sasResponse&&this.sasResponse[this.currentEmbedCode]&&this.sasResponse[this.currentEmbedCode].require_mid_stream_check&&this.sasResponse[this.currentEmbedCode].mid_stream_check_interval){this._sendGeoBlockingRequest();e.geoCheckingInterval=setInterval(this._sendGeoBlockingRequest,1e3*this.sasResponse[this.currentEmbedCode].mid_stream_check_interval)}},_onAdAuthorizationFetched:function(i){var n=e.HM.safeObject("playbackControl.sasResponse",i,{}),a={};t.each(n.authorization_data,t.bind(function(e,t){a[t]=n.authorization_data[t]},this)),this.mb.publish(e.EVENTS.AD_AUTHORIZATION_FETCHED,a)},_sendSasRequest:function(t,n,a){var r=e.supportedVideoProfiles,s=e.device;i.extend(t.params,{device:s,domain:e.docDomain,player_type:e.playerParams.playerType}),t.params.player_type===e.CONSTANTS.PLAYER_TYPE.AUDIO&&(t.params.player_type=t.params.player_type+"_only"),r&&i.extend(t.params,{profiles:r}),this.authToken&&i.extend(t.params,{auth_token:this.authToken});var o=e.URLS.SAS(t)+"?"+i.param(t.params);this._sasAjax=i.ajax({url:o,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,success:n,error:a})},_abort:function(e){e&&(this._aborting=!0,e.abort(),this._aborting=!1)},_onApiError:function(t,i,n,a){this._aborting||(e.debug(n,i,t,a),this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.NETWORK,xhrStatus:i,description:n,url:a}),this.mb.publish(e.EVENTS.API_ERROR,t.status,n,a))},_sendGeoBlockingRequest:function(){this._gbAjax=null;var n={pcode:this.params.pcode,embedCode:this.currentEmbedCode,authToken:this.authToken,server:e.SERVER.AUTH},a=e.URLS.GEO_BLOCKING(n);this._gbAjax=i.ajax({url:a,type:"GET",crossDomain:!0,statusCode:{403:t.bind(function(){this.mb.publish(e.EVENTS.PAUSE),this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GEO}),this.mb.publish(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,e.VIDEO.MAIN),this.mb.publish(e.EVENTS.CANCEL_GEO_CHECKING)},this)}})},__placeholder:!0}),e.registerModule("api",function(e,t,i){return new n(e,t,i)})}(OO,OO._,OO.$)},{}],68:[function(e,t,i){"use strict";!function(e,t,i){var n=function(i,n){this.toString=function(){return"asset-controller"},this.mb=i,this.id=n,this.currentAssetId="",this.mb.subscribe(e.EVENTS.SET_ASSET,"asset",t.bind(this.setAsset,this)),this.mb.subscribe(e.EVENTS.UPDATE_ASSET,"asset",t.bind(this.updateAsset,this))};t.extend(n.prototype,{normalizeAsset:function(e){e.content.duration=1e3*e.content.duration},setAsset:function(i,n,a){this.validate(n)?(this.normalizeAsset(n),this.currentAssetId=n.id,t.defer(t.bind(function(){this.mb.publish(e.EVENTS.ASSET_CHANGED,n,a)},this)),this.validateKeyframes(n)&&this.mb.publish(e.EVENTS.THUMBNAILS_FETCHED,{data:n.content.keyFrames}),n.relatedVideos&&n.relatedVideos.length>0&&this.mb.publish(e.EVENTS.DISCOVERY_API.RELATED_VIDEOS_FETCHED,{videos:n.relatedVideos})):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.CONTENT_TREE})},updateAsset:function(t,i,n){this.validateUpdate(i)&&this.mb.publish(e.EVENTS.ASSET_UPDATED,i),this.validateKeyframes(i)&&this.mb.publish(e.EVENTS.THUMBNAILS_FETCHED,{data:i.content.keyFrames}),i.relatedVideos.length>0&&this.mb.publish(e.EVENTS.DISCOVERY_API.RELATED_VIDEOS_FETCHED,{videos:i.relatedVideos})},validate:function(e){return this.validateRelatedVideos(e),e&&"string"==typeof e.id&&e.content&&e.content.streams&&e.content.streams.length>0&&"string"==typeof e.content.title&&"string"==typeof e.content.description&&"number"==typeof e.content.duration&&e.content.posterImages&&e.content.posterImages.length>0&&e.content.captions},validateUpdate:function(e){return this.validateRelatedVideos(e),e&&"string"==typeof e.id&&e.id===this.currentAssetId&&(e.relatedVideos&&e.relatedVideos.length>0||e.content&&("string"==typeof e.content.title||"string"==typeof e.content.description||"number"==typeof e.content.duration||e.content.captions||e.content.posterImages&&e.content.posterImages.length>0))},validateRelatedVideos:function(e){if(e.relatedVideos&&e.relatedVideos.length>0){for(var t=[],i=0;i<e.relatedVideos.length;i++)this.validate(e.relatedVideos[i].asset)&&"string"==typeof e.relatedVideos[i].name&&"string"==typeof e.relatedVideos[i].preview_image_url&&t.push(e.relatedVideos[i]);e.relatedVideos=t}},validateKeyframes:function(e){return e&&e.content&&e.content.keyFrames&&e.content.keyFrames.available_widths&&e.content.keyFrames.available_widths.length>0&&e.content.keyFrames.available_time_slices&&e.content.keyFrames.available_time_slices.length>0&&e.content.keyFrames.thumbnails&&Object.keys(e.content.keyFrames.thumbnails).length===e.content.keyFrames.available_time_slices.length}}),e.registerModule("assetController",function(e,t){return new n(e,t)})}(OO,OO._,OO.$)},{}],69:[function(e,t,i){"use strict";!function(e,t,i){var n=function(i,n){e.requiredInEnvironment("html5-playback")&&(this.mb=i,this.id=n,this.embedCode=null,this.authToken=null,this.heartbeatInterval=300,this.timer=null,this.retries=3,this.require_heartbeat=!1,this.AUTH_HEARTBEAT_URL=t.template("<%=server%>/player_api/v1/auth_heartbeat/pcode/<%=pcode%>/auth_token/<%=authToken%>?embed_code=<%=embedCode%>"),this.mb.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"auth_heartbeat",t.bind(this._onEmbedCodeChanged,this)),this.mb.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"auth_heartbeat",t.bind(this._onAuthorizationFetched,this)),this.mb.subscribe(e.EVENTS.INITIAL_PLAY_STARTING,"auth_heartbeat",t.bind(this._startTimer,this)),this.mb.subscribe(e.EVENTS.CHROMECAST_START_CAST,"auth_heartbeat",t.bind(this._clearTimer,this)),this.mb.subscribe(e.EVENTS.CHROMECAST_END_CAST,"auth_heartbeat",t.bind(this._startTimer,this)))};t.extend(n.prototype,{_onEmbedCodeChanged:function(e,t){this.embedCode=t,this.timer&&clearInterval(this.timer),this.ajax&&(this.ajax.error=null,this.ajax.abort(),this.ajax=null),this.retries=3},_startTimer:function(){if(this.require_heartbeat){this.timer=setInterval(t.bind(this._onTimerTick,this),1e3*this.heartbeatInterval),this._onTimerTick()}},_clearTimer:function(){clearInterval(this.timer)},_onAuthorizationFetched:function(e,t){t.heartbeat_data&&t.heartbeat_data.heartbeat_interval&&(this.heartbeatInterval=t.heartbeat_data.heartbeat_interval),t.auth_token&&(this.authToken=t.auth_token),this.require_heartbeat=t.require_heartbeat},_onTimerTick:function(){this.ajax=i.ajax({url:this.AUTH_HEARTBEAT_URL({server:e.SERVER.AUTH,pcode:e.playerParams.pcode||"unknown",authToken:this.authToken||"",embedCode:this.embedCode||""}),type:"GET",dataType:"json",crossDomain:!0,cache:!1,success:t.bind(this._onHeartbeatResponse,this),error:t.bind(this._onHeartbeatErrorResponse,this)})},_onHeartbeatResponse:function(t){this.ajax=null,t.message&&"OK"===t.message&&t.signature?(this.retries=3,null!=t.auth_token&&(this.authToken=t.auth_token,e.setItem("oo_auth_token",t.auth_token))):this._onHeartbeatError(e.ERROR.API.SAS.INVALID_HEARTBEAT)},_onHeartbeatErrorResponse:function(t){this.ajax=null,t&&t.responseText&&t.responseText.indexOf("Invalid entitlements")>-1?this._onHeartbeatError(e.ERROR.API.SAS.ERROR_INVALID_ENTITLEMENTS):this._onHeartbeatError(e.ERROR.API.SAS.CONCURRENT_STREAMS)},_onHeartbeatError:function(t){this.ajax=null,this.retries--,this.retries>0?this._onTimerTick():(this.timer&&clearInterval(this.timer),this.mb.publish(e.EVENTS.ERROR,{code:t}))}}),e.registerModule("auth_heartbeat",function(e,t){return new n(e,t)})}(OO,OO._,OO.$)},{}],70:[function(e,t,i){"use strict";OO.plugin("Channels",function(e,t,i,n){var a=function(t,i){this.id=i,this.mb=t,this.channel_tree=null,this.channel_pos=-1,this.replay=!1,e.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"Channels",target:this,events:[{name:e.EVENTS.PLAYER_CREATED,from:"*"}]})};return t.extend(a.prototype,{onPlayerCreated:function(i,n,a){this.enableChannels=a.enableChannels||e.playerParams.enableChannels||!1,this.mb.intercept(e.EVENTS.CONTENT_TREE_FETCHED,"channels",t.bind(this._checkTreeForChannel,this))},_checkTreeForChannel:function(i,n,a){if(n&&(["Channel","MultiChannel"].indexOf(n.content_type)>=0||n.lineup)){if(this.enableChannels){if(e.requiredInEnvironment("html5-playback")||e.requiredInEnvironment("cast-playback")){if(!n.children)return"Channel"===n.content_type?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.EMPTY_CHANNEL}):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.EMPTY_CHANNEL_SET}),!1;this.channel_tree=n,this.channel_pos=0,this.mb.subscribe(e.EVENTS.PLAYED,"channels",t.bind(this.onPlayed,this)),this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"channels",t.bind(this.onPlaybackReady,this)),this.mb.publish(e.EVENTS.SET_EMBED_CODE,n.children[0].embed_code)}return!1}return this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.CHANNEL_CONTENT}),!1}return[n,a]},onPlayed:function(t){this.channel_pos++,this.channel_tree.children[this.channel_pos]?this.mb.publish(e.EVENTS.SET_EMBED_CODE,this.channel_tree.children[this.channel_pos].embed_code):(this.channel_pos=0,this.mb.publish(e.EVENTS.SET_EMBED_CODE,this.channel_tree.children[0].embed_code))},onPlaybackReady:function(t){this.channel_pos>0&&this.mb.publish(e.EVENTS.PLAY)}}),a})},{}],71:[function(e,t,i){"use strict";if(OO.isChrome&&!OO.isIos){OO.plugin("Chromecast",function(e,t,i){var n,a="Ooyala Chromecast: ",r="Ooyala Chromecast Error: ",s=e.isAndroid&&null!==navigator.mediaSession,o="",l={},c=!1,u=!1,d=!1,h=!1,A="start",E="playing",p="paused",f="end",T="playing",g="played",y="paused",m="playheadTimeChanged",_="seek",S="statusUpdate",O="receiverStatusLoss",b="toggleClosedCaptions",I="setCCLanguage",v=["playerBrandingId","pcode","encodingPriority","embedToken"],N={embedCode:"",params:{},state:A,isMuted:!1,playbackStarted:!1,volume:1,playhead:0,duration:0,metadata:null},D=function(){n.unsubscribe(e.EVENTS.PLAYER_CREATED,"Chromecast",R),n.unsubscribe(e.EVENTS.PLAYBACK_READY,"Chromecast",L),n.unsubscribe(e.EVENTS.EMBED_CODE_CHANGED,"Chromecast",B),n.unsubscribe(e.EVENTS.ASSET_CHANGED,"Chromecast",M),n.unsubscribe(e.EVENTS.PLAY,"Chromecast",F),n.unsubscribe(e.EVENTS.PAUSE,"Chromecast",G),n.unsubscribe(e.EVENTS.SEEK,"Chromecast",W),n.unsubscribe(e.EVENTS.REPLAY,"Chromecast",q),n.unsubscribe(e.EVENTS.CHANGE_VOLUME,"Chromecast",X),n.unsubscribe(e.EVENTS.CHANGE_MUTE_STATE,"Chromecast",Z),n.unsubscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"Chromecast",$),n.unsubscribe(e.EVENTS.CONTENT_TREE_FETCHED,"Chromecast",w)},C=function(){if(u&&c&&d){var e=cast.framework.CastContext.getInstance();l.receiverApplicationId=o,l.autoJoinPolicy=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED,e.setOptions(l),e.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,Ae),e.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,Ee)}},R=function(t,i,n){var a=!1,s=n.chromecast;s&&"string"==typeof s.appId&&""!==s.appId?o=s.appId:e.log(r,"Provide your receiver appId."),s&&"boolean"==typeof s.enable&&!0===s.enable&&""!==o&&(a=!0),a?(window.__onGCastApiAvailable=function(e){e&&(c=!0,C())},e.loadScriptOnce("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1")):D()},L=function(e){d=!0,h||C()},P=function(){N.playbackStarted=!0},w=function(e,t){N.metadata=t},k=function(){h&&cast.framework.CastContext.getInstance().getCurrentSession().sendMessage("urn:x-cast:ooyala",{action:b})},V=function(e,t){h&&cast.framework.CastContext.getInstance().getCurrentSession().sendMessage("urn:x-cast:ooyala",{action:I,data:t})},B=function(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};N.playbackStarted=!1,N.embedCode=i,n&&!t.isEmpty(n)&&(N.params=t.pick(n,v)),h&&ee(N.embedCode,N.params)},M=function(e){},F=function(e){U()},U=function(){if(h){var e=cast.framework.CastContext.getInstance().getCurrentSession().getMediaSession();if(e){var t=new chrome.cast.media.PlayRequest;e.play(t,x,H)}else ee(N.embedCode,N.params,N.playhead)}else N.state=E},x=function(){e.log(a,"Play request done for: ",N.embedCode),he(E)},H=function(t){e.log(r,t)},G=function(e){if(h){var t=cast.framework.CastContext.getInstance().getCurrentSession().getMediaSession();if(t){var i=new chrome.cast.media.PauseRequest;t.pause(i,Y,j)}}else N.state=p},Y=t.bind(function(){e.log(a,"Pause request done for: ",N.embedCode),he(p)},this),j=t.bind(function(t){e.log(r,t)},this),W=t.bind(function(e,t){if(h){var i=cast.framework.CastContext.getInstance().getCurrentSession().getMediaSession(),n=new chrome.cast.media.SeekRequest;n.currentTime=t,i.seek(n,K,z)}},this),K=t.bind(function(){e.log(a,"Seek request done")},this),z=t.bind(function(t){e.log(r,"Seek request failed:",t)},this),q=function(e,t){h&&ee(N.embedCode,N.params,t)},X=function(e,t){h?cast.framework.CastContext.getInstance().getCurrentSession().setVolume(t).then(ge,Q):N.volume=t},Q=t.bind(function(t){e.log(r,"Volume request failed:",t)},this),Z=function(e,t){if(h){var i=cast.framework.CastContext.getInstance().getCurrentSession();i.isMute()!==t&&i.setMute(t).then(Te,J)}else N.isMuted=t},J=t.bind(function(t){e.log(r,"Mute request failed:",t)},this),$=function(e,t,i){N.playhead=t,N.duration=i},ee=function(t,i,a){var r=new chrome.cast.media.MediaInfo(t,"video/mp4"),s=e.localStorage.getItem("oo_auth_token");r.customData={ec:N.embedCode,params:JSON.parse(JSON.stringify(i))},a&&0!==a&&(r.customData.params.initialTime=a),s&&(r.customData.params.authToken=s);var o=cast.framework.CastContext.getInstance().getCurrentSession(),l=new chrome.cast.media.LoadRequest(r);o.loadMedia(l).then(te,ie),n.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,e.VIDEO.MAIN)},te=function(){ye()},ie=function(t){e.log(r,t)},ne=function(e){ue(e.isMute),de(e.volume)},ae=function(i,n){if("urn:x-cast:ooyala"===i){var a;try{a=JSON.parse(n)}catch(t){return void e.log(r,"event from chromecast was badly formatted",n)}if(0!==a.length){var s=a[0]||a.action;switch(s){case m:var o=a[1],l=a[2];if(t.isNumber(o)&&t.isFinite(o)&&o>=0&&t.isNumber(l)&&t.isFinite(l)&&l>0){var c=a[3]||0,u=a[4]||{min:0,max:l},d=a[5]||e.VIDEO.MAIN;re({playhead:o,duration:l,bufferedTime:c,minMaxSeekTime:u,videoElement:d})}break;case S:a.isCompleted&&ce();break;case T:_e(),oe();break;case y:_e(),se();break;case _:var h=a[1];le(h);break;case g:ce()}}}},re=function(i){if(t.isNumber(i.playhead)&&t.isFinite(i.playhead)&&i.playhead>=0&&t.isNumber(i.duration)&&t.isFinite(i.duration)&&i.duration>0){N.playhead=i.playhead,N.duration=i.duration;var a=i.bufferedTime||0,r=i.minMaxSeekTime||{min:0,max:N.duration},s=i.videoElement||e.VIDEO.MAIN;n.publish(e.EVENTS.PLAYHEAD_TIME_CHANGED,N.playhead,N.duration,a,r,s)}},se=function(){N.state=p,n.publish(e.EVENTS.VC_PAUSED,e.VIDEO.MAIN),he(p)},oe=function(){N.state=E,n.publish(e.EVENTS.VC_PLAYING,e.VIDEO.MAIN),he(E)},le=function(i){if(t.isNumber(i)&&t.isFinite(i)&&i>=0){N.playhead=i;var a={playhead:N.playhead,duration:N.duration};n.publish(e.EVENTS.SEEKED),re(a)}},ce=function(){N.state=f,n.publish(e.EVENTS.VC_PLAYED,e.VIDEO.MAIN),n.publish(e.EVENTS.PLAYED)},ue=function(t){N.isMuted=t,n.publish(e.EVENTS.MUTE_STATE_CHANGED,t)},de=function(t){N.volume=t,n.publish(e.EVENTS.VOLUME_CHANGED,t)},he=function(e){s&&(navigator.mediaSession.playbackState=e)},Ae=function(t){t.castState===cast.framework.CastState.CONNECTED&&(!function(){var t,i=cast.framework.CastContext.getInstance().getCurrentSession();if(i){i.setVolume(N.volume).then(ge,Q),t=i.getCastDevice(),N.state===E&&n.publish(e.EVENTS.PAUSE,e.VIDEO.MAIN),i.addMessageListener("urn:x-cast:ooyala",ae),i.addEventListener(cast.framework.SessionEventType.VOLUME_CHANGED,ne);var a=i.getMediaSession();if(a)if(a.media&&a.media.contentId)if(a.media&&a.media.contentId===N.embedCode){if(N.state===A&&(n.publish(e.EVENTS.INITIAL_PLAY,e.VIDEO.MAIN),n.publish(e.EVENTS.PAUSE,e.VIDEO.MAIN),a.playerState===chrome.cast.media.PlayerState.PLAYING&&oe(),a.playerState===chrome.cast.media.PlayerState.PAUSED)){se();var s={playhead:a.currentTime,duration:a.media.duration,videoElement:e.VIDEO.MAIN};re(s)}}else ee(N.embedCode,N.params,N.playhead);else ee(N.embedCode,N.params,N.playhead);else{var o=i.getSessionState()===cast.framework.SessionState.SESSION_RESUMED;if(!N.playbackStarted&&!o)return void i.endSession(!0);N.state!==A&&ee(N.embedCode,N.params,N.playhead)}h=!0,n.publish(e.EVENTS.CHROMECAST_START_CAST,t.friendlyName)}else e.log(r,"Error connecting to the chromecast.")}(),pe()),t.castState===cast.framework.CastState.NOT_CONNECTED&&(h=!1,N.state===E&&(n.publish(e.EVENTS.CHROMECAST_END_CAST),me()),fe())},Ee=function(e){e.sessionState===cast.framework.SessionState.SESSION_RESUMED&&e.session.sendMessage("urn:x-cast:ooyala",{action:O})},pe=function(){s&&(null!==N.metadata&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:N.metadata.title})),navigator.mediaSession.setActionHandler("play",U),navigator.mediaSession.setActionHandler("pause",G))},fe=function(){s&&(navigator.mediaSession.metadata=null,navigator.mediaSession.playbackState="none",navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null))},Te=function(){if(h){var e=cast.framework.CastContext.getInstance().getCurrentSession();ue(e.isMute())}},ge=function(){if(h){var e=cast.framework.CastContext.getInstance().getCurrentSession();de(e.getVolume())}},ye=function(){var e=cast.framework.CastContext.getInstance().getCurrentSession(),t=e.getMediaSession();t&&N.state===E&&t.playerState===chrome.cast.media.PlayerState.PAUSED&&t.play(new chrome.cast.media.PlayRequest,x,H),de(e.getVolume()),ue(e.isMute())},me=function(){switch(N.state){case p:n.publish(e.EVENTS.SEEK,N.playhead),n.publish(e.EVENTS.PAUSE,e.VIDEO.MAIN);break;case E:n.publish(e.EVENTS.SEEK,N.playhead),n.publish(e.EVENTS.PLAY,e.VIDEO.MAIN)}},_e=function(){var e=new chrome.cast.media.GetStatusRequest,t=cast.framework.CastContext.getInstance().getCurrentSession();t&&t.getMediaSession()&&t.getMediaSession().getStatus(e,Se,Oe)},Se=function(){e.log(a,"Status done")},Oe=function(t){e.log(r,"failed to get status:",t)};return function(t){u=!0,(n=t).subscribe(e.EVENTS.PLAYER_CREATED,"Chromecast",R),n.subscribe(e.EVENTS.PLAYBACK_READY,"Chromecast",L),n.subscribe(e.EVENTS.INITIAL_PLAY,"Chromecast",P),n.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"Chromecast",B),n.subscribe(e.EVENTS.ASSET_CHANGED,"Chromecast",M),n.subscribe(e.EVENTS.PLAY,"Chromecast",F),n.subscribe(e.EVENTS.PAUSE,"Chromecast",G),n.subscribe(e.EVENTS.SEEK,"Chromecast",W),n.subscribe(e.EVENTS.REPLAY,"Chromecast",q),n.subscribe(e.EVENTS.CHANGE_VOLUME,"Chromecast",X),n.subscribe(e.EVENTS.CHANGE_MUTE_STATE,"Chromecast",Z),n.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"Chromecast",$),n.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"Chromecast",w),n.subscribe(e.EVENTS.TOGGLE_CLOSED_CAPTIONS,"Chromecast",k),n.subscribe(e.EVENTS.SET_CLOSED_CAPTIONS_LANGUAGE,"Chromecast",V),C()}})}},{}],72:[function(e,t,i){"use strict";!function(t,i,n){var a=e("element-resize-detector"),r=function(e,i){this.id=i,this.mb=e,this.width=0,this.height=0,this.useCustomControls=!t.uiParadigm.match(/mobile/),this.useNativeControls=!!t.uiParadigm.match(/native/),this.originalZ=null,this.originalOverflow=null,this.playbackReady=!1,t.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"ChromelessUi",target:this,events:[{name:t.EVENTS.PLAYER_CREATED,from:"Init",to:"PlayerCreated"},{name:t.EVENTS.EMBED_CODE_CHANGED,from:"*",to:"WaitingPlaybackReady"},{name:t.EVENTS.ASSET_CHANGED,from:"*",to:"WaitingPlaybackReady"},{name:t.EVENTS.PLAYBACK_READY,from:"WaitingPlaybackReady",to:"Ready"},{name:t.EVENTS.INITIAL_PLAY,from:"*"},{name:t.EVENTS.WILL_PLAY,from:["Ready","Paused"],to:"StartingToPlay"},{name:t.EVENTS.PLAYING,from:["StartingToPlay","Paused"],to:"Playing"},{name:t.EVENTS.ERROR,from:"*"},{name:t.EVENTS.PLAY,from:"*"},{name:t.EVENTS.WILL_CHANGE_FULLSCREEN,from:"*"},{name:t.EVENTS.FULLSCREEN_CHANGED,from:"*"},{name:t.EVENTS.VC_PLAYING,from:"*"},{name:t.EVENTS.INITIAL_PLAY,from:"*"},{name:t.EVENTS.REPLAY,from:"*"},{name:t.EVENTS.WILL_PLAY_ADS,from:"*"},{name:t.EVENTS.PLAY_MIDROLL_STREAM,from:"*"},{name:t.EVENTS.PLAYING,from:"*"}]})};n.extend(r.prototype,{onInitialPlay:function(){this.playbackReady},onPlayerCreated:function(e,r,s){this.elementId=r,this.topMostElement=i("#"+this.elementId),this.topMostElement.append('<div class="innerWrapper" style="width:inherit; height:inherit"></div>'),this.rootElement=this.topMostElement.find("div.innerWrapper"),this.params=s,this.rootElement.append('<div class="plugins" style="position: absolute; width: 100%; height: 100%;"></div>');var o=n.bind(this._onBrowserOriginatedFullscreenChange,this),l=this.rootElement;n.each(["fullscreenchange","webkitfullscreenchange"],function(e){l.on(e,o)}),i(document).on("mozfullscreenchange",o),document.onwebkitfullscreenchange=o,i(document).on("MSFullscreenChange",o),i(window).resize(n.bind(this._onResize,this)),a({strategy:"scroll"}).listenTo(l[0],this._onResize.bind(this)),i(window).on("beforeunload",n.bind(this._onBeforeUnload,this)),this.mb.publish(t.EVENTS.PLAYER_EMBEDDED,{videoWrapperClass:"innerWrapper",pluginsClass:"plugins"})},onEmbedCodeChanged:function(){this._assetChanged()},onAssetChanged:function(){this._assetChanged()},_assetChanged:function(){this.playbackReady=!1},onPlaybackReady:function(e,t){this.playbackReady=!0},_isFullscreen:function(){return!!this.rootElement.hasClass("fullscreen")||!!(document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.webkitDisplayingFullscreen||document.msFullscreenElement)},_onBrowserOriginatedFullscreenChange:function(){t.debug("Fullscreen Changed",this._isFullscreen()),this.mb.publish(t.EVENTS.SIZE_CHANGED,this.rootElement.innerWidth(),this.rootElement.innerHeight()),this.mb.publish(t.EVENTS.FULLSCREEN_CHANGED,this._isFullscreen())},onFullscreenChanged:function(e,t){!t||this.originalZ||this.originalOverflow?t||(this.rootElement.css("z-index",""),this.rootElement.css("overflow",this.originalOverflow),this.originalZ=null,this.originalOverflow=null):(this.originalZ=this.rootElement.css("z-index"),this.originalOverflow=this.rootElement.css("overflow"),this.rootElement.css("z-index",this.originalZ+1e3),this.rootElement.css("overflow","visible"))},_onResize:function(){this.width===this.rootElement.innerWidth()&&this.height===this.rootElement.innerHeight()||(this.width=this.rootElement.innerWidth(),this.height=this.rootElement.innerHeight(),this.mb.publish(t.EVENTS.SIZE_CHANGED,this.width,this.height))},onPlay:function(){this.useCustomControls||this.useNativeControls||this.mb.publish(t.EVENTS.WILL_CHANGE_FULLSCREEN,!0)},onWillChangeFullscreen:function(e,t){(this.useNativeControls||this.useCustomControls)&&(t?this._showFullscreen():this._hideFullscreen())},_getActiveVideo:function(){var e=this.rootElement.find("video.video").get(0),t=this.rootElement.find("div.plugins video").get(0);return t&&!this._isVideoDomVisible("video.video")&&(e=t),e},_showFullscreen:function(){var e=this.rootElement[0],n=this._getActiveVideo(),a=e.requestFullScreen||e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen;(!a||t.isAndroid&&!t.isChrome)&&n&&n.webkitEnterFullscreen?(n.isFullScreenMode=!0,n.webkitEnterFullscreen()):a?(i(n).css("background-color","black"),a.call(e)):this.rootElement.addClass("fullscreen"),this.mb.publish(t.EVENTS.FULLSCREEN_CHANGED,!0)},_hideFullscreen:function(){var e=this._getActiveVideo();document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():e&&e.webkitExitFullscreen?(e.isFullScreenMode=!1,e.webkitExitFullscreen()):document.msExitFullscreen?document.msExitFullscreen():this.rootElement.removeClass("fullscreen"),i(e).css("background-color",""),this.mb.publish(t.EVENTS.FULLSCREEN_CHANGED,!1)},_isVideoDomVisible:function(e){return this.rootElement.find(e).css("display")===t.CSS.VISIBLE_DISPLAY},_onBeforeUnload:function(e){this.mb.publish(t.EVENTS.PAGE_UNLOAD_REQUESTED,!0)},__placeholder:!0}),t.registerModule("chromeless_ui",function(e,t){return new r(e,t)})}(OO,OO.$,OO._)},{"element-resize-detector":27}],73:[function(e,t,i){"use strict";!function(e,t,i){var n=[],a=!1,r=function(i){e.ooyalaStorage.getItem(e.CONSTANTS.GUID_STORAGE_KEY,function(n){n?e.GUID=n:(e.GUID=o(),e.ooyalaStorage.setItem(e.CONSTANTS.GUID_STORAGE_KEY,e.GUID)),t.isFunction(i)&&i()})},s=function(){a=!0;for(var i=n.shift();i;)t.isFunction(i)&&i(e.GUID),i=n.shift()};e.publicApi.getGuid=e.getGuid=function(t){if(a){if("function"==typeof t)try{t(e.GUID)}catch(e){}}else n.push(t)};var o=function(){var t=(new Date).getTime()+window.navigator.userAgent+Math.random().toString(16).split(".")[1];return new e.jsSHA(t,"ASCII").getHash("SHA-256","B64")};e.plugin("DeviceId",function(e,t,i,n){return function(t,i){t.subscribe(e.EVENTS.PLAYER_CREATED,"DeviceId",function(){e.publicApi.getGuid(function(i){t.publish(e.EVENTS.GUID_SET,i)})})}}),function(){switch(e.trackingLevel){case e.TRACKING_LEVEL.DISABLED:delete e.GUID,s();break;case e.TRACKING_LEVEL.ANONYMOUS:e.GUID=o(),s();break;case e.TRACKING_LEVEL.DEFAULT:default:r(s)}}()}(OO,OO._,OO.$)},{}],74:[function(e,t,i){"use strict";OO.plugin("ExternalId",function(e,t,i,n){var a=function(i,n){this.id=n,this.mb=i,this.mb.intercept(e.EVENTS.SET_EMBED_CODE,"ExternalId",t.bind(this._checkExternalId,this))};return t.extend(a.prototype,{_checkExternalId:function(t,i,n,a){var r=i.match("^extId:(.*)");return r&&r[1]?(this.externalId=r[1],this.options=n||{},this.isExternalApiCall=a,this._fetchExternalId({externalId:this.externalId,pcode:e.playerParams.pcode||"1kNG061cgaoolOncv54OAO1ceO-I",server:e.SERVER.API}),!1):[i,n,a]},_fetchExternalId:function(n){this._contentAjax=i.ajax({url:e.URLS.EXTERNAL_ID(n),type:"GET",dataType:"json",crossDomain:!0,cache:!1,success:t.bind(this._onExternalIdFetched,this),error:t.bind(this._onExternalIdError,this)})},_onExternalIdFetched:function(i){var n=null,a=e.HM.safeObject("playbackControl.contentTree",i,{});a.errors&&0==+a.errors.code&&t.each(a.content_tree,t.bind(function(e,t){e.external_id===this.externalId&&(n=t)},this)),t.extend(this.options,{originalId:this.externalId}),n?this.mb.publish(e.EVENTS.SET_EMBED_CODE,n,this.options,this.isExternalApiCall):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.INVALID_EXTERNAL_ID})},_onExternalIdError:function(t){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.INVALID_EXTERNAL_ID})}}),a})},{}],75:[function(e,t,i){"use strict";OO.plugin("HAFailoverMechanism",function(e,t,i){var n=function(){e.log.apply(this,i.merge(["HAFailoverMechanism:"],arguments))},a={feed:function(){},feedSegments:function(){},updateConfig:function(){},isEnabled:function(){return!1},isDummy:!0};return function(r){if(!r)return n("Wrong configuration. Returning dummy object",r,a),e.exposeStaticApi("ha",a),a;var s=this,o={},l=Object.freeze({failRatio:.4,maxSegmentsToCheck:20,segmentsBuffered:3,timeoutCheckFrequencyMs:500,manifestFailureTimeoutMs:3e3,failoverErrorTimeoutMs:6e3,plugin:"bit-wrapper"});s.CONSTANTS=Object.freeze({HA_ASSET_FLAG:"ha_enabled",HA_IGNORE_MAX_FLAG:"ha_ignore_max_timeout",DEFAULT_SEGMENT_LENGTH:4,PROXY_REFRESH_TIME:6});var c=!1,u=!1,d=!1,h=[],A="",E=!1,p=[],f=null,T=o.segmentLength||0,g=0,y={},m=0,_=!1,S=!1,O=0,b=0,I=0,v=0,N=0,D=0,C=null;function R(e){E=!0}function L(e){n("Failover due to event",e),$()}function P(e,t){t&&(A=t.id||"",n("_onBitrateChanged",e,t))}function w(e,t){t&&(h=t.bitrates||[],n("_onBitrateInfoAvailable",e,t))}function k(e,t,i){var n=t&&t.highAvailability||{},a={base:{}};void 0!==n.enabled&&(a.base[s.CONSTANTS.HA_ASSET_FLAG]=V(n.enabled)),void 0!==n.ignoreMaxTimeout&&(a.base[s.CONSTANTS.HA_IGNORE_MAX_FLAG]=V(n.ignoreMaxTimeout)),M(e,a)}function V(e){return!e||!0!==e&&"true"!==e?"false":"true"}function B(e,t){M(e,t)}function M(t,i){if(i){ae();var a=i.base&&i.base[s.CONSTANTS.HA_ASSET_FLAG]||"";c="true"===String(a).toLowerCase();var l=i.base&&i.base[s.CONSTANTS.HA_IGNORE_MAX_FLAG]||"";u="true"===String(l).toLowerCase(),clearInterval(C),c&&(C=setInterval(se,o.timeoutCheckFrequencyMs)),r.publish(e.EVENTS.HA_ENABLED,c),n("_onMetadataFetched",t,i)}}function F(){d&&(d=!1,r.publish(e.EVENTS.HA_FAILOVER_COMPLETE)),r.unsubscribe(e.EVENTS.VC_WILL_PLAY,"HAFailoverMechanism")}function U(e,t,i,n){if(X()&&Z()&&E&&!(g>=o.maxSegmentsToCheck)){var a=K();N=n,D=a}}function x(e){S=!0,I=K()}function H(e){var t=S?(K()-I)/1e3:0,i=v+t;if(O-t<0&&(i+=b-O),Z()&&re(i))return n("failover due to buffering issues after resume"),void $();S=!1,I=0}function G(e,t,i,n,a,r,s){X()&&Z()&&(v=s,b=i,O=t)}function Y(t,i){o=W(i||{}),n("Config updated",o),r.publish(e.EVENTS.HA_CONFIG_UPDATED,o)}function j(e,t,i){switch(t){case"requestCompleted":J(i);break;case"segmentLoaded":ee(i)}}function W(e){var t=i.extend(i.extend({},l),e);return t.segmentLength?t.maxSegmentsToCheck=-1:t.maxSegmentsToCheck=t.maxSegmentsToCheck||l.maxSegmentsToCheck,t}function K(){return(new Date).valueOf()}function z(){return T||s.CONSTANTS.DEFAULT_SEGMENT_LENGTH}function q(){var e=z()*o.segmentsBuffered*1e3/2;return u?e:Math.max(e,1e3*s.CONSTANTS.PROXY_REFRESH_TIME)}function X(){return E&&c&&ne()}function Q(){return"bit-wrapper"===o.plugin}function Z(){return"ooyalaHtml5VideoTech"===o.plugin}function J(e){return e&&e.downloadType?X()&&Q()?(!e.success&&e.attempt>0?(p.push(e),f||(f=K()),n("data type is ",e.downloadType)):ae(),function(){if(p.length&&X()){var e=p[p.length-1];!(_="manifest"===e.downloadType&&e.url===(o.streams&&o.chosenEncoding&&o.streams[o.chosenEncoding]&&(o.streams[o.chosenEncoding].url||"")||""))&&e.attempt>=2&&!y[A]&&(m++,y[A]=!0,n("Bitrate failure",A))}}(),X()&&h.length>0&&m>=Math.round(h.length*o.failRatio)&&(n("failover due to check of bitrates",m),$()),!0):(n("disabled feed ignored"),!1):(n("invalid data provided to feed method",e),!1)}function $(){if(!X())return n("disabled. failover ignored"),void n(E,c,ne());d?n("video stream is in a process of fail over"):(r.publish(e.EVENTS.HA_WILL_FAILOVER),n("trying to failover"),d=!0,r.subscribe(e.EVENTS.VC_WILL_PLAY,"HAFailoverMechanism",F),r.publish(e.EVENTS.VC_RELOAD_AND_PLAY,o.streams||{}),n("failover initiated"),setTimeout(function(){d&&(r.publish(e.EVENTS.HA_FAILOVER_ERROR),d=!1)},o.failoverErrorTimeoutMs),ae(!0))}function ee(e){if(e&&e.duration)if(-1!==o.maxSegmentsToCheck)if(Q()){if(!(g>o.maxSegmentsToCheck)){if(e.duration){var t=parseFloat(e.duration);t&&te(t)}n("Average segments length",T)}}else n("segments check disabled due to unsupported plugin",o.plugin);else n("segments check disabled");else n("invalid data provided to feedSegments method",e)}function te(e){g>=0&&(T=(T*g+e)/(g+1),g++)}function ie(){ae(!0),r.unsubscribe(e.EVENTS.INITIAL_PLAY,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.BITRATE_CHANGED,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.BITRATE_INFO_AVAILABLE,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.ASSET_CHANGED,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.METADATA_FETCHED,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.VC_WILL_PLAY,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.DESTROY,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.DOWNLOADING,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.DOWNLOADING,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.HA_FAILOVER_NOW,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.HA_CONFIG_UPDATE,"HAFailoverMechanism"),r.unsubscribe(e.EVENTS.HA_NOTIFY,"HAFailoverMechanism"),clearInterval(C),n("destroy")}function ne(){return!!o.streams}function ae(t){p=[],f=null,m=0,_=!1,y={},T=o.segmentLength||0,g=0,t&&(h=[],A="",D=0),e.TEST_TEST_TEST&&"hard"===t&&(d=!1)}function re(e){var t=z();if(D&&N&&e){var i=5*t,n=t/2,a=(K()-D)/1e3;if(N-e<n&&a>i)return!0}return!1}function se(){if(X()){if(Z()&&re(v))return n("failover due to buffering issues"),void $();if(Q()){if(_&&K()-f>o.manifestFailureTimeoutMs)return n("failover due to manifest failure"),void $();m&&K()-f>q()&&(n("failover due to timeout"),$())}}}e.TEST_TEST_TEST&&(s.failover=$,s.reset=ae,s.isEnabled=X,s.feed=J,s.feedSegments=ee,s._getTimeoutTimeMs=q,s._getSegmentLength=t.bind(z,this),s._updateAvgSegmentLength=t.bind(te,this),s.pluginSupportsNativeEventsOnly=t.bind(Z,this)),o=W(o),r.subscribe(e.EVENTS.INITIAL_PLAY,"HAFailoverMechanism",R),r.subscribe(e.EVENTS.HA_FAILOVER_NOW,"HAFailoverMechanism",L),r.subscribe(e.EVENTS.HA_CONFIG_UPDATE,"HAFailoverMechanism",Y),r.subscribe(e.EVENTS.HA_NOTIFY,"HAFailoverMechanism",j),r.subscribe(e.EVENTS.BITRATE_CHANGED,"HAFailoverMechanism",P),r.subscribe(e.EVENTS.BITRATE_INFO_AVAILABLE,"HAFailoverMechanism",w),r.subscribe(e.EVENTS.ASSET_CHANGED,"HAFailoverMechanism",k),r.subscribe(e.EVENTS.METADATA_FETCHED,"HAFailoverMechanism",B),r.subscribe(e.EVENTS.DESTROY,"HAFailoverMechanism",ie),r.subscribe(e.EVENTS.DOWNLOADING,"HAFailoverMechanism",U),r.subscribe(e.EVENTS.PAUSED,"HAFailoverMechanism",x),r.subscribe(e.EVENTS.PLAY,"HAFailoverMechanism",H),r.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"HAFailoverMechanism",G),n("initialization completed",o),e.TEST_TEST_TEST&&e.exposeStaticApi("ha",s)}})},{}],76:[function(e,t,i){"use strict";!function(e,t,i){var n=t.template("<%=server%>/ooyala_storage.html")({server:e.SERVER.API}),a=e.SERVER.API,r="LOADED",s=0,o=1,l=2,c=s,u=[],d={},h=null,A=document.createElement("iframe");A.style.display="none",A.src=n;var E=function(){document.body.appendChild(A),h=setTimeout(function(){f(o)},3e3)};function p(e){if(e.origin===a){if(e.data===r)return clearTimeout(h),void f(l);var t=null;try{t=JSON.parse(e.data)}catch(e){}t&&t.callback&&d[t.callback]&&(d[t.callback](t.result),delete d[t.callback])}}function f(e){var t;for(c=e;void 0!==(t=u.pop());)T(t[0],t[1],t[2])}function T(t,i,n){if(c!==s)if(c!==o&&A.contentWindow.postMessage){var r={method:t,arguments:i,callback:Math.random().toString(36).substring(7)};d[r.callback]=n,A.contentWindow.postMessage(JSON.stringify(r),a)}else{var l;l="setItem"===t?e[t].apply(e.localStorage,i):e.localStorage[t].apply(e.localStorage,i),n&&n(l)}else u.push(arguments)}e.TEST_TEST_TEST?E():i(document).ready(E),window.addEventListener?window.addEventListener("message",p,!1):window.attachEvent&&window.attachEvent("onmessage",p),e.ooyalaStorage={getItem:function(e,t){T("getItem",[e],t)},key:function(e,t){T("key",[e],t)},setItem:function(e,t,i){T("setItem",[e,t],i)},removeItem:function(e,t){T("removeItem",[e],t)},hasOwnProperty:function(e,t){T("hasOwnProperty",[e],t)}},e.TEST_TEST_TEST&&(e.ooyalaStorage._getIframeState=function(){return c})}(OO,OO._,OO.$)},{}],77:[function(e,t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/typeof"));!function(e,t,i){var a="thirdquartile",r=function(i,n){this.toString=function(){return"playback-controller"},this.IOS_PLAY_MODE_OPTIONS={INLINE:"inline",FULLSCREEN:"fullscreen"},this.BITRATE_TIMERS={FIVE_SEC:5e3,STABLE:3e4},this.mb=i,this.id=n,this.playbackElements={},this.currentPlaybackElement=null,this.publishedPlaybackReady=!1,this.willPlayFromBeginning=!0,this.metadataHasFetched=!1,this.playedAtLeastOnce=!1,this.hasPlayed=!1,this.endScreenShown=!1,this.mobileContinuousPlayDisabled={},this.previousWasOoyalaAd=!1,this.initialPlayHasOccurred=!1,this.initialPlaybackHasStarted=!1,this.currentBitrate=-1,this.mainVideoElementCreated=!1,this.currentPlaybackElementCreated=!1,this.amcAllReady=!1,this.playingAds=!1,this.prerollsDone=!1,this.currentPodSize=0,this.finalPreroll=!1,this.reachedPrerollThresholdForPreloading=!1,this.preloaded=!1,this.requestedThumbnails=!1,this.totalPrerollPods=0,this.currentPrerollPod=0,this.fiveSecBitrateTimer=null,this.bitrateTimerPassed=0,this.refreshTimers=!1,this.thirtySecBitrateTimer=null,this.hasContentSet=!1,this.contentChangeRequestedExternally=!1,this.bitrateTimerStartTime=-1,this.playerParams=null,this.shouldPreload=!1,this.initialTime=0,this.playerCreatedTime=-1,this.closedCaptions=null,this.autoplayed=!1,this.contentStarted=!1,this.elementId=null,this.iosPlayMode=this.IOS_PLAY_MODE_OPTIONS.FULLSCREEN,this.runningAutoplayCheck=!1,this.autoplayChecked=!1,this.autoplayCapabilities={},this.delayForPreroll=!1,this.isAudioOnlyAsset=!1,this.bitrateProperty={level:e.CONSTANTS.AUTO_BITRATE,duration:1/0},this.bitrateOverrideFunction=null,this.bitrateOverrideTimer=null,this.chosenBitrateIndex=e.CONSTANTS.AUTO_BITRATE,this.isBitrateOverrideReady={isBitrateInfoAvailable:!1,isBitrateOverridden:!1},this.isVr=!1,this.isVideoTypeChanged=!1,this.PRELOAD_THRESHOLD_EVENT=a,this.mb.subscribe(e.EVENTS.PLAYER_CREATED,"playback",t.bind(this.playerCreated,this)),this.mb.subscribe(e.EVENTS.AUTOPLAY_CHECK_COMPLETE,"playback",t.bind(this.autoplayCheckComplete,this)),this.mb.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"playback",t.bind(this.embedCodeChanged,this)),this.mb.subscribe(e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,"playback",t.bind(this.embedCodeChanged,this)),this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,"playback",t.bind(this.setEmbedCode,this)),this.mb.subscribe(e.EVENTS.SET_ASSET,"playback",t.bind(this.setAsset,this)),this.mb.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"playback",t.bind(this.contentTreeFetched,this)),this.mb.subscribe(e.EVENTS.METADATA_FETCHED,"playback",t.bind(this.metadataFetched,this)),this.mb.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"playback",t.bind(this.authorizationFetched,this)),this.mb.subscribe(e.EVENTS.INITIAL_PLAY,"playback",t.bind(this.initialPlay,this)),this.mb.subscribe(e.EVENTS.WILL_PLAY_FROM_BEGINNING,"playback",t.bind(this.onWillPlayFromBeginning,this)),this.mb.subscribe(e.EVENTS.PLAYED,"playback",t.bind(this.played,this)),this.mb.subscribe(e.EVENTS.ASSET_CHANGED,"playback",t.bind(this.assetChanged,this)),this.mb.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"playback",t.bind(this.vcVideoElementCreated,this)),this.mb.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"playback",t.bind(this.videoControllerVideoElementInFocus,this)),this.mb.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,"playback",t.bind(this.vcVideoElementDisposed,this)),this.mb.subscribe(e.EVENTS.VC_PLAYED,"playback",t.bind(this.vcPlayed,this)),this.mb.subscribe(e.EVENTS.VC_PLAYING,"playback",t.bind(this.vcPlaying,this)),this.mb.subscribe(e.EVENTS.VC_CAN_PLAY,"playback",t.bind(this.vcCanPlay,this)),this.mb.subscribe(e.EVENTS.VC_PAUSED,"playback",t.bind(this.vcPaused,this)),this.mb.subscribe(e.EVENTS.VC_SEEKED,"playback",t.bind(this.vcSeeked,this)),this.mb.subscribe(e.EVENTS.VC_PLAY_FAILED,"playback",t.bind(this.vcPlayFailed,this)),this.mb.subscribe(e.EVENTS.VC_ERROR,"playback",t.bind(this.vcError,this)),this.mb.subscribe(e.EVENTS.VC_WILL_PLAY,"playback",t.bind(this.vcWillPlay,this)),this.mb.subscribe(e.EVENTS.REPLAY,"playback",t.bind(this.replay,this)),this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"playback",t.bind(this.playbackReady,this)),this.mb.subscribe(e.EVENTS.BITRATE_CHANGED,"playback",t.bind(this.bitrateChanged,this)),this.mb.subscribe(e.EVENTS.BITRATE_INFO_AVAILABLE,"playback",t.bind(this.bitrateInfoAvailable,this)),this.mb.subscribe(e.EVENTS.SET_TARGET_BITRATE,"playback",t.bind(this.setTargetBitrate,this)),this.mb.subscribe(e.EVENTS.AMC_ALL_READY,"playback",t.bind(this.onAmcAllReady,this)),this.mb.subscribe(e.EVENTS.AMC_PREROLLS_DONE,"playback",t.bind(this.onAmcPrerollsDone,this)),this.mb.subscribe(e.EVENTS.SDK_AD_EVENT,"playback",t.bind(this.onSdkAdEvent,this)),this.mb.subscribe(e.EVENTS.WILL_PLAY_ADS,"playback",t.bind(this.onWillPlayAds,this)),this.mb.subscribe(e.EVENTS.ADS_PLAYED,"playback",t.bind(this.onAdsPlayed,this)),this.mb.subscribe(e.EVENTS.WILL_PLAY_SINGLE_AD,"playback",t.bind(this.onWillPlaySingleAd,this)),this.mb.subscribe(e.EVENTS.AD_POD_STARTED,"playback",t.bind(this.onAdPodStarted,this)),this.mb.subscribe(e.EVENTS.WILL_RESUME_MAIN_VIDEO,"playback",t.bind(this.willResume,this)),this.mb.subscribe(e.EVENTS.CANCEL_GEO_CHECKING,"playback",t.bind(this.onCancelGeoChecking,this))};t.extend(r.prototype,{getStreams:function(i){if(!i)return null;if(t.isEmpty(i.streams))return null;var n={};this.isAudioOnlyAsset=i.streams.every(function(t){return e.isAudioOnlyStream(t.delivery_type)});for(var a=0;a<i.streams.length;a++){var r=i.streams[a].delivery_type;if("youtube"===r)return n={deliveryType:r,youtube:{url:i.streams[a].youtube_id}};if(i.streams[a].url&&r&&(!i.streams[a].drm||!t.isEmpty(i.streams[a].drm))){var s=i.streams[a].drm||{};t.isEmpty(s)||"remote_asset"===r||(r=r.concat("_drm")),n[r]={url:e.decode64(i.streams[a].url.data)},t.isEmpty(s)||(n[r].drm=s);var o=i.streams[a].akamai_secure_hd||null;"boolean"==typeof o&&(n[r].contentMetadata={assetId:this.currentEmbedCode,accountId:this.playerParams.pcode,secureContent:o}),n.isLive=i.streams[a].is_live_stream||!1}}return n.remote_asset&&(n[e.VIDEO.ENCODING.UNKNOWN]=n.remote_asset,delete n.remote_asset),n},getAssets:function(e){if(!e||!e.content||t.isEmpty(e.content.streams))return null;for(var i={},n=e.content.streams,a=0;a<n.length;a++){var r=n[a];r.url&&r.delivery_type&&(i[r.delivery_type]={url:r.url},i.isLive=r.is_live_stream||!1)}return i},checkDataReady:function(e){null!=this.contentTree&&this.metadataHasFetched&&null!=this.authorization&&this.dataReady(e)},dataReady:function(i){var n=i?e.VIDEO.ADS:e.VIDEO.MAIN;this.playbackElements[n]={streams:this.streams},this.currentPlaybackElement=n,this.publishClosedCaptionInfo(n,this.closedCaptions);var a=this.playerParams?this.playerParams.platform:void 0,r=this.playerParams?this.playerParams.crossorigin:void 0,s=this.playerParams?this.playerParams.pcode:void 0,o={closedCaptions:this.playbackElements[n].closedCaptions,platform:a,crossorigin:r,authenticationData:{pcode:s},initialTime:this.initialTime,pluginParams:t.extend({},e.playerParams,this.playerParams)};if(this.isVr){var l=this.getPlayerVrParams();o.pluginParams[e.VIDEO_PLAYERS.BIT_WRAPPER]=t.extend({},l,o.pluginParams[e.VIDEO_PLAYERS.BIT_WRAPPER]),e.isIos&&e.iosMajorVersion>=11&&(o.crossorigin="anonymous")}this.mb.publish(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,n,this.streams,null,o)},resetStreamData:function(){this.contentTree=null,this.metadataHasFetched=!1,this.authorization=null,this.streams=null,this.currentEmbedCode=null,this.endScreenShown=!1,this.mainVideoElementCreated=!1,this.currentPlaybackElementCreated=!1,this.previousWasOoyalaAd||(this.amcAllReady=!1),this.playingAds=!1,this.prerollsDone=!1,this.currentPodSize=0,this.finalPreroll=!1,this.reachedPrerollThresholdForPreloading=!1,this.preloaded=!1,this.totalPrerollPods=0,this.currentPrerollPod=0,this.publishedPlaybackReady=!1,this.autoplayed=!1,this.contentStarted=!1,this.requestedThumbnails=!1,this.playedAtLeastOnce=!1,this.previousWasOoyalaAd||this.playerParams.ooyalaAds||(this.initialTime=0),this.playerParams&&this.playerParams.ooyalaAds?this.previousWasOoyalaAd=!0:this.previousWasOoyalaAd=!1,this.bitrateProperty={level:e.CONSTANTS.AUTO_BITRATE,duration:1/0},this.chosenBitrateIndex=e.CONSTANTS.AUTO_BITRATE,this.isBitrateOverrideReady={isBitrateInfoAvailable:!1,isBitrateOverridden:!1}},preloadStream:function(){(this.shouldPreload||this.shouldAutoplay())&&!this.preloaded&&this.mainVideoElementCreated&&(this.prerollsDone||this.reachedPrerollThresholdForPreloading&&!e.isIos)&&(this.preloaded=!0,this.mb.publish(e.EVENTS.VC_PRELOAD,this.currentPlaybackElement))},canAutoplay:function(){return!(!1===this.autoplayCapabilities.muted&&!1===this.autoplayCapabilities.unmuted)},shouldAutoplay:function(){if(e.isSamsungBrowser)return!1;var t=this.autoplayEnabled()&&(this.canAutoplay()||this.initialPlayHasOccurred),i=!this.mobileContinuousPlayDisabled[this.currentPlaybackElement]&&t&&this.hasPlayed,n=!1;return this.playerParams&&this.playerParams.ooyalaAds&&(n=!0),!(e.isIphone&&this.iosPlayMode!==this.IOS_PLAY_MODE_OPTIONS.INLINE&&!i&&!n)&&!!(i||!1===this.playedAtLeastOnce&&t||n)},triggerAutoplay:function(){this.shouldAutoplay()&&(this.autoplayed=!0,this.mb.publish(e.EVENTS.INITIAL_PLAY,Date.now(),this.autoplayed))},setAutoPlayParam:function(){this.playerParams&&(this.playerParams.autoPlay="true"===this.playerParams.autoPlay||!0===this.playerParams.autoPlay||"true"===this.playerParams.autoplay||!0===this.playerParams.autoplay,this.initialPlayHasOccurred&&(void 0!==this.playerParams.autoPlayUpNextVideosOnly&&"true"!==this.playerParams.autoPlayUpNextVideosOnly&&!0!==this.playerParams.autoPlayUpNextVideosOnly||(this.playerParams.autoPlay=!0)))},triggerLoopPlay:function(){!!this.playerParams&&("true"===this.playerParams.loop||!0===this.playerParams.loop)&&this.mb.publish(e.EVENTS.REPLAY)},playerCreated:function(i,n,a,r,s,o){var l=this;this.elementId=n,this.playerParams=a,this.playerCreatedTime=o,e.isIos&&7===e.iosMajorVersion?window.addEventListener("pageshow",t.bind(function(){this.mb.publish(e.EVENTS.PAUSE)},this)):(e.isAndroid||e.isIos)&&document.addEventListener("visibilitychange",t.bind(function(t){document.hidden&&this.mb.publish(e.EVENTS.PAUSE)},this)),this.autoplayEnabled()&&(this.runningAutoplayCheck=!0,e.checkAutoplay.runTest(function(t,i){e.log("Autoplay check complete",t),l.mb.publish(e.EVENTS.AUTOPLAY_CHECK_COMPLETE,t),e.log("Autoplay state checked",i),l.mb.publish(e.EVENTS.AUTOPLAY_STATE_CHECKED,i)}))},applyPlayerParams:function(){if(this.playerParams){if(void 0!==this.playerParams.locale&&e.setLocale(this.playerParams.locale),(!this.hasContentSet||this.contentChangeRequestedExternally)&&void 0!==this.playerParams.initialTime){var t=parseFloat(this.playerParams.initialTime);!isNaN(t)&&t>0&&(this.initialTime=t)}!1===this.playerParams.preload||this.initialTime?this.shouldPreload=!1:!0===this.playerParams.preload&&(this.shouldPreload=!0),void 0!==this.playerParams.iosPlayMode&&(this.iosPlayMode=this.playerParams.iosPlayMode),"boolean"==typeof this.playerParams.delayForPreroll&&(this.delayForPreroll=this.playerParams.delayForPreroll),this.initialBitrateOverride(this.playerParams)}},autoplayEnabled:function(){var e=this.playerParams;return e&&("true"===e.autoPlay||!0===e.autoPlay||"true"===e.autoplay||!0===e.autoplay)},autoplayCheckComplete:function(e,t){this.autoplayChecked=!0,this.autoplayCapabilities=t,this.tryPublishPlaybackReady()},fetchThumbnails:function(){if(!this.requestedThumbnails){this.requestedThumbnails=!0;var n={server:e.SERVER.API,embedCode:this.currentEmbedCode};i.ajax({url:e.URLS.THUMBNAILS(n),type:"GET",dataType:"json",cache:!0,success:t.bind(this.thumbnailsFetched,this),error:t.bind(this._thumbnailsFailed,this)})}},thumbnailsFetched:function(i){i&&i.data&&!t.isEmpty(i.data.thumbnails)&&this.mb.publish(e.EVENTS.THUMBNAILS_FETCHED,i)},_thumbnailsFailed:function(t,i,n){e.log("Failed to fetch thumbnails")},shouldDisplayMarkers:function(){return void 0===this.playerParams.markers||"boolean"!=typeof this.playerParams.markers||!1!==this.playerParams.markers.valueOf()},playbackReady:function(){this.shouldAutoplay()||this.isAudioOnlyAsset||(this.fetchThumbnails(),this.shouldDisplayMarkers()&&this.loadMarkers()),this.triggerAutoplay()},loadMarkers:function(){var e=this.getMarkersURL();""!==e?i.ajax({url:e,type:"GET",dataType:"json",cache:!0,success:t.bind(this.publishMarkerData,this),error:t.bind(this.onMarkersFailed,this)}):this.publishMarkerData()},publishMarkerData:function(t){var i={list:[]},n=this.getInlineMarkers(),a=t&&t.type&&""!==t.type?t.type:null;t&&Array.isArray(t.markerList)&&t.markerList.length>0?(n.forEach(function(e){var i=t.markerList.findIndex(function(t){return t.start===e.start});i>=0?t.markerList[i]=Object.assign({},t.markerList[i],e):t.markerList.push(e)}),i.list=t.markerList):n.length>0&&(i.list=n),a&&(i.type=a,i.list=i.list.map(function(e){return void 0!==e.type&&""!==e.type||(e.type=a),e})),i.list.length>0&&(i.list=i.list.sort(function(e,t){return e.start>t.start?1:-1}),this.mb.publish(e.EVENTS.MARKER_DATA_AVAILABLE,i))},getInlineMarkers:function(){return this.playerParams.markers&&Array.isArray(this.playerParams.markers.inline)&&this.playerParams.markers.inline.length>0?this.playerParams.markers.inline:[]},onMarkersFailed:function(t,i,n){e.log("Error: Failed to fetch markers data")},getMarkersURL:function(){return this.playerParams&&this.playerParams.markers&&this.playerParams.markers.config?this.playerParams.markers.config:this.contentTree&&this.contentTree.markers_url?this.contentTree.markers_url:""},clearBitrateTimers:function(){clearTimeout(this.fiveSecBitrateTimer),this.fiveSecBitrateTimer=null,clearTimeout(this.thirtySecBitrateTimer),this.thirtySecBitrateTimer=null,clearTimeout(this.bitrateOverrideTimer),this.bitrateOverrideTimer=null},initialBitrateOverride:function(t){if(t&&t.initialBitrate){var n=t.initialBitrate.level;(n===e.CONSTANTS.AUTO_BITRATE||i.isNumeric(n)&&n>=0&&n<=1)&&(this.bitrateProperty.level=n);var a=t.initialBitrate.duration;i.isNumeric(a)&&a>0&&(this.bitrateProperty.duration=a)}t&&t.bitrateOverrideFunction&&"function"==typeof t.bitrateOverrideFunction&&(this.bitrateOverrideFunction=t.bitrateOverrideFunction)},bitrateInfoAvailable:function(t,i,n){if(this.isAudioOnlyAsset&&i&&i.bitrates){for(var a=!1,r=0;r<i.bitrates.length;r++)if(i.bitrates[r].width||i.bitrates[r].height){a=!0;break}if(a){var s={ooyalaErrorCode:e.ERROR.PLAYBACK.GENERIC,ooyalaErrorMessage:"Audio only asset contains video streams.",mediaErrorMessage:"Source is unsupported."};return this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.GENERIC}),void this.mb.publish(e.EVENTS.PLAYBACK_START_ERROR,s)}}if(i&&i.bitrates&&this.bitrateProperty.level!==e.CONSTANTS.AUTO_BITRATE&&n===e.VIDEO.MAIN){for(var o=[],l={},c=0;c<i.bitrates.length;c++)i.bitrates[c].id!==e.CONSTANTS.AUTO_BITRATE&&(o.push(i.bitrates[c].bitrate),l[i.bitrates[c].bitrate]=i.bitrates[c].id);if(o.sort(function(e,t){return e-t}),o.length>0){for(var u=this.bitrateProperty.level*o[o.length-1],d=o[0],h=0;h<o.length&&o[h]<=u;h++)d=o[h];this.chosenBitrateIndex=l[d],this.isBitrateOverrideReady.isBitrateInfoAvailable=!0}this.publishInitialBitrateOverride()}},publishInitialBitrateOverride:function(){this.isBitrateOverrideReady.isBitrateOverridden||("function"==typeof this.bitrateOverrideFunction?(this.bitrateOverrideFunction(),this.isBitrateOverrideReady.isBitrateOverridden=!0):this.isBitrateOverrideReady.isBitrateInfoAvailable&&this.bitrateProperty.level!==e.CONSTANTS.AUTO_BITRATE&&this.chosenBitrateIndex!==e.CONSTANTS.AUTO_BITRATE&&(this.mb.publish(e.EVENTS.SET_TARGET_BITRATE,this.chosenBitrateIndex,{setTimer:!0},e.VIDEO.MAIN),this.mb.publish(e.EVENTS.SEND_QUALITY_CHANGE,this.chosenBitrateIndex,{setTimer:!0},e.VIDEO.MAIN),this.isBitrateOverrideReady.isBitrateOverridden=!0))},videoControllerVideoElementInFocus:function(e){this.publishInitialBitrateOverride()},setTargetBitrate:function(i,n,a){a&&a.setTimer?this.bitrateOverrideTimer=setTimeout(t.bind(function(){this.mb.publish(e.EVENTS.SET_TARGET_BITRATE,e.CONSTANTS.AUTO_BITRATE,{},e.VIDEO.MAIN)},this),1e3*this.bitrateProperty.duration):this.bitrateOverrideTimer&&(clearTimeout(this.bitrateOverrideTimer),this.bitrateOverrideTimer=null)},startBitrateTimers:function(){var t=this;this.bitrateTimerStartTime=Date.now(),this.refreshTimers&&(this.refreshTimers=!1,this.bitrateTimerPassed=0),this.bitrateTimerPassed<this.BITRATE_TIMERS.FIVE_SEC&&!this.fiveSecBitrateTimer&&(this.fiveSecBitrateTimer=setTimeout(function(){t.fiveSecBitrateSent=!0,t.mb.publish(e.EVENTS.BITRATE_FIVE_SEC,t.currentBitrate)},this.BITRATE_TIMERS.FIVE_SEC-this.bitrateTimerPassed)),this.startBitrateStableTimer()},startBitrateStableTimer:function(){var e=this;this.thirtySecBitrateTimer||(this.thirtySecBitrateTimer=setTimeout(function(){e.publishBitrateInfo()},this.BITRATE_TIMERS.STABLE))},publishBitrateInfo:function(){var t=this;this.mb.publish(e.EVENTS.BITRATE_STABLE,this.currentBitrate),this.thirtySecBitrateTimer=setTimeout(function(){t.publishBitrateInfo()},this.BITRATE_TIMERS.STABLE)},bitrateChanged:function(t,i){this.currentBitrate=i.bitrate,this.initialPlaybackHasStarted||(this.initialPlaybackHasStarted=!0,this.mb.publish(e.EVENTS.BITRATE_INITIAL,this.currentBitrate),this.bitrateTimerPassed=0,this.startBitrateTimers()),this.startBitrateStableTimer()},authorizationFetched:function(e,t,i){this.authorization=t,this.streams=this.getStreams(t),this.checkDataReady(i)},contentTreeFetched:function(t,i,n){this.contentTree=i,i&&(this.closedCaptions={closed_captions:i.closed_captions,closed_captions_vtt:i.closed_captions_vtt});var a=!!this.hasVrParams();if(this.isVideoTypeChanged=this.isVr!==a,this.isVideoTypeChanged&&(this.mb.publish(e.EVENTS.VIDEO_TYPE_CHANGED),this.isVr=a,this.recreateUi(a)),a){var r=this.getPlayerVrParams();this.mb.publish(e.EVENTS.VIDEO_VR,{videoId:n?e.VIDEO.ADS:e.VIDEO.MAIN,source:(r||{}).source})}this.checkDataReady(n)},publishClosedCaptionInfo:function(i,n){if(n){var a={};if(n.closed_captions_vtt&&n.closed_captions_vtt.captions&&t.size(n.closed_captions_vtt.captions)>0){a.closed_captions_vtt=n.closed_captions_vtt.captions,a.availableLanguages=n.closed_captions_vtt.languages,a.locale={};for(var r=0;r<a.availableLanguages.length;r++){var s=a.availableLanguages[r];a.locale[s]=a.closed_captions_vtt[s].name}}if(n.closed_captions&&n.closed_captions.length>0&&(a.closed_captions_dfxp=n.closed_captions[0],a.availableLanguages=n.closed_captions[0].languages),t.size(a)>0){var o={videoId:i};if(o.languages=n.closed_captions_vtt&&n.closed_captions_vtt.languages||a.closed_captions_dfxp&&a.closed_captions_dfxp.languages,o.locale={},o.languages&&o.languages.length>0){for(var l=0;l<o.languages.length;l++){var c=o.languages[l];a.closed_captions_vtt&&a.closed_captions_vtt[c]&&(o.locale[c]=a.closed_captions_vtt[c].name)}t.extend(this.playbackElements[this.currentPlaybackElement],{closedCaptions:a}),this.mb.publish(e.EVENTS.CLOSED_CAPTIONS_INFO_AVAILABLE,o)}}}},metadataFetched:function(e,t,i){this.metadataHasFetched=!0,this.checkDataReady(i)},hasVrParams:function(){return"mono"===(this.contentTree&&this.contentTree.movie_attributes&&this.contentTree.movie_attributes.vr360type)},recreateUi:function(t){if(t){return this.mb.publish(e.EVENTS.RECREATING_UI,this.elementId,this.playerParams,{closedCaptionOptions:{}}),!0}return!1},getPlayerVrParams:function(){var t={stereo:e.PLAYER_VR.DEFAULT_SETTINGS.STEREO,contentType:e.PLAYER_VR.DEFAULT_SETTINGS.CONTENT_TYPE,startPosition:e.PLAYER_VR.DEFAULT_SETTINGS.START_POSITION,viewWindow:e.PLAYER_VR.DEFAULT_SETTINGS.VIEW_WINDOW};if(this.hasVrParams()){var i=null;return(t=this._correctParametersName(t))&&(i={source:{vr:t}}),i}return null},_correctParametersName:function(e){switch(this.contentTree.movie_attributes.vr360type){case"stereo_lr":e.stereo=!0,e.contentType="sbs";break;case"stereo_tb":e.stereo=!0,e.contentType="tab"}return e},initialPlay:function(t,i,n){this.initialPlayHasOccurred=!0,this.willPlayFromBeginning&&this.mb.publish(e.EVENTS.WILL_PLAY_FROM_BEGINNING),this.willPlayFromBeginning=!1},onWillPlayFromBeginning:function(){this.initialBitrateDataSent=!1,this.playerParams&&this.playerParams.ooyalaAds||this.mb.publish(e.EVENTS.VC_SET_INITIAL_TIME,e.VIDEO.MAIN,this.initialTime),this.playingAds||(this.mb.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,this.currentPlaybackElement),this.mb.publish(e.EVENTS.PLAY))},vcVideoElementCreated:function(t,i){this.currentPlaybackElement&&i.videoId===this.currentPlaybackElement&&(this.currentPlaybackElement===e.VIDEO.MAIN&&(this.mainVideoElementCreated=!0),this.currentPlaybackElementCreated=!0,this.tryPublishPlaybackReady())},tryPublishPlaybackReady:function(){var t=this.totalPrerollPods>0&&this.autoplayEnabled()&&this.runningAutoplayCheck&&!this.delayForPreroll,i=this.autoplayChecked||!t;if(!this.publishedPlaybackReady&&this.currentPlaybackElementCreated&&i&&this.amcAllReady){this.publishedPlaybackReady=!0,e.log("playbackready publishing, wait for autoplay check",t);var n=(new Date).valueOf()-this.playerCreatedTime;this.mb.publish(e.EVENTS.PLAYBACK_READY,n,{willAutoplay:this.shouldAutoplay()}),this.preloadStream()}},vcVideoElementDisposed:function(e,t){this.mobileContinuousPlayDisabled[t]=!0},setEmbedCode:function(e,t,i,n){this.contentChangeRequestedExternally=!!n},setAsset:function(e,t,i,n){this.contentChangeRequestedExternally=!!n},embedCodeChanged:function(e,t,i){this.prepareForContentChange(i),this.currentEmbedCode=t},assetChanged:function(e,t,i){this.prepareForContentChange(i),this.streams=this.getAssets(t),this.closedCaptions={closed_captions:t.content.captions.closed_captions,closed_captions_vtt:t.content.captions.closed_captions_vtt},this.dataReady()},prepareForContentChange:function(t){this.playerParams="object"===(0,n.default)(t)?t:{},this.clearBitrateTimers(),this.resetStreamData(),this.applyPlayerParams(),this.setAutoPlayParam(),this.willPlayFromBeginning=!0,this.hasContentSet=!0,this.initialPlayHasOccurred&&this.mb.publish(e.EVENTS.MARKER_DATA_AVAILABLE,{list:[]})},willResume:function(){this.mb.publish(e.EVENTS.VC_PLAY,this.currentPlaybackElement)},vcPlayFailed:function(t,i,n){if(this.currentPlaybackElement&&i===this.currentPlaybackElement){this.clearBitrateTimers();var a=window.MediaError?window.MediaError.MEDIA_ERR_ABORTED:1,r=window.MediaError?window.MediaError.MEDIA_ERR_NETWORK:2,s=window.MediaError?window.MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:4;this.mb.publish(e.EVENTS.PLAY_FAILED,n.mediaErrorCode);var o,l,c,u=parseInt(n.mediaErrorCode);switch(u){case-1:o="An unknown error has occurred.";break;case 0:o="No stream found.";break;case 1:o="Aborted by user.";break;case 2:o="A network error occurred retrieving the video source.";break;case 3:o="Error decoding source.";break;case 4:o="Source is unsupported.";break;case 5:o="Source could not be decrypted.";break;case 6:o="A DRM server error has occurred.";break;case 22:o="Device not registered to viewer account.";break;case 29:o="Device limit reached."}if(u===a||u===s)l=e.ERROR.PLAYBACK.GENERIC,c="Could not play the content.";else if(u===r)l=e.ERROR.PLAYBACK.NETWORK,c="The network connection was temporarily lost.";else if(6===u)l=e.ERROR.API.SAS.ERROR_DRM_RIGHTS_SERVER_ERROR,c="DRM server error.";else if(22===u)l=e.ERROR.API.SAS.ERROR_NON_REGISTERED_DEVICE,c="Device not registered to viewer account.";else if(29===u)l=e.ERROR.API.SAS.ERROR_DEVICE_LIMIT_REACHED,c="Device limit reached.";else if(this.contentTree)switch(this.contentTree.content_type){case"Video":l=e.ERROR.VC.UNSUPPORTED_ENCODING,c="This video encoding is not supported on your device";break;case"LiveStream":l=e.ERROR.PLAYBACK.LIVESTREAM,c="Live stream is off air.";break;default:l=e.ERROR.PLAYBACK.GENERIC,c="Could not play the content."}n.ooyalaErrorCode=l,n.ooyalaErrorMessage=c,n.mediaErrorMessage=o,this.mb.publish(e.EVENTS.ERROR,{code:l}),n.playhead>0?this.mb.publish(e.EVENTS.PLAYBACK_MIDSTREAM_ERROR,n):this.mb.publish(e.EVENTS.PLAYBACK_START_ERROR,n)}},vcError:function(t,i,n){if(this.currentPlaybackElement&&i===this.currentPlaybackElement){this.clearBitrateTimers();var a={};n.ooyalaErrorCode===e.ERROR.VC.UNSUPPORTED_ENCODING?(n.ooyalaErrorMessage="This device does not have an available decoder for this stream type.",a.code=n.ooyalaErrorCode):n.ooyalaErrorCode===e.ERROR.VC.UNABLE_TO_CREATE_VIDEO_ELEMENT?(n.ooyalaErrorMessage="A video element to play the given stream could not be created.",a.code=n.ooyalaErrorCode):a=n,n.playhead>0?this.mb.publish(e.EVENTS.PLAYBACK_MIDSTREAM_ERROR,n):this.mb.publish(e.EVENTS.PLAYBACK_START_ERROR,n),this.mb.publish(e.EVENTS.ERROR,a)}},vcWillPlay:function(t,i){this.playbackElements[i]&&(this.mb.publish(e.EVENTS.WILL_PLAY),e.isIos&&this.endScreenShown&&this.mb.publish(e.EVENTS.REPLAY),this.endScreenShown=!1,this.startBitrateStableTimer())},replay:function(t,i){this.endScreenShown=!1,this.bitrateOverrideTimer&&(clearTimeout(this.bitrateOverrideTimer),this.bitrateOverrideTimer=null),this.isBitrateOverrideReady.isBitrateOverridden=!1,this.initialTime=i||0,this.mb.publish(e.EVENTS.WILL_PLAY_FROM_BEGINNING),this.isVr&&this.mb.publish(e.EVENTS.MOVE_VR_TO_DIRECTION,e.VIDEO.MAIN,!0,"init")},vcPlayed:function(t,i){this.currentPlaybackElement&&i===this.currentPlaybackElement&&(this.clearBitrateTimers(),this.endScreenShown=!0,this.playedAtLeastOnce=!0,this.mb.publish(e.EVENTS.PLAYED))},vcPlaying:function(t,i){this.currentPlaybackElement&&i===this.currentPlaybackElement&&(this.initialBitrateDataSent||(this.initialBitrateDataSent=!0,this.mb.publish(e.EVENTS.BITRATE_INITIAL,this.currentBitrate),this.startBitrateTimers()),i===e.VIDEO.MAIN&&(!this.autoplayed||this.contentStarted||this.isAudioOnlyAsset||(this.fetchThumbnails(),this.shouldDisplayMarkers()&&this.loadMarkers()),this.contentStarted=!0),this.hasPlayed=!0,this.mobileContinuousPlayDisabled[i]=!1,this.mb.publish(e.EVENTS.PLAYING))},vcCanPlay:function(t,i){this.currentPlaybackElement===i&&this.mb.publish(e.EVENTS.CAN_PLAY)},vcPaused:function(t,i){this.clearBitrateTimers(),this.bitrateTimerPassed+=Date.now()-this.bitrateTimerStartTime,this.currentPlaybackElement&&i===this.currentPlaybackElement&&this.mb.publish(e.EVENTS.PAUSED)},vcSeeked:function(t,i,n){this.currentPlaybackElement&&i===this.currentPlaybackElement&&this.mb.publish(e.EVENTS.SEEKED,n)},played:function(){this.playedAtLeastOnce=!0,this.preloaded=!1,this.preloadStream(),this.triggerLoopPlay()},onAmcAllReady:function(e,t){this.amcAllReady=!0,t&&(this.totalPrerollPods=t.prerolls,this.totalPrerollPods||(this.prerollsDone=!0,this.preloadStream())),this.tryPublishPlaybackReady()},onAmcPrerollsDone:function(){this.prerollsDone=!0,this.preloadStream()},onSdkAdEvent:function(t,i,n,a){var r=(e.playerParams||{}).preloadThresholdEvent||this.PRELOAD_THRESHOLD_EVENT;this.finalPreroll&&n===r&&(this.reachedPrerollThresholdForPreloading=!0,this.preloadStream())},onAdPodStarted:function(e,t){this.refreshTimers=!0,this.clearBitrateTimers(),this.currentPodSize=t,this.currentPrerollPod++},onWillPlaySingleAd:function(e,t){t&&this.currentPrerollPod===this.totalPrerollPods&&t.indexInPod===this.currentPodSize&&!this.contentStarted&&(this.finalPreroll=!0)},onWillPlayAds:function(e){this.playingAds=!0},onAdsPlayed:function(e){this.playingAds=!1},onCancelGeoChecking:function(){"number"==typeof e.geoCheckingInterval&&(clearInterval(e.geoCheckingInterval),e.geoCheckingInterval=null)}}),e.registerModule("playbackController",function(e,t){return new r(e,t)})}(OO,OO._,OO.$)},{"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/typeof":18}],78:[function(e,t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=n(e("@babel/runtime/regenerator")),r=n(e("@babel/runtime/helpers/asyncToGenerator")),s=n(e("@babel/runtime/helpers/typeof"));!function(e,t,i){var n=function(){e.log.apply(this,i.merge(["VC:"],arguments))},o={},l={},c=t.bind(function(){var e=[];return t.each(l,function(t,i){t&&t.length>0&&e.push(i)}),e},this);e.Video={plugin:function(e){if(this.validate(e)){n("Registering video plugin:",e.name);for(var t=0;t<e.encodings.length;t++){var i=e.encodings[t];l[i]?l[i].push(e.name):l[i]=[e.name]}o[e.name]=e}},unregister:function(e){if(n("Removing a video plugin:",e),e&&o[e]){for(var i=0;i<o[e].encodings.length;i++){var a=o[e].encodings[i],r=l[a]?l[a].indexOf(e):-1;r>-1&&l[a].splice(r,1)}if(t.isFunction(o[e].destroy))try{o[e].destroy()}catch(t){n("Error destroying a video plugin",e,".",t)}delete o[e]}},validate:function(e){var i,a,r,l={name:"string",encodings:"object",features:"object",technology:"string"},c=["create"];function u(e){n(e)}function d(i,n){return!!t.isFunction(e[i])||(u("The video plugin '"+n+"' requires a '"+i+"' function"),!1)}if(!e)return u("The video plugin must be defined"),!1;if(!t.isObject(e))return u("The video plugin must be an object"),!1;for(var h in l)if(i=h,a=l[h],r=e.name,!(t.has(e,i)?(0,s.default)(e[i])===a||(u("The video plugin '"+r+"' property '"+i+"' should be type '"+a+"'"),0):(u("The video plugin '"+r+"' requires a '"+i+"' property"),0)))return!1;for(var A=0;A<c.length;A++)if(!d(c[A],e.name))return!1;return!o[e.name]||(u("The video plugin '"+e.name+"' has already been registered"),!1)},getRegisteredPlugins:function(){return o}},e.exposeStaticApi("Video",e.Video);var u=function(e,i,n){this.videoId=i,this.EVENTS=e.EVENTS,this.notify=t.bind(function(t,i){return e.notify(this.videoId,n,t,i)},this),this.markNotReady=t.bind(e.markNotReady,e,this.videoId),this.markReady=t.bind(e.markReady,e,this.videoId),this.PLUGIN_MAGIC="087d2ef5-9d39-43ed-a57a-16a312c87c0b"},d=function(s,d){this.IOS_PLAY_MODE_OPTIONS={INLINE:"inline",FULLSCREEN:"fullscreen"};var h=s,A=null,E=[],p=[],f=null;this.activeInstances={},this.focusVideoId=null;var T="",g=e.CONSTANTS.CLOSED_CAPTIONS.SHOWING;this.elementId=null,this.currentPlayhead=0,this.currentDuration=0,this.failoverPlayhead=0,this.handleFailover=!1,this.paused=!0,this.pauseAfterReload=!1,this.initialPlayTime=-1,this.hasPlayedAd=!1,this.isVideoTypeChanged=!1,this.startPositionVr=0,this.isVr=!1,this.initialPlayHasStarted=!1,this.defaultAudioTracks={},this.desiredPlaybackSpeed=1,this.vrVideoId=e.VIDEO.MAIN,this.ALLOWED_MULTI_AUDIO_ENCODINGS=[e.VIDEO.ENCODING.DASH,e.VIDEO.ENCODING.HLS,e.VIDEO.ENCODING.DRM.HLS,e.VIDEO.ENCODING.DRM.DASH],this.toString=function(){return"video-controller"};var y=function(e){this.plugin=e.plugin&&e.plugin.name,this.domId=oi(),this.supportedEncodings=e.plugin.encodings||[],this.parentContainer=e.parentContainer||f&&f.find(".innerWrapper")||null,this.wrapper=e.wrapper,this.sharedObjectToInstance=e.sharedObjectToInstance,this.isControllingObject=void 0===e.isControllingObject||e.isControllingObject,this.primedForUnmutedAutoPlayback=!1},m=function(e){this.plugin=e.plugin&&e.plugin.name,this.parentContainer=e.parentContainer,this.element=e.element||null,this.isControllingElement=!!e.isControllingElement,this.playhead=0,this.encoding=e.encoding||null,this.stream=e.stream||null,this.vtcInterface=e.vtcInterface||{},this.closedCaptions=e.closedCaptions||{},this.crossorigin=e.crossorigin||null,this.isLive=e.isLive||!1,this.params=e.params||{},this.playing=!1,this.disableNativeSeek=!1},_={},S={},O={},b=null,I=!0,v=[],N=1,D=!1,C=!1,R=null,L=!1,P=!1,w=this.IOS_PLAY_MODE_OPTIONS.FULLSCREEN,k=!1,V=null,B={},M={},F=!1,U=!1,x=null,H=!1,G={},Y=!1;this.EVENTS={PLAY:"play",CAN_PLAY:"canPlay",PLAYING:"playing",ENDED:"ended",ERROR:"error",SEEKING:"seeking",SEEKED:"seeked",PAUSED:"paused",PLAYBACK_RATE_CHANGE:"playbackRateChange",STALLED:"stalled",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",MUTE_STATE_CHANGE:"mutestatechange",BUFFERING:"buffering",BUFFERED:"buffered",DURATION_CHANGE:"durationchange",PROGRESS:"progress",WAITING:"waiting",FULLSCREEN_CHANGED:"fullScreenChanged",CAPTIONS_FOUND_ON_PLAYING:"captionsFoundOnPlaying",CAPTIONS_LANGUAGE_CHANGE:"captionsLanguageChange",ASSET_DIMENSION:"assetDimension",BITRATE_CHANGED:"bitrateChanged",BITRATES_AVAILABLE:"bitratesAvailable",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",METADATA_FOUND:"metadataFound",PLUGIN_LOADED:"pluginLoaded",TOUCH_MOVE:"touchMove",CHECK_VR_DIRECTION:"checkVrDirection",ON_DOWNLOAD_FINISHED:"onDownloadFinished",ON_SEGMENT_LOADED:"onSegmentLoaded",UNMUTED_PLAYBACK_FAILED:"unmutedPlaybackFailed",UNMUTED_PLAYBACK_SUCCEEDED:"unmutedPlaybackSucceeded",MUTED_PLAYBACK_FAILED:"mutedPlaybackFailed",MUTED_PLAYBACK_SUCCEEDED:"mutedPlaybackSucceeded",MULTI_AUDIO_AVAILABLE:"multiAudioAvailable",MULTI_AUDIO_CHANGED:"multiAudioChanged",SET_CURRENT_AUDIO:"setCurrentAudio"};var j="encodingPriority",W="initialVolume",K="pauseOnLiveAds",z="iosPlayMode",q="muteFirstPlay",X="initialPlaybackSpeed",Q="default",Z="pageLevel",J="backlot",$="backdoor",ee="ooyalaAds",te={};te[Q]=[e.VIDEO.ENCODING.DRM.DASH,e.VIDEO.ENCODING.DRM.HLS,e.VIDEO.ENCODING.DASH,e.VIDEO.ENCODING.HLS,e.VIDEO.ENCODING.AKAMAI_HD2_VOD_HLS,e.VIDEO.ENCODING.AKAMAI_HD2_HLS,e.VIDEO.ENCODING.MP4,e.VIDEO.ENCODING.YOUTUBE,e.VIDEO.ENCODING.HDS,e.VIDEO.ENCODING.WEBM,e.VIDEO.ENCODING.IMA,e.VIDEO.ENCODING.PULSE,e.VIDEO.ENCODING.AUDIO_HLS,e.VIDEO.ENCODING.AUDIO_M4A,e.VIDEO.ENCODING.AUDIO_OGG],te[ee]=[e.VIDEO.ENCODING.MP4];var ie=Q,ne=null,ae={width:"100%",height:"100%",position:"absolute",visibility:"hidden","z-index":e.CSS.VIDEO_Z_INDEX};e.isIos?ae.display=e.CSS.INVISIBLE_DISPLAY:ae.left="-100000px";var re=t.bind(function(){h.subscribe(e.EVENTS.PLAYER_CREATED,"vtc",se),h.subscribe(e.EVENTS.AD_SDK_IMPRESSION,"vtc",oe),h.subscribe(e.EVENTS.INITIAL_PLAY,"vtc",Se),h.subscribe(e.EVENTS.AUTOPLAY_CHECK_COMPLETE,"vtc",Oe),h.subscribe(e.EVENTS.EMBED_CODE_METADATA_FETCHED,"vtc",de),h.subscribe(e.EVENTS.METADATA_FETCHED,"vtc",he),h.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"vtc",Ae),h.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"vtc",Ee),h.subscribe(e.EVENTS.EMBED_CODE_CHANGED_AFTER_OOYALA_AD,"vtc",Ee),h.subscribe(e.EVENTS.ASSET_CHANGED,"vtc",pe),h.subscribe(e.EVENTS.PLAYBACK_READY,"vtc",fe),h.subscribe(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,"vtc",Ne),h.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"vtc",qe),h.subscribe(e.EVENTS.VC_UPDATE_ELEMENT_STREAM,"vtc",Ve),h.subscribe(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,"vtc",Xe),h.subscribe(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,"vtc",Je),h.subscribe(e.EVENTS.WILL_PLAY_ADS,"vtc",Ze),h.subscribe(e.EVENTS.ADS_PLAYED,"vtc",et),h.subscribe(e.EVENTS.VC_PRELOAD,"vtc",it),h.subscribe(e.EVENTS.VC_RELOAD,"vtc",nt),h.subscribe(e.EVENTS.VC_SET_INITIAL_TIME,"vtc",at),h.subscribe(e.EVENTS.VC_SET_VIDEO_STREAMS,"vtc",tt),h.subscribe(e.EVENTS.PLAY,"vtc",st),h.subscribe(e.EVENTS.VC_PLAY,"vtc",ot),h.subscribe(e.EVENTS.PLAY_VIDEO_ELEMENT,"vtc",lt),h.subscribe(e.EVENTS.PAUSE,"vtc",ct),h.subscribe(e.EVENTS.VC_PAUSE,"vtc",ut),h.subscribe(e.EVENTS.SEEK,"vtc",Et),h.subscribe(e.EVENTS.VC_SEEK,"vtc",pt),h.subscribe(e.EVENTS.CHANGE_VOLUME,"vtc",ft),h.subscribe(e.EVENTS.CHANGE_MUTE_STATE,"vtc",Tt),h.subscribe(e.EVENTS.PAGE_UNLOAD_REQUESTED,"vtc",St),h.subscribe(e.EVENTS.DISABLE_SEEKING,"vtc",bt),h.subscribe(e.EVENTS.ENABLE_SEEKING,"vtc",Ot),h.subscribe(e.EVENTS.SET_CLOSED_CAPTIONS_LANGUAGE,"vtc",It),h.subscribe(e.EVENTS.SET_TARGET_BITRATE,"vtc",wt),h.subscribe(e.EVENTS.DESTROY,"vtc",t.bind(this.onDestroy,this)),h.subscribe(e.EVENTS.LIVE_BUTTON_CLICKED,"vtc",Ie),h.subscribe(e.EVENTS.HA_WILL_FAILOVER,"vtc",ce),h.subscribe(e.EVENTS.HA_FAILOVER_ERROR,"vtc",le),h.subscribe(e.EVENTS.HA_ENABLED,"vtc",ue),h.subscribe(e.EVENTS.VC_RELOAD_AND_PLAY,"vtc",Fe),h.subscribe(e.EVENTS.TOGGLE_STEREO_VR,"vtc",yt),h.subscribe(e.EVENTS.TOGGLE_FULLSCREEN_VR,"vtc",mt),h.subscribe(e.EVENTS.TOUCH_MOVE,"vtc",dt),h.subscribe(e.EVENTS.END_VR_MOVE,"vtc",ht),h.subscribe(e.EVENTS.CHECK_VR_DIRECTION,"vtc",At),h.subscribe(e.EVENTS.MOVE_VR_TO_DIRECTION,"vtc",_t),h.subscribe(e.EVENTS.VIDEO_VR,"vtc",gt),h.subscribe(e.EVENTS.VIDEO_TYPE_CHANGED,"vtc",ve),h.subscribe(e.EVENTS.SET_CURRENT_AUDIO,"vtc",vt),h.subscribe(e.EVENTS.SKIN_CONFIG_LOADED,"vtc",Nt),h.subscribe(e.EVENTS.SET_PLAYBACK_SPEED,"vtc",Dt),h.subscribe(e.EVENTS.CHROMECAST_START_CAST,"vtc",Ct),h.subscribe(e.EVENTS.CHROMECAST_END_CAST,"vtc",Rt)},this),se=t.bind(function(t,n,a,r,s,o){this.elementId=n,V=s,f=i("#"+n),(_=a)&&(_[j]&&(te[Z]=_[j],ie=Z),void 0!==_[W]&&(N=parseFloat(_[W])),void 0!==_[K]&&(P=!_[K]),void 0!==_[z]&&(w=_[z]),!0!==_[q]&&"true"!==_[q]||(C=!0)),e.debug_tools=e.debug_tools||{},e.debug_tools[n]||(e.debug_tools[n]={}),e.debug_tools[n].video=hi},this),oe=t.bind(function(){this.hasPlayedAd=!0},this),le=t.bind(function(){h.publish(e.EVENTS.VC_ERROR,this.focusVideoId,{code:e.ERROR.PLAYBACK.LIVESTREAM})},this),ce=t.bind(function(){this.failoverPlayhead=this.currentPlayhead,this.handleFailover=!0},this),ue=t.bind(function(e,t){k=!!t},this),de=t.bind(function(e,t){M=t},this),he=t.bind(function(e,t){if(t&&t.base&&t.base[j]){var i=t.base[j];i=i.replace(/(&.+?;)|[ \[\]]/g,""),te[J]=i.split(","),ie!==Z&&(ie=J)}k=!1},this),Ae=t.bind(function(e,i,n){S=t.extend(S,i),i.movie_attributes&&(B=i.movie_attributes)},this),Ee=t.bind(function(t,i,n){for(var a=e.VIDEO.ENCODING.MP4,r=0;r<p.length;r++)Bt(p[r],"setVideoUrl",["",a,!1]);for(var s in this.defaultAudioTracks={},this.isVr=!1,this.isVideoTypeChanged=!1,V=i,te[J]=null,this.activeInstances)T=null,ti(s,{availableLanguages:[],locale:{}});if(n&&n.ooyalaAds?(ie!==ee&&(ne=ie),ie=ee):ie===J?ie=te[$]?$:Q:ie===ee&&(ie=te[ne]?ne:Q),n&&"number"==typeof n[X]){var o=n[X];Dt({},o)}L=!1,F=!1,H=!1},this),pe=t.bind(function(){L=!1},this),fe=t.bind(function(){L=!0},this),Te=t.bind(function(e){return"hls"===e||"dash"===e},this),ge=t.bind(function(){return!t.isEmpty(B)&&(!!B.ssai_enabled&&"1"===B.ssai_enabled)},this),ye=t.bind(function(){if(t.isEmpty(M)||t.isUndefined(M.attributes)||t.isUndefined(M.attributes.provider))return!1;var e=M.attributes.provider,i=e.ssai_vod_enabled_movie_level;if(i&&"false"!==i&&null!==V){var n=M.metadata[V].base.ssai_vod_enabled;if(n)return Te(n)}else if(e.ssai_vod_enabled)return Te(e.ssai_vod_enabled);return!1},this),me=t.bind(function(e){return e?ge():ye()},this),_e=t.bind(function(e){if(t.isEmpty(_))return e;var i=JSON.stringify(_);return e+"&player_params="+encodeURIComponent(i)},this),Se=t.bind(function(){var t=(0,r.default)(a.default.mark(function t(i,n,r){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(L=!0,this.initialPlayTime=n,F=r,r){t.next=6;break}return t.next=6,Promise.all([be(e.VIDEO.MAIN),be(e.VIDEO.ADS)]);case 6:case"end":return t.stop()}},t,this)}));return function(e,i,n){return t.apply(this,arguments)}}(),this),Oe=t.bind(function(e,t){if((G=t).unmuted)for(var i=0;i<p.length;i++)Bt(p[i],"notifyUnmutedContentAutoPlaybackSucceeded")},this),be=t.bind(function(){var e=(0,r.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.activeInstances[t]||!Ut(t)||this.activeInstances[t].element.primedForUnmutedAutoPlayback){e.next=5;break}return Bt(this.activeInstances[t].element,"load",[!0]),e.next=4,$t(t,this.activeInstances[t].encoding,this.activeInstances[t].stream,this.activeInstances[t].isLive);case 4:this.activeInstances[t].element.primedForUnmutedAutoPlayback=!0;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this),Ie=t.bind(function(){xt(this.focusVideoId,"onLiveClick")},this),ve=t.bind(function(){this.isVideoTypeChanged=!0},this),Ne=t.bind(function(){var i=(0,r.default)(a.default.mark(function i(r,s,c,u,d){var A,E,p,f,T,g,y,m,_;return a.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(d&&(d.technology||d.features)?(p=Ce(d.technology),f=Re(d.features),A=t.pick(o,t.intersection(p,f))):A=o,T=we(c,Le(A),Pe())){i.next=5;break}return h.publish(e.EVENTS.VC_ERROR,s,{ooyalaErrorCode:e.ERROR.VC.UNSUPPORTED_ENCODING,playhead:this.currentPlayhead}),i.abrupt("return");case 5:if(me(c.isLive)&&(c[T].url=_e(c[T].url)),n("For video '"+s+"', selected encoding '"+T+"', with stream url "+c[T].url),g=!(!this.focusVideoId||this.focusVideoId!==s),y=e.isSafari&&this.isVr,!(!!this.activeInstances[s]&&!!this.activeInstances[s].element)){i.next=26;break}if(y||!A[this.activeInstances[s].plugin]||!t.contains(this.activeInstances[s].element.supportedEncodings,T)||this.isVideoTypeChanged){i.next=23;break}return n("Element already existed and supports chosen encoding.  Setting new video url."),this.activeInstances[s].disableNativeSeek=!1,ii(s,d),i.next=17,$t(s,T,c[T],c.isLive);case 17:return ni(s,c[T].contentMetadata),e.isIos&&"main"===(E=this.activeInstances[s].element.sharedObjectToInstance)&&this.activeInstances[E].element&&(this.currentPlayhead=Bt(this.activeInstances[E].element,"getCurrentTime")),ke(s),i.abrupt("return");case 23:this.isVideoTypeChanged&&ii(s,d),n("Destroying existing element because some of major factors were changed."),Xe(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,s);case 26:if(m=t.intersection(l[T]||[],t.keys(A)),_=null,(null==m||m.length<1)&&T===e.VIDEO.ENCODING.UNKNOWN&&t.size(A)>0?_=A[t.keys(A)[0]]:m&&m.length>0&&t.size(A)>0&&(_=A[m[0]]),_=De(_,{videoId:s,validPlugins:A,encoding:T})){i.next=33;break}return h.publish(e.EVENTS.VC_ERROR,s,{ooyalaErrorCode:e.ERROR.VC.UNSUPPORTED_ENCODING,playhead:this.currentPlayhead}),i.abrupt("return");case 33:return n("For video '"+s+"', elected plugin '"+_.name+"'"),i.next=36,Ue(_,s,u,T,c[T],c.isLive,d);case 36:this.activeInstances[s]?(ke(s),g&&h.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,s),s!==e.VIDEO.MAIN&&s!==e.VIDEO.RELOAD||h.publish(e.EVENTS.HA_CONFIG_UPDATE,{focusVideoId:s,streams:c,chosenEncoding:T,plugin:_.name})):h.publish(e.EVENTS.VC_ERROR,s,{ooyalaErrorCode:e.ERROR.VC.UNABLE_TO_CREATE_VIDEO_ELEMENT,playhead:this.currentPlayhead});case 37:case"end":return i.stop()}},i,this)}));return function(e,t,n,a,r){return i.apply(this,arguments)}}(),this),De=t.bind(function(t,i){if(i){var n=i.encoding===e.VIDEO.ENCODING.HLS||i.encoding===e.VIDEO.ENCODING.DRM.HLS;(this.isVr||e.isAndroid4_4Plus&&n)&&i.videoId===e.VIDEO.MAIN&&i.validPlugins[e.VIDEO_PLAYERS.BIT_WRAPPER]&&(t=i.validPlugins[e.VIDEO_PLAYERS.BIT_WRAPPER])}return t},this),Ce=t.bind(function(e){if(!e)return t.keys(o);var i=[];for(var n in o)o[n].technology===e&&i.push(n);return i},this),Re=t.bind(function(e){if(!e||e.length<1)return t.keys(o);var i=[];for(var n in o){var a=t.difference(e,o[n].features);a&&0!==a.length||i.push(n)}return i},this),Le=t.bind(function(e){var i=[];for(var n in e)i=i.concat(o[n].encodings);return t.uniq(i)},this),Pe=t.bind(function(){var e=te[ie],t=i(c()).not(e).get();return e.concat(t)},this),we=t.bind(function(i,n,a){if(i&&!(t.size(i)<1)){for(var r={},s=0;s<n.length;s++){var o=n[s];i.hasOwnProperty(o)&&(r[o]=i[o])}for(var l=null,c=0;c<a.length;c++)if(r.hasOwnProperty(a[c])){l=a[c];break}return null==l&&i.hasOwnProperty(e.VIDEO.ENCODING.UNKNOWN)&&(l=e.VIDEO.ENCODING.UNKNOWN),l}},this),ke=t.bind(function(i){if(this.activeInstances&&this.activeInstances[i]&&this.activeInstances[i].element){var n=this.activeInstances[i].element,a=n.parentContainer&&n.parentContainer.length>0?n.parentContainer.find("#"+n.domId):[],r=this.activeInstances[i].stream?this.activeInstances[i].stream.url:null;t.delay(function(){h.publish(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,{videoId:i,encodings:n.supportedEncodings,parent:n.parentContainer,domId:n.domId,videoElement:a,streamUrl:r})},1)}},this),Ve=t.bind(function(e,t,i){this.activeInstances&&this.activeInstances[t]&&this.activeInstances[t].element&&this.activeInstances[t].stream&&(this.activeInstances[t].stream.url=i,$t(t,this.activeInstances[t].encoding,this.activeInstances[t].stream,this.activeInstances[t].isLive))},this),Be=t.bind(function(t,n){if(n===e.VIDEO.RELOAD){var a=this.activeInstances[e.VIDEO.MAIN].element;this.activeInstances[e.VIDEO.MAIN]=i.extend({},this.activeInstances[e.VIDEO.RELOAD]),this.activeInstances[e.VIDEO.MAIN].vtcInterface.videoId=e.VIDEO.MAIN,this.activeInstances[e.VIDEO.RELOAD].element=a,this.focusVideoId=e.VIDEO.RELOAD,h.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,e.VIDEO.MAIN),h.publish(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,e.VIDEO.RELOAD),this.pauseAfterReload&&(this.pauseAfterReload=!1,h.publish(e.EVENTS.PAUSE)),h.unsubscribe(e.EVENTS.VC_PLAYING,"vtc_t",Be),h.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"vtc_t",Me)}},this),Me=t.bind(function(t,i){i.videoId===e.VIDEO.RELOAD&&(h.subscribe(e.EVENTS.VC_PLAYING,"vtc_t",Be),h.publish(e.EVENTS.VC_PLAY,e.VIDEO.RELOAD))},this),Fe=t.bind(function(t,i){var a=this;if(this.focusVideoId&&this.activeInstances&&this.activeInstances[this.focusVideoId]&&this.activeInstances[this.focusVideoId].element&&i&&i[this.activeInstances[this.focusVideoId].encoding])if(this.focusVideoId===e.VIDEO.MAIN){h.publish(e.EVENTS.VC_WILL_RELOAD_AND_PLAY);var r=this.activeInstances[this.focusVideoId].encoding;if(i[r]&&(i[r].url=li(i[r].url)),h.publish(e.EVENTS.MULTI_AUDIO_CHANGED,{}),e.isIos||e.isSafari)return n("Trying to hard reload for ios or safari"),h.publish(e.EVENTS.VC_UPDATE_ELEMENT_STREAM,this.focusVideoId,i[r].url),h.publish(e.EVENTS.HA_CONFIG_UPDATE,{focusVideoId:this.focusVideoId,streams:i,chosenEncoding:r,plugin:this.activeInstances[this.focusVideoId].plugin}),void setTimeout(function(){return h.publish(e.EVENTS.PLAY,a.focusVideoId)});this.pauseAfterReload=!!this.paused,h.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"vtc_t",Me),Ne(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,e.VIDEO.RELOAD,i,this.activeInstances[this.focusVideoId].parentContainer,this.activeInstances[this.focusVideoId].params)}else n("not supported videoId for reload",this.focusVideoId);else n("invalid data for reload and play")},this),Ue=t.bind(function(t,i,n,a,r,s,o){if(!t||!i)return Promise.resolve();if(t.name===e.VIDEO_PLAYERS.BIT_WRAPPER&&k){var l=this;(o=o||{}).pluginParams=o.pluginParams||{},o.pluginParams[e.VIDEO_PLAYERS.BIT_WRAPPER]=o.pluginParams[e.VIDEO_PLAYERS.BIT_WRAPPER]||{},o.pluginParams[e.VIDEO_PLAYERS.BIT_WRAPPER].network=o.pluginParams[e.VIDEO_PLAYERS.BIT_WRAPPER].network||{},o.pluginParams[e.VIDEO_PLAYERS.BIT_WRAPPER].network.retryHttpRequest=function(e,n){var a=404;n&&n.request&&n.request.status&&(a=n.request.status);var r={type:"onDownloadFinished",timestamp:Date.now(),httpStatus:a,url:n&&n.url||"",size:0,downloadTime:0,attempt:2,success:!1,maxAttempts:"media/video"===e?3:1/0,mimeType:"media/video"===e?"video/mp4":null,downloadType:e};return l.notify(i,t,l.EVENTS.ON_DOWNLOAD_FINISHED,r),new Promise(function(e){setTimeout(function(){e(n.request)},1e3)})}}if(xe(t)){var c=Ge(t.technology);if(c&&this.activeInstances[c].plugin!==t.name){if(He(c,t))return this.activeInstances[c]?Ye(t,i,a,r,s,n,o,c):(h.publish(e.EVENTS.VC_ERROR,i,{ooyalaErrorCode:e.ERROR.VC.UNABLE_TO_CREATE_VIDEO_ELEMENT,playhead:this.currentPlayhead}),Promise.resolve())}else if(c)return We(t,i,a,r,s,o)}return t.maxSupportedElements>-1&&je(t.name)>=t.maxSupportedElements?We(t,i,a,r,s,o):Ke(t,i,n,a,r,s,o)},this),xe=t.bind(function(t){if(e.requiresSingleVideoElement&&(t.technology===e.VIDEO.TECHNOLOGY.HTML5||t.technology===e.VIDEO.TECHNOLOGY.MIXED))for(var i in this.activeInstances)if((o[this.activeInstances[i].plugin].technology===e.VIDEO.TECHNOLOGY.HTML5||o[this.activeInstances[i].plugin].technology===e.VIDEO.TECHNOLOGY.MIXED)&&this.activeInstances[i].element)return!0;return!1},this),He=t.bind(function(i,n){var a=t.contains(o[this.activeInstances[i].plugin].features,e.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_GIVE),r=t.contains(n.features,e.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_TAKE),s=o[this.activeInstances[i].plugin].technology===n.technology,l=n.technology!==e.VIDEO.TECHNOLOGY.MIXED;return a&&r&&s&&l},this),Ge=t.bind(function(i){var n=null;for(var a in this.activeInstances)if(o[this.activeInstances[a].plugin].technology===i&&this.activeInstances[a].element){if(t.contains(o[this.activeInstances[a].plugin].features,e.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_GIVE))return a;n=a}return n},this),Ye=t.bind(function(){var e=(0,r.default)(a.default.mark(function e(t,i,r,s,o,l,c,d){var h,A,E,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&i){e.next=2;break}return e.abrupt("return");case 2:return n("For video '"+i+"', sharing element with video '"+d+"'"),this.activeInstances[d].element.sharedObjectToInstance=i,h=new y({plugin:t,parentContainer:l,sharedObjectToInstance:d,isControllingObject:!1}),p.push(h),A=new u(this,i,t),this.activeInstances[i]?this.activeInstances[i].element=h:this.activeInstances[i]=new m({plugin:t,parentContainer:l,element:h,encoding:r,stream:s,isLive:o,vtcInterface:A,isControllingElement:!0,params:c}),c&&(ti(i,c.closedCaptions),Ht(i,c.crossorigin),A.authenticationData=c.authenticationData),E=this.activeInstances[d].element.domId,f=Jt(E),h.wrapper=t.createFromExisting(f,A,this.elementId),e.next=14,$t(i,r,s,o);case 14:ni(i,s.contentMetadata),G.unmuted&&Bt(this.activeInstances[i].element,"notifyUnmutedContentAutoPlaybackSucceeded");case 16:case"end":return e.stop()}},e,this)}));return function(t,i,n,a,r,s,o,l){return e.apply(this,arguments)}}(),this),je=t.bind(function(e){for(var t=0,i=0;i<p.length;i++)p[i].plugin===e&&t++;return t},this),We=t.bind(function(){var t=(0,r.default)(a.default.mark(function t(i,r,s,o,l,c){var d,h,A;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i&&r){t.next=2;break}return t.abrupt("return");case 2:d=null,h=0;case 4:if(!(h<p.length)){t.next=11;break}if(p[h].plugin!==i.name){t.next=8;break}return d=p[h],t.abrupt("break",11);case 8:h++,t.next=4;break;case 11:if(d){t.next=13;break}return t.abrupt("return");case 13:if(n("For video '"+r+"', sharing existing element with index "+h),A=new u(this,r,i),this.activeInstances[r]?this.activeInstances[r].element=d:this.activeInstances[r]=new m({plugin:i,parentContainer:d.parentContainer,element:d,encoding:s,stream:o,isLive:l,vtcInterface:A,params:c}),c&&(ti(r,c.closedCaptions),Ht(r,c.crossorigin),A.authenticationData=c.authenticationData),r!==e.VIDEO.MAIN||L){t.next=21;break}return Zt(r),t.next=21,$t(r,s,o,l);case 21:ni(r,o.contentMetadata),G.unmuted&&Bt(this.activeInstances[r].element,"notifyUnmutedContentAutoPlaybackSucceeded");case 23:case"end":return t.stop()}},t,this)}));return function(e,i,n,a,r,s){return t.apply(this,arguments)}}(),this),Ke=t.bind(function(){var e=(0,r.default)(a.default.mark(function e(t,i,n,r,s,o,l){var c,d,h,A;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&i){e.next=2;break}return e.abrupt("return");case 2:return c=new y({plugin:t,parentContainer:n}),p.push(c),d=new u(this,i,t),this.activeInstances[i]?this.activeInstances[i].element=c:this.activeInstances[i]=new m({plugin:t,parentContainer:c.parentContainer,element:c,encoding:r,stream:s,isLive:o,vtcInterface:d,isControllingElement:!0,params:l}),h={},l&&(ti(i,l.closedCaptions),Ht(i,l.crossorigin),d.authenticationData=l.authenticationData,h=l.pluginParams||{}),A=h[t.name]||{},this.isVr&&(w=this.IOS_PLAY_MODE_OPTIONS.INLINE),A.iosPlayMode=w,c.wrapper=t.create(c.parentContainer,c.domId,d,ae,this.elementId,A),e.next=14,$t(i,r,s,o);case 14:ni(i,s.contentMetadata),ui(i),G.unmuted&&Bt(this.activeInstances[i].element,"notifyUnmutedContentAutoPlaybackSucceeded");case 17:case"end":return e.stop()}},e,this)}));return function(t,i,n,a,r,s,o){return e.apply(this,arguments)}}(),this),ze=t.bind(function(t,i){return U=!0,i&&(x=t),setTimeout(function(){return h.publish(e.EVENTS.CHANGE_MUTE_STATE,!0,t)}),!0},this),qe=t.bind(function(t,i){var n=i.videoId;C&&(h.publish(e.EVENTS.CHANGE_MUTE_STATE,!0,n),U=!0),Gt(n)},this),Xe=t.bind(function(i,n){if(n){if(this.focusVideoId===n&&$e(n),Wt(n),this.activeInstances[n]){var a=this.activeInstances[n].element;this.isVr&&e.isIos&&this.focusVideoId===e.VIDEO.MAIN&&n===e.VIDEO.ADS&&(a=this.activeInstances[this.focusVideoId].element),delete this.activeInstances[n],a&&!Qe(a)&&(Bt(a,"destroy",[]),p=t.without(p,a),a=null)}this.isVideoTypeChanged||h.publish(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,n)}},this),Qe=t.bind(function(e){if(!e)return!1;for(var t in this.activeInstances)if(this.activeInstances[t]&&this.activeInstances[t].element&&this.activeInstances[t].element===e)return!0;return!1},this),Ze=t.bind(function(t,i){e.isIos&&i&&i.duration>0&&It("","",{mode:g})},this),Je=t.bind(function(i,n,a){if(n&&this.focusVideoId===n)h.publish(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,n);else if(this.focusVideoId&&(P&&this.focusVideoId===e.VIDEO.MAIN&&this.activeInstances[this.focusVideoId]&&this.activeInstances[this.focusVideoId].isLive&&!xe(o[this.activeInstances[this.focusVideoId].plugin])?(R=null===N?1:N,xt(this.focusVideoId,"setVolume",[0,D])):$e(this.focusVideoId)),this.focusVideoId=null,n&&this.activeInstances[n]){this.focusVideoId=n,this.focusVideoId===e.VIDEO.MAIN&&null!==R&&xt(this.focusVideoId,"setVolume",[R,D]),a&&n===e.VIDEO.MAIN&&(this.activeInstances[n].isControllingElement=!1),Zt(n);var r={visibility:"visible"};e.isIos?r.display=e.CSS.VISIBLE_DISPLAY:r.left="0px",Bt(this.activeInstances[n].element,"applyCss",[r]),e.isIos?t.delay(function(){h.publish(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,n)},1):h.publish(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,n),this.defaultAudioTracks[n]&&h.publish(e.EVENTS.SET_CURRENT_AUDIO,n,this.defaultAudioTracks[n]),It("",T,{mode:g})}},this),$e=t.bind(function(t){if(t&&this.activeInstances&&this.activeInstances[t]&&this.activeInstances[t].element){this.focusVideoId===e.VIDEO.ADS&&null!==R&&xt(e.VIDEO.MAIN,"setVolume",[R,D]),e.requiresSingleVideoElement||h.publish(e.EVENTS.VC_PAUSE,t,"transition"),this.focusVideoId=null;var i={visibility:"hidden"};e.isIos?i.display=e.CSS.INVISIBLE_DISPLAY:i.left="-100000px",Bt(this.activeInstances[t].element,"applyCss",[i]),Bt(this.activeInstances[t].element,"setClosedCaptionsMode",[e.CONSTANTS.CLOSED_CAPTIONS.DISABLED]),h.publish(e.EVENTS.VC_VIDEO_ELEMENT_LOST_FOCUS,t)}},this),et=t.bind(function(e){this.activeInstances[this.focusVideoId]&&Bt(this.activeInstances[this.focusVideoId].element,"onAdsPlayed")},this),tt=t.bind(function(t,i,n,a){if(i&&this.activeInstances&&this.activeInstances[i]&&this.activeInstances[i].element)if(n){var r=we(n,this.activeInstances[i].element.supportedEncodings,Pe());r?$t(i,r,n[r],a||this.activeInstances[i].isLive):h.publish(e.EVENTS.VC_ERROR,i,{ooyalaErrorCode:e.ERROR.VC.UNSUPPORTED_ENCODING,playhead:this.currentPlayhead})}else $t(i,"",{url:""},!1)},this),it=t.bind(function(t,i){e.log("VTC: Video preload called."),xt(i,"load",[!1])},this),nt=t.bind(function(e,t){xt(t,"load",[!1])},this),at=t.bind(function(e,t,i){this.activeInstances&&this.activeInstances[t]&&this.activeInstances[t].element&&Bt(this.activeInstances[t].element,"setInitialTime",[i])},this),rt=t.bind(function(e){Ut(e)&&(Bt(this.activeInstances[e].element,"primeVideoElement",[]),this.activeInstances[e].element.primedForUnmutedAutoPlayback=!0)},this),st=t.bind(function(t,i){H&&(H=!1,rt(e.VIDEO.MAIN)),h.publish(e.EVENTS.VC_PLAY,i||this.focusVideoId)},this),ot=t.bind(function(){var t=(0,r.default)(a.default.mark(function t(i,n,r){var s,o,l,c,u;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.activeInstances&&this.activeInstances[n]){t.next=2;break}return t.abrupt("return");case 2:if(s=!this.activeInstances[n].playing&&F,o=s&&!1===G.unmuted&&!D&&(!this.activeInstances[n].element||!this.activeInstances[n].element.primedForUnmutedAutoPlayback),l=s&&!1===G.muted&&(!this.activeInstances[n].element||!this.activeInstances[n].element.primedForUnmutedAutoPlayback),c=!1,u=Bt(this.activeInstances[n].element,"isMuted",[]),this.activeInstances[n].playing,o||l||(c=D&&!u,h.publish(e.EVENTS.CHANGE_MUTE_STATE,D,n)),"number"==typeof N&&h.publish(e.EVENTS.CHANGE_VOLUME,N,n),r&&(this.activeInstances[n].stream?this.activeInstances[n].stream.url=r:this.activeInstances[n].stream={url:r}),Zt(n),!(this.activeInstances[n].stream&&this.activeInstances[n].stream.url&&this.activeInstances[n].plugin!==e.VIDEO_PLAYERS.BIT_WRAPPER)){t.next=15;break}return t.next=14,$t(n,this.activeInstances[n].encoding,this.activeInstances[n].stream,this.activeInstances[n].isLive);case 14:this.activeInstances[n].playing=!0;case 15:l?(e.log("VTC: notifying of muted playback failure on initial play because test showed we cannot autoplay"),this.notify(n,"",this.EVENTS.MUTED_PLAYBACK_FAILED)):o?(e.log("VTC: notifying of unmuted playback failure on initial play because test showed we need to mute"),this.notify(n,"",this.EVENTS.UNMUTED_PLAYBACK_FAILED)):c?x=n:h.publish(e.EVENTS.PLAY_VIDEO_ELEMENT,n);case 16:case"end":return t.stop()}},t,this)}));return function(e,i,n){return t.apply(this,arguments)}}(),this),lt=t.bind(function(e,t){if(this.activeInstances&&this.activeInstances[t]){var i=Math.abs(this.failoverPlayhead-this.currentDuration)<1;this.handleFailover&&!i&&(xt(t,"handleFailover",[this.failoverPlayhead]),this.handleFailover=!1),Bt(this.activeInstances[t].element,"play",[]),ui(t)}},this),ct=t.bind(function(t,i){h.publish(e.EVENTS.VC_PAUSE,i||this.focusVideoId)},this),ut=t.bind(function(e,t){xt(t,"pause",[]),this.isVr&&_t(e,t,!1)},this),dt=t.bind(function(t,i,n,a,r){var s=i;i&&i!==e.VIDEO.ADS||(s=e.VIDEO.MAIN),xt(s,"setVrViewingDirection",[{yaw:n,roll:a,pitch:r}])},this),ht=t.bind(function(t,i){var n=i;i||(n=e.VIDEO.MAIN),xt(n,"onEndVrMove")}),At=t.bind(function(t,i,n){i!==e.VIDEO.ADS&&(this.vrVideoId=i);var a=xt(this.vrVideoId,"getIsVideoMoving",[]),r=n||a?"getVrViewingDirection":"getCurrentDirection",s=xt(this.vrVideoId,r)||{yaw:0,roll:0,pitch:0};h.publish(e.EVENTS.VR_DIRECTION_CHANGED,s.yaw,s.roll,s.pitch)},this),Et=t.bind(function(t,i,n){var a=n||this.focusVideoId;h.publish(e.EVENTS.VC_SEEK,a,i)},this),pt=t.bind(function(e,t,i){t&&this.activeInstances[t]&&this.activeInstances[t].element&&this.activeInstances[t].element.wrapper&&xt(t,"seek",[i])},this),ft=t.bind(function(e,t,i){if("number"!=typeof t||t<0||t>1)n("Can not assign volume with invalid value",t);else if(N=t,i)xt(i,"setVolume",[N,D]);else for(var a=0;a<p.length;a++)Bt(p[a],"setVolume",[N,D])},this),Tt=t.bind(function(){var t=(0,r.default)(a.default.mark(function t(i,n,r,s){var l,c,u;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=D,D=n,C&&!n&&s&&(C=!1),!F||n||!l||!s){t.next=12;break}if(c=this.activeInstances&&this.activeInstances[e.VIDEO.MAIN]&&this.activeInstances[e.VIDEO.MAIN].plugin&&xe(o[this.activeInstances[e.VIDEO.MAIN].plugin]),this.initialPlayHasStarted){t.next=10;break}if(c){t.next=10;break}return t.next=9,be(e.VIDEO.MAIN);case 9:e.isAndroid&&rt(e.VIDEO.MAIN);case 10:this.activeInstances&&this.activeInstances[e.VIDEO.ADS]&&this.activeInstances[e.VIDEO.ADS].element&&(this.activeInstances[e.VIDEO.ADS].element.primedForUnmutedAutoPlayback=!0),xt(e.VIDEO.ADS,"unmute",[s]);case 12:if(n||(U=!1),r)n?xt(r,"mute"):(s&&this.activeInstances&&this.activeInstances[r]&&this.activeInstances[r].element&&(this.activeInstances[r].element.primedForUnmutedAutoPlayback=!0),xt(r,"unmute",[s]));else for(u=0;u<p.length;u++)n?Bt(p[u],"mute"):(s&&(p[u].primedForUnmutedAutoPlayback=!0),Bt(p[u],"unmute",[s]));case 14:case"end":return t.stop()}},t,this)}));return function(e,i,n,a){return t.apply(this,arguments)}}(),this),gt=t.bind(function(t,i){this.isVr=!0,i&&i.source&&i.source.vr&&i.source.vr.startPosition&&(this.startPositionVr=i.source.vr.startPosition),xt(e.VIDEO.MAIN,"setVrViewingDirection",[{yaw:this.startPositionVr}]),this.desiredPlaybackSpeed=1},this),yt=t.bind(function(){p.forEach(function(e){Bt(e,"toggleStereoVr",[])})},this),mt=t.bind(function(e,t){xt(t,"toggleFullscreen",[])},this),_t=t.bind(function(e,t,i,n){xt(t,"moveVrToDirection",[i,n])},this),St=t.bind(function(){si()},this),Ot=t.bind(function(e,t){t&&this.activeInstances[t]&&(this.activeInstances[t].disableNativeSeek=!1,this.activeInstances[t].isControllingElement&&this.activeInstances[t].element&&this.activeInstances[t].element.isControllingObject&&this.activeInstances[t].element.wrapper&&(this.activeInstances[t].element.wrapper.disableNativeSeek=!1))},this),bt=t.bind(function(e,t){t&&this.activeInstances[t]&&(this.activeInstances[t].disableNativeSeek=!0,this.activeInstances[t].isControllingElement&&this.activeInstances[t].element&&this.activeInstances[t].element.isControllingObject&&this.activeInstances[t].element.wrapper&&(this.activeInstances[t].element.wrapper.disableNativeSeek=!0))},this),It=t.bind(function(t,i,n){var a=n||{};if(null==a.mode&&(a.mode=e.CONSTANTS.CLOSED_CAPTIONS.SHOWING),T=i,g=a.mode,this.focusVideoId&&a.mode===e.CONSTANTS.CLOSED_CAPTIONS.DISABLED)xt(this.focusVideoId,"setClosedCaptionsMode",[a.mode]);else if(this.activeInstances[this.focusVideoId]){(e.isIphone||e.isIpad)&&(a.isFullScreen||a.isGoingFullScreen)&&a.mode===e.CONSTANTS.CLOSED_CAPTIONS.HIDDEN&&(a.mode=e.CONSTANTS.CLOSED_CAPTIONS.SHOWING),xt(this.focusVideoId,"setClosedCaptions",[i,this.activeInstances[this.focusVideoId].closedCaptions,a])}},this),vt=t.bind(function(e,t,i){i&&i.id&&(xt(t,"setAudio",[i.id]),this.defaultAudioTracks[t]=i)},this),Nt=t.bind(function(e,i,n){O=t.extend(O,i)},this),Dt=t.bind(function(t,i){if(e.isValidPlaybackSpeed(i)){var n=this.activeInstances[e.VIDEO.MAIN]&&this.activeInstances[e.VIDEO.MAIN].isLive;this.isVr||n?this.desiredPlaybackSpeed=1:this.desiredPlaybackSpeed=i,this.activeInstances[e.VIDEO.MAIN]&&this.activeInstances[e.VIDEO.MAIN].element&&Bt(this.activeInstances[e.VIDEO.MAIN].element,"setPlaybackSpeed",[this.desiredPlaybackSpeed])}else e.log("Playback speed was not valid. Will be ignored.",i)},this),Ct=t.bind(function(e){Y=!0,Lt()},this),Rt=t.bind(function(e){Y=!1,Pt()},this),Lt=function(){h.unsubscribe(e.EVENTS.PLAY,"vtc",st),h.unsubscribe(e.EVENTS.PAUSE,"vtc",ct),h.unsubscribe(e.EVENTS.SEEK,"vtc",Et)},Pt=function(){h.subscribe(e.EVENTS.PLAY,"vtc",st),h.subscribe(e.EVENTS.PAUSE,"vtc",ct),h.subscribe(e.EVENTS.SEEK,"vtc",Et)},wt=t.bind(function(i,n,a,r){var s=r||this.focusVideoId;s&&t.contains(o[this.activeInstances[s].plugin].features,e.VIDEO.FEATURE.BITRATE_CONTROL)&&xt(s,"setBitrate",[n])},this);this.onDestroy=function(){for(var t in this.activeInstances)Xe(e.EVENTS.DESTROY,t)},this.notify=function(i,a,r,s){if(!Y){var o=s||{};switch(r){case this.EVENTS.PLAY:h.publish(e.EVENTS.VC_WILL_PLAY,i,o.url);break;case this.EVENTS.CAN_PLAY:h.publish(e.EVENTS.VC_CAN_PLAY,i);break;case this.EVENTS.PLAYING:if(e.log("Video Id on play: "+i),this.paused=!1,!this.initialPlayHasStarted&&i===e.VIDEO.MAIN){this.initialPlayHasStarted=!0;var l=this.activeInstances[i].stream.drm,c="none";for(var u in l)l[u]&&!t.isEmpty(l[u])&&(c=u);var d=this.activeInstances[i].element.plugin;h.publish(e.EVENTS.INITIAL_PLAY_STARTING,Date.now()-this.initialPlayTime,F,this.hasPlayedAd,this.currentPlayhead,d,a.technology,this.activeInstances[i].encoding,this.activeInstances[i].stream.url,c,this.activeInstances[i].isLive)}this.activeInstances[i]&&(this.activeInstances[i].playing=!0),h.publish(e.EVENTS.VC_PLAYING,i);break;case this.EVENTS.ENDED:this.activeInstances[i]&&(this.activeInstances[i].playing=!1),h.publish(e.EVENTS.VC_PLAYED,i),h.publish(e.EVENTS.CANCEL_GEO_CHECKING),this.isVr&&_t(r,i,!1);break;case this.EVENTS.ERROR:this.markReady(i),this.activeInstances[i]&&(this.activeInstances[i].playing=!1),0==+o.errorcode&&h.publish(e.EVENTS.HA_FAILOVER_NOW),ai(o,i);break;case this.EVENTS.SEEKING:h.publish(e.EVENTS.VC_SEEKING,i);break;case this.EVENTS.SEEKED:if(this.activeInstances[i]){var A=Bt(this.activeInstances[i].element,"getCurrentTime");h.publish(e.EVENTS.VC_SEEKED,i,A)}break;case this.EVENTS.PAUSED:this.paused=!0,h.publish(e.EVENTS.VC_PAUSED,i);break;case this.EVENTS.PLAYBACK_RATE_CHANGE:h.publish(e.EVENTS.PLAYBACK_SPEED_CHANGED,i,o.playbackRate);break;case this.EVENTS.TIME_UPDATE:if("number"!=typeof o.duration)return;if("number"!=typeof o.currentTime)return;var E;this.activeInstances[i].isLive&&(E=o.currentLiveTime,this.currentDuration=o.duration),this.currentPlayhead=o.currentTime,h.publish(e.EVENTS.PLAYHEAD_TIME_CHANGED,o.currentTime,o.duration,o.buffer,o.seekRange,i,E);break;case this.EVENTS.VOLUME_CHANGE:h.publish(e.EVENTS.VOLUME_CHANGED,o.volume,i);break;case this.EVENTS.MUTE_STATE_CHANGE:e.isIos&&D!==o.muted&&h.publish(e.EVENTS.CHANGE_MUTE_STATE,o.muted,i,!0),h.publish(e.EVENTS.MUTE_STATE_CHANGED,o.muted,i,U),x===i&&!0===o.muted&&(x=null,h.publish(e.EVENTS.PLAY_VIDEO_ELEMENT,i));break;case this.EVENTS.BUFFERING:h.publish(e.EVENTS.BUFFERING,o.url,i,this.currentPlayhead);break;case this.EVENTS.BUFFERED:h.publish(e.EVENTS.BUFFERED,o.url,i);break;case this.EVENTS.DURATION_CHANGE:if("number"!=typeof o.duration)return;h.publish(e.EVENTS.PLAYHEAD_TIME_CHANGED,o.currentTime,o.duration,o.buffer,o.seekRange,i);break;case this.EVENTS.PROGRESS:h.publish(e.EVENTS.DOWNLOADING,o.currentTime,o.duration,o.buffer,o.seekRange,i);break;case this.EVENTS.STALLED:h.publish(e.EVENTS.STALLED);break;case this.EVENTS.WAITING:h.publish(e.EVENTS.BUFFERING,o.url,i,this.currentPlayhead);break;case this.EVENTS.FULLSCREEN_CHANGED:h.publish(e.EVENTS.FULLSCREEN_CHANGED,o.isFullScreen,o.paused,i),It("",T,{mode:g,isFullScreen:o.isFullScreen});break;case this.EVENTS.CAPTIONS_LANGUAGE_CHANGE:o.language&&h.publish(e.EVENTS.CHANGE_CLOSED_CAPTION_LANGUAGE,o.language,{forceEnabled:!0});break;case this.EVENTS.CAPTIONS_FOUND_ON_PLAYING:if(this.activeInstances[i]&&s){Ht(i,"anonymous");var p={videoId:i,languages:[],locale:{}};this.activeInstances[i].closedCaptions&&this.activeInstances[i].closedCaptions.availableLanguages&&this.activeInstances[i].closedCaptions.locale&&(p.languages=this.activeInstances[i].closedCaptions.availableLanguages,p.locale=this.activeInstances[i].closedCaptions.locale),p.languages=t.union(p.languages,s.languages),p.locale=t.extend(p.locale,s.locale),h.publish(e.EVENTS.CLOSED_CAPTIONS_INFO_AVAILABLE,p)}break;case this.EVENTS.ASSET_DIMENSION:"number"==typeof o.width&&o.width>0&&"number"==typeof o.height&&o.height>0&&(t.extend(o,{videoId:i}),h.publish(e.EVENTS.ASSET_DIMENSION,o));break;case this.EVENTS.BITRATES_AVAILABLE:var f=t.isArray(s)?s.slice():[];f.sort(function(t,i){var n=t||{},a=i||{},r=e.ensureNumber(n.width,1)*e.ensureNumber(n.height,1),s=e.ensureNumber(a.width,1)*e.ensureNumber(a.height,1),o=e.ensureNumber(n.bitrate,0),l=e.ensureNumber(a.bitrate,0);return s-r||l-o}),h.publish(e.EVENTS.BITRATE_INFO_AVAILABLE,{bitrates:f},i);break;case this.EVENTS.BITRATE_CHANGED:ci(s)?h.publish(e.EVENTS.BITRATE_CHANGED,s):n("Invalid bitrate object reported",s);break;case this.EVENTS.CLOSED_CAPTION_CUE_CHANGED:if("string"!=typeof s)return;h.publish(e.EVENTS.CLOSED_CAPTION_CUE_CHANGED,s);break;case this.EVENTS.METADATA_FOUND:s.type&&s.data&&h.publish(e.EVENTS.VC_TAG_FOUND,i,s.type,s.data);break;case this.EVENTS.PLUGIN_LOADED:s.name&&s.time&&h.publish(e.EVENTS.PLUGIN_LOADED,e.PLUGINS.VIDEO,s.name,s.time);break;case this.EVENTS.ON_DOWNLOAD_FINISHED:h.publish(e.EVENTS.HA_NOTIFY,"requestCompleted",s);break;case this.EVENTS.ON_SEGMENT_LOADED:h.publish(e.EVENTS.HA_NOTIFY,"segmentLoaded",s);break;case this.EVENTS.UNMUTED_PLAYBACK_FAILED:e.log("Unmuted playback failed, attempting muted autoplay"),F&&(G.unmuted=!1,ze(i,!0));break;case this.EVENTS.UNMUTED_PLAYBACK_SUCCEEDED:i===e.VIDEO.MAIN&&F&&!this.initialPlayHasStarted&&void 0===G.unmuted&&h.publish(e.EVENTS.AUTOPLAY_CHECK_COMPLETE,{unmuted:!0,muted:!0});break;case this.EVENTS.MUTED_PLAYBACK_FAILED:e.log("Muted playback failed"),i===e.VIDEO.MAIN&&F&&!this.initialPlayHasStarted&&void 0===G.muted&&h.publish(e.EVENTS.AUTOPLAY_CHECK_COMPLETE,{muted:!1,unmuted:!1}),F&&(F=!1,H=e.isAndroid,C?(h.publish(e.EVENTS.CHANGE_MUTE_STATE,!0,i),U=!0):h.publish(e.EVENTS.CHANGE_MUTE_STATE,!1,i),this.notify(i,a,this.EVENTS.PAUSED));break;case this.EVENTS.MUTED_PLAYBACK_SUCCEEDED:i===e.VIDEO.MAIN&&F&&!this.initialPlayHasStarted&&void 0===G.muted&&h.publish(e.EVENTS.AUTOPLAY_CHECK_COMPLETE,{muted:!0});break;case this.EVENTS.MULTI_AUDIO_AVAILABLE:var y=!1;if(null!==this.activeInstances[i]&&(y=Mt(this.activeInstances[i].encoding,this.ALLOWED_MULTI_AUDIO_ENCODINGS)),y){var m=s,b=m.map(function(t){var i=e.normalizeLanguageCode(t.lang);return{id:t.id,lang:i,label:t.label,enabled:t.enabled}}),I={localStorage:e.localStorage,pageLevelParams:_,skinConfig:O,contentTree:S};this.defaultAudioTracks[i]=e.getDefaultTrack(b,I),h.publish(e.EVENTS.MULTI_AUDIO_FETCHED,{tracks:m,languageList:e.LANGUAGE_LIST}),h.publish(e.EVENTS.SET_CURRENT_AUDIO,i,this.defaultAudioTracks[i])}else Ft();break;case this.EVENTS.MULTI_AUDIO_CHANGED:var v=s;h.publish(e.EVENTS.MULTI_AUDIO_CHANGED,{tracks:v})}}},this.markNotReady=function(t){t&&this.activeInstances[t]&&!L&&(E.push(t),null===A&&(h.addDependent(e.EVENTS.PLAYBACK_READY,e.EVENTS.VC_READY,"vtc",kt),A=setTimeout(Vt,3e3)))},this.markReady=function(i){null===A&&0===E.length||0===(E=i?t.without(E,i):[]).length&&(null!==A&&(clearTimeout(A),A=null),h.publish(e.EVENTS.VC_READY))};var kt=function(e,t,i,n){return i},Vt=t.bind(function(){this.markReady()},this),Bt=function(e,i,n){if(e){var a=e.wrapper;if(a){try{if(t.isFunction(a[i]))return a[i].apply(a,n)}catch(t){console.warn("Video tech plugin",e&&e.plugin,"at function '"+i+"' threw exception - ",t)}return null}}},Mt=t.bind(function(e,i){if(t.isString(e)&&t.isArray(i))for(var n=0;n<i.length;n++)if(e===i[n])return!0;return!1},this),Ft=t.bind(function(){h.publish(e.EVENTS.MULTIAUDIO_ERROR,this.focusVideoId,{code:e.ERROR.MULTIAUDIO.UNSUPPORTED_ENCODING})},this),Ut=t.bind(function(e){return!!(this.activeInstances[e]&&this.activeInstances[e].element&&this.activeInstances[e].isControllingElement)},this),xt=t.bind(function(e,t,i){if(Ut(e))return Bt(this.activeInstances[e].element,t,i)},this),Ht=t.bind(function(e,t){this.activeInstances[e]&&(this.activeInstances[e].crossorigin=t,Gt(e))},this),Gt=t.bind(function(e){this.activeInstances[e]&&(this.activeInstances[e].crossorigin?xt(e,"setCrossorigin",[this.activeInstances[e].crossorigin]):xt(e,"setCrossorigin",[null]))},this),Yt=t.bind(function(e){var t=jt(e);Gt(e),this.activeInstances[e].element.wrapper.controller=this.activeInstances[e].vtcInterface,zt(this.activeInstances[e],t)},this),jt=t.bind(function(e){var t=this.activeInstances[e];if(t.isControllingElement)return t;var i,a=null;for(i in this.activeInstances)if(this.activeInstances[i]&&this.activeInstances[i].element&&this.activeInstances[i].element===t.element&&this.activeInstances[i].isControllingElement){a=this.activeInstances[i];break}return n("Switching element between instances.  From: '"+i+"', To: '"+e+"'"),t.isControllingElement=!0,a?(a.isControllingElement=!1,a):void 0},this),Wt=t.bind(function(e){var t=this.activeInstances[e];if(t&&t.isControllingElement){var i=null;for(var n in this.activeInstances)if(this.activeInstances[n]&&this.activeInstances[n].element&&this.activeInstances[n].element===t.element&&!this.activeInstances[n].isControllingElement){i=this.activeInstances[n];break}t.isControllingElement=!1,i&&(i.isControllingElement=!0)}},this),Kt=t.bind(function(e){if(!this.activeInstances[e].element.isControllingObject){var t=this.activeInstances[e].element.sharedObjectToInstance;n("Switching wrapper between elements.  From: '"+t+"', To: '"+e+"'"),Bt(this.activeInstances[t].element,"sharedElementGive",[]),this.activeInstances[t].element.isControllingObject=!1,Bt(this.activeInstances[e].element,"sharedElementTake",[]),this.activeInstances[e].element.isControllingObject=!0,zt(this.activeInstances[e],this.activeInstances[t])}},this),zt=t.bind(function(i,n){if(n&&(!0===n.playing?(n.playhead=Bt(n.element,"getCurrentTime"),e.isIos&&0===n.playhead&&(n.playhead=this.currentPlayhead,this.currentPlayhead=0)):n.playhead=0),i.stream){var a=i.stream,r=i.encoding,s=i.isLive;xt(i.element,"setPlatform",[i.params.platform,r]),Bt(i.element,"setVideoUrl",[a.url,r,s||!1]),i.playing=!1,a.drm&&!t.isEmpty(a.drm)&&ei(r)&&Bt(i.element,"setDRM",[a.drm])}i.playhead>0&&Bt(i.element,"setInitialTime",[i.playhead]),i.element&&i.element.wrapper&&(i.element.wrapper.disableNativeSeek=i.disableNativeSeek)},this);this.disposeAnyElementKeepInstance=function(){var t=e.VIDEO.TECHNOLOGY.HTML5,i=qt(t);Xt(i)};var qt=t.bind(function(t){var i=null;for(var n in this.activeInstances)if(this.activeInstances[n]&&this.activeInstances[n].element){var a=o[this.activeInstances[n].plugin].technology;if(a===t)return n;a===e.VIDEO.TECHNOLOGY.MIXED&&(i=n)}return i},this),Xt=t.bind(function(e){if(e){var i;for(i in!0===this.activeInstances[e].playing?this.activeInstances[e].playhead=Bt(this.activeInstances[e].element,"getCurrentTime"):this.activeInstances[e].playhead=0,this.focusVideoId===e&&$e(e),this.activeInstances)i!==e&&this.activeInstances[i]&&this.activeInstances[i].element&&this.activeInstances[i].element===this.activeInstances[e].element&&(this.activeInstances[i].isControllingElement=!0,this.activeInstances[i].element=null);this.activeInstances[e].element&&(Bt(this.activeInstances[e].element,"destroy",[]),p=t.without(p,this.activeInstances[e].element),this.activeInstances[i].isControllingElement=!0,this.activeInstances[e].element=null)}},this),Qt=t.bind(function(e){var t=this.activeInstances[e].playhead;Ue(o[this.activeInstances[e].plugin],e,this.activeInstances[e].parentContainer,this.activeInstances[e].encoding,this.activeInstances[e].stream,this.activeInstances[e].isLive,this.activeInstances[e].params),qe("recreate",{videoId:e}),t>0&&Bt(this.activeInstances[e].element,"setInitialTime",[t]),this.activeInstances[e].element&&this.activeInstances[e].element.wrapper&&(this.activeInstances[e].element.wrapper.disableNativeSeek=this.activeInstances[e].disableNativeSeek)},this),Zt=t.bind(function(e){this.activeInstances[e]&&!this.activeInstances[e].element&&Qt(e),this.activeInstances[e].isControllingElement||Yt(e),Kt(e)},this),Jt=t.bind(function(e){var t=i("#"+e);if(t.length>0&&!t.is("video")){var n=t.find("video").attr("id");if(n)return n}return e},this),$t=t.bind(function(i,n,a,r){if(!this.activeInstances[i])return Promise.reject(new Error("No videoId was given"));this.activeInstances[i].playhead=0,this.activeInstances[i].playing=!1,this.activeInstances[i].stream=a,this.activeInstances[i].encoding=n,this.activeInstances[i].isLive=!!r,i===e.VIDEO.MAIN&&!0===this.activeInstances[i].isLive&&(this.desiredPlaybackSpeed=1);var s=0;return this.activeInstances[i].params&&this.activeInstances[i].params.initialTime&&(s=this.activeInstances[i].params.initialTime),a.drm&&!t.isEmpty(a.drm)&&ei(n)&&xt(i,"setDRM",[a.drm]),xt(i,"setPlatform",[this.activeInstances[i].params.platform,n]),_&&_["adobe-ads"]?xt(i,"setVideoUrl",[a.url,n,r||!1,_["adobe-ads"]]):xt(i,"setVideoUrl",[a.url,n,r||!1,s])},this),ei=t.bind(function(t){for(var i in e.VIDEO.ENCODING.DRM)if(e.VIDEO.ENCODING.DRM[i]===t)return!0;return!1},this),ti=t.bind(function(e,t){this.activeInstances[e]&&(me(this.activeInstances[e].isLive)||(this.activeInstances[e].closedCaptions=t))},this),ii=t.bind(function(e,t){this.activeInstances[e]&&t&&(this.activeInstances[e].params=t,ti(e,t.closedCaptions),Ht(e,t.crossorigin))},this),ni=t.bind(function(e,t){this.activeInstances[e]&&t&&xt(e,"setSecureContent",[t])},this),ai=t.bind(function(t,i){var n={mediaErrorCode:t.errorcode,pluginErrorCode:t.pluginErrorCode,pluginErrorMessage:t.pluginErrorMessage,playhead:this.currentPlayhead},a={};if(6===t.errorcode&&(a=this.activeInstances[i].stream.drm),n.drm=a,!I)return e.debug("Error not emitted: "+t.errorcode),v.push(n),void h.publish(e.EVENTS.PAGE_PROBABLY_UNLOADING);ri(),h.publish(e.EVENTS.VC_PLAY_FAILED,i,n),h.publish(e.EVENTS.CANCEL_GEO_CHECKING)},this),ri=t.bind(function(){I=!0;t.each(v,function(t){h.publish(e.EVENTS.VC_PLAY_FAILED,"",t)}),v=[]},this),si=t.bind(function(){I=!1,clearTimeout(b),setTimeout(function(){b=t.delay(ri,5e3)},1)},this),oi=function(){return Math.random().toString(36).substring(7)},li=function(e){var t=e||"",i=new RegExp(/[&\?]try=(\d*)/).exec(t),n=i?i[1]:0,a=(parseInt(n,10)||0)+1;return-1!==t.indexOf("try=")?t.replace(/try=(\d*)/,"try="+a):-1!==t.indexOf("?")?t+"&try=1":t+"?try=1"},ci=function(e){if(!e)return!1;var t=void 0!==e.id&&"string"==typeof e.id,i=void 0!==e.bitrate&&("number"==typeof e.bitrate||"string"==typeof e.bitrate),n=void 0!==e.height&&"number"==typeof e.height,a=void 0!==e.width&&"number"==typeof e.width;return t&&i&&n&&a},ui=t.bind(function(t){this.activeInstances&&this.activeInstances[t]&&this.activeInstances[t].element&&(t===e.VIDEO.MAIN?e.isValidPlaybackSpeed(this.desiredPlaybackSpeed)&&Bt(this.activeInstances[t].element,"setPlaybackSpeed",[this.desiredPlaybackSpeed]):t===e.VIDEO.ADS&&Bt(this.activeInstances[t].element,"setPlaybackSpeed",[1]))},this),di=this,hi={getRegisteredPlugins:function(){return e.Video.getRegisteredPlugins()},getEncodingPriority:function(){return Pe()},getSupportedEncodings:function(){return Le(this.getRegisteredPlugins())},getVideoInstances:function(){return di.activeInstances},getVideoElements:function(){return p}};re()};e.registerModule("videoController",function(e,t){return new d(e,t)})}(OO,OO._,OO.$)},{"@babel/runtime/helpers/asyncToGenerator":9,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/typeof":18,"@babel/runtime/regenerator":20}],79:[function(e,t,i){"use strict";OO.plugin(OO.MODULE_NAMES.LIBRATO,function(e,t,i,n){var a=Math.floor(10*Math.random());if(!e.runningUnitTests&&a>0)return function(){};var r=[{name:"v4-load-time",low:500,high:2e3},{name:"player.load.time",low:500,high:2e3},{name:"v4-playback-ready",low:500,high:2e3},{name:"player.playbackReady.time",low:500,high:2e3},{name:"v4-time-to-first-content-frame",low:1e3,high:3e3},{name:"player.firstFrame.time",low:1e3,high:3e3},{name:"v4-time-to-first-ad-frame",low:1e3,high:3e3},{name:"player.adsFirstFrame.time",low:1e3,high:3e3}],s=function(){this.basic_auth_token="abelrios@ooyala.com:95d53e8841835839469f2a2f96fd95b564342ffadff759ad9d49f1897805db1b",window.btoa?this.basic_auth_token=window.btoa(this.basic_auth_token):this.basic_auth_token=window.base64.encode(this.basic_auth_token),this.tag=this._generateTagJSON(),this.source=this._generateSourceString()};t.extend(s.prototype,{_measureDurationMilli:function(e,t){return t-e},_addMeasurementValue:function(e,t,i){var n=[];return e&&e.measurements&&e.measurements.length>0&&(n=e.measurements),n.push({name:t,value:i}),{tags:this.tag,measurements:n}},_addMetricValue:function(e,t,i){return e[t]={value:i,source:this.source},e},_reportSingleMeasurement:function(e,t){var i={};i=this._addMeasurementValue(i,e,t),this._sendMeasurement(i)},_reportSingleMetric:function(e,t){var i={};i=this._addMetricValue(i,e,t),this._sendReport(i)},_sendMeasurement:function(e){i.ajax({url:"https://metrics-api.librato.com/v1/measurements",type:"post",data:JSON.stringify(e),contentType:"application/json",headers:{Authorization:"Basic "+this.basic_auth_token},success:function(e){}})},_sendReport:function(e){i.ajax({url:"https://metrics-api.librato.com/v1/metrics",type:"post",data:{gauges:e},dataType:"json",headers:{Authorization:"Basic "+this.basic_auth_token},success:function(e){}})},_getThresholdText:function(e,t){var i="-within-range";return e>t.high?i="-above-range":e<t.low&&(i="-below-range"),t.name+i},_matchEvent:function(e){var i;return t.each(r,function(t,n){t.name===e&&(i=t)}),i},_generateTagJSON:function(){var i={platform:"web",os:"generic",browser:"generic",customer:"undefined",version:"undefined",source:"api"};if(e.VERSION&&e.VERSION.core&&e.VERSION.core.releaseVersion&&"<CORE_VERSION>"!==e.VERSION.core.releaseVersion&&(i.version=e.VERSION.core.releaseVersion),e.isIos?i.os="ios":e.isAndroid?i.os="android":e.isMacOs?i.os="macosx":e.isWinPhone?i.os="winphone":e.isWindows?i.os="windows":i.os="generic",e.isChrome?i.browser="chrome":e.isFirefox?i.browser="firefox":e.isEdge?i.browser="edge":e.isIE11Plus?i.browser="ie11plus":e.isIE?i.browser="ieold":e.isSafari?i.browser="safari":i.browser="generic",window.performance&&window.performance.getEntriesByType){t.find(window.performance.getEntriesByType("resource"),function(e){return e.name.match("player.*ooyala.*core.*js")})&&(i.source="static")}return i},_generateSourceString:function(){var i={},n=t.template("<%= version %>-<%= os %>-<%= browser %>");return i.version="undefined",e.VERSION&&e.VERSION.core&&e.VERSION.core.releaseVersion&&"<CORE_VERSION>"!==e.VERSION.core.releaseVersion&&(i.version=e.VERSION.core.releaseVersion),e.isIos?i.os="ios":e.isAndroid?i.os="android":e.isMacOs?i.os="macosx":e.isWinPhone?i.os="winphone":e.isWindows?i.os="windows":i.os="generic",e.isChrome?i.browser="chrome":e.isFirefox?i.browser="firefox":e.isIE11Plus?i.browser="ie11plus":e.isIE?i.browser="ieold":e.isSafari?i.browser="safari":i.browser="generic",n(i)},start:function(){var e={},i={};if(this._addMetricValue(e,"v4-load",1),i=this._addMeasurementValue(i,"player.display",1),window.performance&&window.performance.getEntries){var n=t.find(window.performance.getEntriesByType("resource"),function(e){return e.name.match("player.*ooyala.*core")});n&&n.duration>0&&(this._addMetricValue(e,this._getThresholdText(n.duration,this._matchEvent("v4-load-time")),1),i=this._addMeasurementValue(i,this._getThresholdText(n.duration,this._matchEvent("player.load.time")),1),i=this._addMeasurementValue(i,"player.load.time",n.duration))}this._sendReport(e),this._sendMeasurement(i)}});var o=new s;t.defer(t.bind(o.start,o));var l=function(i,n){this.id=n,this.mb=i,this.initializationTs=this._takeTimestamp(),this.helper=o,this.setEmbedCodeTs=0,this.playbackReadyTs=0,this.lastStateChangeTs=0,this.firstFrameTs=0,this.errorTs=0,this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,"librato",t.bind(this._onSetEmbedCode,this)),this.mb.subscribe(e.EVENTS.SET_EMBED_CODE_AFTER_OOYALA_AD,"librato",t.bind(this._onSetEmbedCode,this)),this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"librato",t.bind(this._onPlaybackReady,this)),this.mb.subscribe(e.EVENTS.INITIAL_PLAY,"librato",t.bind(this._onInitialPlay,this)),this.mb.subscribe(e.EVENTS.PLAY,"librato",t.bind(this._onInitialPlay,this)),this.mb.subscribe(e.EVENTS.PLAYING,"librato",t.bind(this._onInitialPlay,this)),this.mb.subscribe(e.EVENTS.ADS_PLAYED,"librato",t.bind(this._onAdsPlayed,this)),this.mb.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"librato",t.bind(this._onPlayheadTimeChanged,this)),this.mb.subscribe(e.EVENTS.PLAY_FAILED,"librato",t.bind(this._onPlayerPlayFailure,this)),this.mb.subscribe(e.EVENTS.ERROR,"librato",t.bind(this._onPlayerError,this)),this.mb.subscribe(e.EVENTS.WILL_PLAY_ADS,"librato",t.bind(this._willPlayAds,this))};return t.extend(l.prototype,{_takeTimestamp:function(){return(new Date).getTime()},_onSetEmbedCode:function(){this.setEmbedCodeTs=this._takeTimestamp(),this.wasPlayStartReported=!1,this.wasTimeToFirstFrameReported=!1,this.wasTimeToFirstAdFrameReported=!1,this.adsPlaying=!1,this.wasErrorReported=!1,this.playbackReadyTs=0,this.lastStateChangeTs=0,this.firstFrameTs=0,this.errorTs=0},_onPlaybackReady:function(){var e={};o._reportSingleMetric("v4-playback-ready",1),this.playbackReadyTs=this._takeTimestamp();var t=o._measureDurationMilli(this.setEmbedCodeTs,this.playbackReadyTs);o._reportSingleMetric(o._getThresholdText(t,o._matchEvent("v4-playback-ready")),1),e=o._addMeasurementValue(e,o._getThresholdText(t,o._matchEvent("player.playbackReady.time")),1),e=o._addMeasurementValue(e,"player.playbackReady.time",t),o._sendMeasurement(e)},_onInitialPlay:function(){this.wasPlayStartReported||(this.lastStateChangeTs=this._takeTimestamp(),this.wasPlayStartReported=!0,o._reportSingleMetric("v4-play",1),o._reportSingleMeasurement("player.playRequested",1))},_willPlayAds:function(){this.lastStateChangeTs=this._takeTimestamp(),this.adsPlaying=!0,o._reportSingleMetric("v4-play-ad",1),o._reportSingleMeasurement("player.adsRequested",1)},_onAdsPlayed:function(){this.lastStateChangeTs=this._takeTimestamp(),this.adsPlaying=!1},_onPlayheadTimeChanged:function(e,t){if((!this.wasTimeToFirstFrameReported||!this.wasTimeToFirstAdFrameReported)&&t&&!(t<=0)){this.firstFrameTs=this._takeTimestamp();var i=o._measureDurationMilli(this.lastStateChangeTs,this.firstFrameTs);if(!this.wasTimeToFirstFrameReported&&!this.adsPlaying){o._reportSingleMetric(o._getThresholdText(i,o._matchEvent("v4-time-to-first-content-frame")),1),this.wasTimeToFirstFrameReported=!0;var n={};n=o._addMeasurementValue(n,o._getThresholdText(i,o._matchEvent("player.firstFrame.time")),1),n=o._addMeasurementValue(n,"player.firstFrame.time",i),n=o._addMeasurementValue(n,"player.playStarted",1),o._sendMeasurement(n)}if(this.adsPlaying&&!this.wasTimeToFirstAdFrameReported){o._reportSingleMetric(o._getThresholdText(i,o._matchEvent("v4-time-to-first-ad-frame")),1),this.wasTimeToFirstAdFrameReported=!0;var a={};a=o._addMeasurementValue(a,o._getThresholdText(i,o._matchEvent("player.adsFirstFrame.time")),1),a=o._addMeasurementValue(a,"player.adsFirstFrame.time",i),o._sendMeasurement(a)}}},_onPlayerPlayFailure:function(){o._reportSingleMetric("v4-play-fail",1),o._reportSingleMeasurement("player.playFail",1)},_onPlayerError:function(e,t){this.wasErrorReported||(this.errorTs=this._takeTimestamp(),o._reportSingleMetric("v4-error",1),o._reportSingleMeasurement("player.error",1),this.wasErrorReported=!0)}}),l})},{}],80:[function(e,t,i){"use strict";!function(e,t,i){var n=new function(){var e={};this.set=function(t,i){t&&i&&(e[t]=i)},this.get=function(t,i){var n=e[t]||null;return i&&this.remove(t),n},this.exists=function(t){return!!e[t]},this.remove=function(t){return!!this.exists(t)&&delete e[t]},this.flushAll=function(){e={}}};e.exposeStaticApi("cache",n)}(OO,OO._,OO.$)},{}]},{},[62]),function(OO,$,_){!function(){var e="undefined"!=typeof process&&process.versions&&process.versions.node?global:window;void 0===e.Ooyala&&(e.Ooyala={}),Ooyala.Util={};var t=function(t){if("string"!=typeof t)throw"The namespace name must be a string.";var i=t.split(".");if(!(i.length>0))throw"The namespace '"+t+"' is not valid.";for(var n=e,a=0;a<i.length;a++){var r=i[a];if(!(r.length>0))throw"The namespace '"+t+"' is not valid.";if(n[r]){var s=i.slice(0,a).join(".");if("object"!=typeof n[r])throw"Namespace error: the name '"+s+"' already exists and is not a namespace."}else n[r]={};n=n[r]}};t("Ooyala.Util"),Ooyala.Util.createNamespace=t}(),Ooyala.Util.getOwnProperties=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t},Ooyala.Util.extend=function(e,t){for(var i in t)t.hasOwnProperty(i)&&null==e[i]&&(e[i]=t[i])},Ooyala.Util.createNamespace("Ooyala.Util"),Ooyala.Util.bind=function(e,t){var i=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,i.concat(Array.prototype.slice.call(arguments)))}},Ooyala.Util.createNamespace("Ooyala.Util.Enumerable"),Ooyala.Util.extend(Ooyala.Util.Enumerable,{_checkFunction:function(e){if("function"!=typeof e)throw new TypeError},foreach:function(e,t){this._checkFunction(t);for(var i=0;i<e.length;i++)t.call(void 0,e[i])},map:function(e,t){this._checkFunction(t);var i=[];return Ooyala.Util.Enumerable.foreach(e,function(e){i.push(t.call(void 0,e))}),i},select:function(e,t){this._checkFunction(t);var i=[];return Ooyala.Util.Enumerable.foreach(e,function(e){t.call(void 0,e)&&i.push(e)}),i},reject:function(e,t){return this.select(e,function(e){return!t.call(void 0,e)})}}),Ooyala.Util.createNamespace("Ooyala.Util.Http"),Ooyala.Util.Http._XMLHttpRequestFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")}],Ooyala.Util.Http._XMLHttpRequestFactory=null,Ooyala.Util.Http.createXMLHttpRequest=function(){if(null!=Ooyala.Util.Http._XMLHttpRequestFactory)return Ooyala.Util.Http._XMLHttpRequestFactory();for(var e=0;e<Ooyala.Util.Http._XMLHttpRequestFactories.length;e++)try{var t=Ooyala.Util.Http._XMLHttpRequestFactories[e],i=t();if(null!=i)return Ooyala.Util.Http._XMLHttpRequestFactory=t,i}catch(e){}Ooyala.Util.Http._XMLHttpRequestFactory=function(){throw"XMLHttpRequest not supported."},Ooyala.Util.Http._XMLHttpRequestFactory()},Ooyala.Util.CookieManager=function(e,t,i){this._cookieName=e,this._daysToLive=t,this._compareFn=i,this._keysValuesHash={},this._cookiesEnabled=window.navigator.cookieEnabled,Ooyala.Util.CookieManager.cookieNames.push(e)},Ooyala.Util.CookieManager.MAX_COOKIE_SIZE=2048,Ooyala.Util.CookieManager.cookieNames=[],Ooyala.Util.CookieManager.prototype={deDupe:function(){for(var e=this._readAllCookies(this._cookieName),t=0;t<e.length;t++)this._updateHashFromString(e[t]);this._writeCookie(this._cookieName,this._updateStringFromHash()),this._destroyCookies(this._cookieName)},get:function(e){return this._cookiesEnabled?(this._updateHashFromString(this._readCookie(this._cookieName)),(e=this._keysValuesHash[e])?e:null):null},set:function(e,t){this._cookiesEnabled&&(this._keysValuesHash[e]=t.toString(),this._writeCookie(this._cookieName,this._updateStringFromHash()))},_compare:function(e,t){return this._compareFn(this._keysValuesHash[t],this._keysValuesHash[e])},_updateHashFromString:function(e){if(e){e=e.split("&");for(var t=0;t<e.length;t++){var i=e[t],n=i.indexOf(":");if(-1!=n){var a=i.substring(0,n);i=i.substring(n+1),this._compareFn(this._keysValuesHash[a],i)<0&&(this._keysValuesHash[a]=i)}}}},_updateStringFromHash:function(){for(var e=Ooyala.Util.getOwnProperties(this._keysValuesHash).sort(Ooyala.Util.bind(this._compare,this)),t="",i=this._cookieOverhead(this._cookieName),n=0;n<Ooyala.Util.CookieManager.cookieNames.length;n++){var a=Ooyala.Util.CookieManager.cookieNames[n];a!=this._cookieName&&(i+=this._cookieOverhead(a)+(this._readCookie(a)||"").length)}for(n=0;n<e.length;n++){a=e[n];var r=this._keysValuesHash[a];if(i+t.length+a.length+r.length+(0==n?1:2)>Ooyala.Util.CookieManager.MAX_COOKIE_SIZE)break;t+=(0==n?"":"&")+a+":"+r}return t},_writeCookie:function(e,t){document.cookie=e+"="+t+"; expires="+this._getExpiryDate()+"; path=/;"},_readCookie:function(e){var t=document.cookie;if(!t)return null;e+="=",t=t.split(";");for(var i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return(e=n.substring(e.length,n.length)).length>0?e:null}return null},_readAllCookies:function(e){var t=document.cookie,i=[];if(!t)return i;e+="=",t=t.split(";");for(var n=0;n<t.length;n++){for(var a=t[n];" "==a.charAt(0);)a=a.substring(1);0==a.indexOf(e)&&(a=a.substring(e.length,a.length)).length>0&&i.push(a)}return i},_destroyCookies:function(e,t){if(e){t||(t=!1);for(var i=document.location.pathname;;){var n=i.lastIndexOf("/");if(-1===n)break;if(0===n&&1===i.length)break;document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path="+i+";",i=i.substring(0,n)}t&&(document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/;")}},_cookieOverhead:function(e){return e.length+this._getExpiryDate().length+10+9},_getExpiryDate:function(){var e=(new Date).getTime();return new Date(e+24*this._daysToLive*60*60*1e3).toGMTString()}},Ooyala.Util.createNamespace("Ooyala.Util"),Ooyala.Util.extend(Ooyala.Util,{base64Encode:function(e){for(var t,i,n,a,r,s,o="",l=0;l<e.length;)a=(t=e[l++])>>2,t=(3&t)<<4|(i=e[l++])>>4,r=(15&i)<<2|(n=e[l++])>>6,s=63&n,isNaN(i)?r=s=64:isNaN(n)&&(s=64),o=o+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(s);return o},utf8Encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):(n>127&&n<2048?t+=String.fromCharCode(n>>6|192):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128)),t+=String.fromCharCode(63&n|128))}return t},encodeDouble:function(e){var t,i,n,a,r,s,o=Array(8),l=e,c={len:8,mLen:52,rt:0};for(n=c.mLen,r=(s=(1<<(a=8*c.len-c.mLen-1))-1)>>1,e=l<0?1:0,l=Math.abs(l),isNaN(l)||l==1/0?(l=isNaN(l)?1:0,t=s):(t=Math.floor(Math.log(l)/Math.LN2),l*(i=Math.pow(2,-t))<1&&(t--,i*=2),(l+=t+r>=1?c.rt/i:c.rt*Math.pow(2,1-r))*i>=2&&(t++,i/=2),t+r>=s?(l=0,t=s):t+r>=1?(l=(l*i-1)*Math.pow(2,n),t+=r):(l=l*Math.pow(2,r-1)*Math.pow(2,n),t=0)),c=c.len-1;n>=8;o[0+c]=255&l,c+=-1,l/=256,n-=8);for(t=t<<n|l,a+=n;a>0;o[0+c]=255&t,c+=-1,t/=256,a-=8);return o[0+c- -1]|=128*e,o}}),function(){var a={Type:{STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,UTF7:11,STRUCT:12,MAP:13,SET:14,LIST:15,UTF8:16,UTF16:17},MessageType:{CALL:1,REPLY:2,EXCEPTION:3},TException:{}};a.TException.prototype={initialize:function(e,t){this.message=e,this.code=null==t?0:t}},a.TApplicationExceptionType={UNKNOWN:0,UNKNOWN_METHOD:1,INVALID_MESSAGE_TYPE:2,WRONG_METHOD_NAME:3,BAD_SEQUENCE_ID:4,MISSING_RESULT:5},a.TApplicationException=function(e,t){this.message=e,this.code=null==t?0:t},a.TApplicationException.prototype={read:function(e){var t=e.readStructBegin(fname);for(this.fname=t.fname;(t=e.readFieldBegin()).ftype!=TType.STOP;){switch(t.fid){case 1:t.ftype==Type.STRING?(t=e.readString(),this.message=t.value):e.skip(t.ftype);break;case 2:t.ftype==Type.I32?(t=e.readI32(),this.code=t.value):e.skip(t.ftype);break;default:e.skip(t.ftype)}e.readFieldEnd()}e.readStructEnd()},write:function(e){e.writeStructBegin("TApplicationException"),this.message&&(e.writeFieldBegin("message",Type.STRING,1),e.writeString(this.getMessage()),e.writeFieldEnd()),this.code&&(e.writeFieldBegin("type",Type.I32,2),e.writeI32(this.code),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},getCode:function(){return this.code},getMessage:function(){return this.message}},a.Transport=function(e){this.url=e,this.rpos=this.wpos=0,this.recv_buf=this.send_buf=""},a.Transport.prototype={getXmlHttpRequestObject:function(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}throw"Your browser doesn't support the XmlHttpRequest object.  Try upgrading to Firefox."},flush:function(){if(null==this.url||""==this.url)return this.send_buf;var e=this.getXmlHttpRequestObject();if(e.overrideMimeType&&e.overrideMimeType("application/json"),e.open("POST",this.url,!1),e.send(this.send_buf),4!=e.readyState)throw"encountered an unknown ajax ready state: "+e.readyState;if(200!=e.status)throw"encountered a unknown request status: "+e.status;this.recv_buf=e.responseText,this.wpos=this.recv_buf_sz=this.recv_buf.length,this.rpos=0},setRecvBuffer:function(e){this.recv_buf=e,this.wpos=this.recv_buf_sz=this.recv_buf.length,this.rpos=0},isOpen:function(){return!0},open:function(){},close:function(){},read:function(e){var t=this.wpos-this.rpos;if(0==t)return"";var i=e;return t<e&&(i=t),e=this.read_buf.substr(this.rpos,i),this.rpos+=i,e},readAll:function(){return this.recv_buf},write:function(e){this.send_buf=e},getSendBuffer:function(){return this.send_buf}},a.Protocol=function(e){this.transport=e},a.Protocol.Type={},a.Protocol.Type[a.Type.BOOL]='"tf"',a.Protocol.Type[a.Type.BYTE]='"i8"',a.Protocol.Type[a.Type.I16]='"i16"',a.Protocol.Type[a.Type.I32]='"i32"',a.Protocol.Type[a.Type.I64]='"i64"',a.Protocol.Type[a.Type.DOUBLE]='"dbl"',a.Protocol.Type[a.Type.STRUCT]='"rec"',a.Protocol.Type[a.Type.STRING]='"str"',a.Protocol.Type[a.Type.MAP]='"map"',a.Protocol.Type[a.Type.LIST]='"lst"',a.Protocol.Type[a.Type.SET]='"set"',a.Protocol.RType={},a.Protocol.RType.tf=a.Type.BOOL,a.Protocol.RType.i8=a.Type.BYTE,a.Protocol.RType.i16=a.Type.I16,a.Protocol.RType.i32=a.Type.I32,a.Protocol.RType.i64=a.Type.I64,a.Protocol.RType.dbl=a.Type.DOUBLE,a.Protocol.RType.rec=a.Type.STRUCT,a.Protocol.RType.str=a.Type.STRING,a.Protocol.RType.map=a.Type.MAP,a.Protocol.RType.lst=a.Type.LIST,a.Protocol.RType.set=a.Type.SET,a.Protocol.Version=1,a.Protocol.prototype={getTransport:function(){return this.transport},writeMessageBegin:function(e,t,i){this.tstack=[],this.tpos=[],this.tstack.push([a.Protocol.Version,'"'+e+'"',t,i])},writeMessageEnd:function(){var e=this.tstack.pop();this.wobj=this.tstack.pop(),this.wobj.push(e),this.wbuf="["+this.wobj.join(",")+"]",this.transport.write(this.wbuf)},writeStructBegin:function(){this.tpos.push(this.tstack.length),this.tstack.push({})},writeStructEnd:function(){var e=this.tpos.pop(),t=this.tstack[e],i="{",n=!0;for(var a in t)n?n=!1:i+=",",i+=a+":"+t[a];i+="}",this.tstack[e]=i},writeFieldBegin:function(e,t,i){this.tpos.push(this.tstack.length),this.tstack.push({fieldId:'"'+i+'"',fieldType:a.Protocol.Type[t]})},writeFieldEnd:function(){var e=this.tstack.pop(),t=this.tstack.pop();this.tstack[this.tstack.length-1][t.fieldId]="{"+t.fieldType+":"+e+"}",this.tpos.pop()},writeFieldStop:function(){},writeMapBegin:function(e,t){this.tpos.push(this.tstack.length),this.tstack.push([a.Protocol.Type[e],a.Protocol.Type[t],0])},writeMapEnd:function(){var e=this.tpos.pop();if(e!=this.tstack.length){(this.tstack.length-e-1)%2!=0&&this.tstack.push(""),this.tstack[e][this.tstack[e].length-1]=(this.tstack.length-e-1)/2;for(var t="{",i=!0;this.tstack.length>e+1;){var n=this.tstack.pop();i?i=!1:t+=",",t+='"'+this.tstack.pop()+'":'+n}t+="}",this.tstack[e].push(t),this.tstack[e]="["+this.tstack[e].join(",")+"]"}},writeListBegin:function(e,t){this.tpos.push(this.tstack.length),this.tstack.push([a.Protocol.Type[e],t])},writeListEnd:function(){for(var e=this.tpos.pop();this.tstack.length>e+1;){var t=this.tstack[e+1];this.tstack.splice(e+1,1),this.tstack[e].push(t)}this.tstack[e]="["+this.tstack[e].join(",")+"]"},writeSetBegin:function(e,t){this.tpos.push(this.tstack.length),this.tstack.push([a.Protocol.Type[e],t])},writeSetEnd:function(){for(var e=this.tpos.pop();this.tstack.length>e+1;){var t=this.tstack[e+1];this.tstack.splice(e+1,1),this.tstack[e].push(t)}this.tstack[e]="["+this.tstack[e].join(",")+"]"},writeBool:function(e){this.tstack.push(e?1:0)},writeByte:function(e){this.tstack.push(e)},writeI16:function(e){this.tstack.push(e)},writeI32:function(e){this.tstack.push(e)},writeI64:function(e){this.tstack.push(e)},writeDouble:function(e){this.tstack.push(e)},writeString:function(e){this.tstack.push('"'+encodeURIComponent(e)+'"')},writeBinary:function(e){this.writeString(e)},readMessageBegin:function(){this.rstack=[],this.rpos=[],this.robj=eval(this.transport.readAll());var b={},c=this.robj.shift();if(c!=a.Protocol.Version)throw"Wrong thrift protocol version: "+c;return b.fname=this.robj.shift(),b.mtype=this.robj.shift(),b.rseqid=this.robj.shift(),this.rstack.push(this.robj.shift()),b},readMessageEnd:function(){},readStructBegin:function(){var e={fname:""};return this.rstack[this.rstack.length-1]instanceof Array&&this.rstack.push(this.rstack[this.rstack.length-1].shift()),e},readStructEnd:function(){this.rstack[this.rstack.length-2]instanceof Array&&this.rstack.pop()},readFieldBegin:function(){var e={},t=-1,i=a.Type.STOP;for(var n in this.rstack[this.rstack.length-1])if(null!=n){t=parseInt(n),this.rpos.push(this.rstack.length);var r=this.rstack[this.rstack.length-1][t];delete this.rstack[this.rstack.length-1][t],this.rstack.push(r);break}if(-1!=t)for(n in this.rstack[this.rstack.length-1])null!=a.Protocol.RType[n]&&(i=a.Protocol.RType[n],this.rstack[this.rstack.length-1]=this.rstack[this.rstack.length-1][n]);return e.fname="",e.ftype=i,e.fid=t,e},readFieldEnd:function(){for(var e=this.rpos.pop();this.rstack.length>e;)this.rstack.pop()},readMapBegin:function(){var e=this.rstack.pop(),t={};return t.ktype=a.Protocol.RType[e.shift()],t.vtype=a.Protocol.RType[e.shift()],t.size=e.shift(),this.rpos.push(this.rstack.length),this.rstack.push(e.shift()),t},readMapEnd:function(){this.readFieldEnd()},readListBegin:function(){var e=this.rstack[this.rstack.length-1],t={};return t.etype=a.Protocol.RType[e.shift()],t.size=e.shift(),this.rpos.push(this.rstack.length),this.rstack.push(e),t},readListEnd:function(){this.readFieldEnd()},readSetBegin:function(e,t){return this.readListBegin(e,t)},readSetEnd:function(){return this.readListEnd()},readBool:function(){var e=this.readI32();return e.value=null!=e&&"1"==e.value,e},readByte:function(){return this.readI32()},readI16:function(){return this.readI32()},readI32:function(e){null==e&&(e=this.rstack[this.rstack.length-1]);var t={};if(e instanceof Array)t.value=0==e.length?void 0:e.shift();else if(e instanceof Object){for(var i in e)if(null!=i){this.rstack.push(e[i]),delete e[i],t.value=i;break}}else t.value=e;return t},readI64:function(){return this.readI32()},readDouble:function(){return this.readI32()},readString:function(){var e=this.readI32();return e.value=decodeURIComponent(e.value),e},readBinary:function(){return this.readString()},skip:function(){throw"skip not supported yet"}},Ooyala.Thrift=a}(),Ooyala.Thrift.BinaryProtocol=function(e){this.transport=e},Ooyala.Thrift.BinaryProtocol.VERSION_MASK=4294901760,Ooyala.Thrift.BinaryProtocol.VERSION_1=2147549184,Ooyala.Thrift.BinaryProtocol.TYPE_MASK=255,Ooyala.Thrift.BinaryProtocol.prototype={getTransport:function(){return this.transport},writeMessageBegin:function(e,t,i){this.writeI16(Ooyala.Thrift.BinaryProtocol.VERSION_1>>16),this.writeI16(t),this.writeString(e),this.writeI32(i)},writeMessageEnd:function(){},writeStructBegin:function(){},writeStructEnd:function(){},writeFieldBegin:function(e,t,i){this.writeByte(t),this.writeI16(i)},writeFieldEnd:function(){},writeFieldStop:function(){this.writeByte(Ooyala.Thrift.Type.STOP)},writeMapBegin:function(e,t,i){this.writeByte(e),this.writeByte(t),this.writeI32(i)},writeMapEnd:function(){},writeListBegin:function(e,t){this.writeByte(e),this.writeI32(t)},writeListEnd:function(){},writeSetBegin:function(e,t){this.writeByte(e),this.writeI32(t)},writeSetEnd:function(){},writeBool:function(e){this.writeByte(e?1:0)},writeByte:function(e){this.transport.write([e])},writeI16:function(e){this.transport.write([(65280&e)>>8,255&e])},writeI32:function(e){var t=65535&e;this.writeI16((4294901760&e)>>16),this.writeI16(t)},writeI64:function(e){var t=4294967295&e;this.writeI32(e/4294967296&4294967295),this.writeI32(t)},writeDouble:function(e){this.transport.write(Ooyala.Util.encodeDouble(e))},writeString:function(e){e=Ooyala.Util.utf8Encode(e),this.writeI32(e.length);for(var t=0;t<e.length;t++)this.writeByte(e.charCodeAt(t))},readMessageBegin:function(){},readMessageEnd:function(){},readStructBegin:function(){},readStructEnd:function(){},readFieldBegin:function(){},readFieldEnd:function(){},readMapBegin:function(){},readMapEnd:function(){},readListBegin:function(){},readListEnd:function(){},readSetBegin:function(){},readSetEnd:function(){},readBool:function(){},readByte:function(){},readI16:function(){},readI32:function(){},readI64:function(){},readDouble:function(){},readString:function(){},skip:function(){throw"skip not supported yet"}},Ooyala.Thrift.MemoryBufferTransport=function(e){this.buf=e||[],this.index=0},Ooyala.Thrift.MemoryBufferTransport.prototype={isOpen:function(){return!0},open:function(){},close:function(){},read:function(e){var t=this.buf.slice(this.index,this.index+e);return this.index+=e,this.index>this.buf.length&&(this.index=this.buf.length),t},readAll:function(){return this.buf},write:function(e){this.buf=this.buf.concat(e)},flush:function(){},resetBuffer:function(){this.buf=[],this.index=0}},Ooyala.Thrift.Serializer=function(){this.transport=new Ooyala.Thrift.MemoryBufferTransport(null),this.protocol=new Ooyala.Thrift.BinaryProtocol(this.transport)},Ooyala.Thrift.Serializer.prototype={serialize:function(e){return this.transport.resetBuffer(),e.write(this.protocol),this.transport.readAll()}},"undefined"==typeof Ooyala&&(Ooyala={}),void 0===Ooyala.AdsLogging&&(Ooyala.AdsLogging={}),Ooyala.AdsLogging.AdFormat={VIDEO:1,OVERLAY:2,ENDCAP:3,COMPANION:4},Ooyala.AdsLogging.AdSourceId={OOYALA:1,DOUBLECLICK:2,LIGHTNINGCAST:3,YUME:4,TREMOR:5,ADSENSE:6,TV2N:7,OAS:8,ADTECH:9,SCANSCOUT:10,ATLAS:11,FREEWHEEL:12,OPENX:13,LIVERAIL:14,VAST:15,ADIFY:16,DART_ENTERPRISE:17,CBSI:18,BRIGHTROLL:19,UNKNOWN:20,ADAPTV:21,VIDEOPLAZA:22,SPOTXCHANGE:23},Ooyala.AdsLogging.AdPositionType={PREROLL:1,MIDROLL:2,POSTROLL:3,OVERLAY_POSITION:4,ENDSLATE:5,STANDALONE:6},Ooyala.AdsLogging.AdFailureReason={LOAD_ERROR:1,LOAD_TIMEOUT:2,LOAD_IO_ERROR:3,PREFETCH_ERROR:4,PREFETCH_TIMEOUT:5,PREFETCH_IO_ERROR:6,PLAY_ERROR:7,PLAY_TIMEOUT:8,PLAY_IO_ERROR:9,INVALID_PLAYER_CONFIGURATION:10,INVALID_AD_CONFIGURATION:11,AD_NOT_FOUND:12,EXCEPTION:13,AD_ERROR:14,INVALID_AD_RESPONSE:15,CONNECTION_ERROR:16,BUFFERING_TIMEOUT:17,POLICY_RESTRICTION:18},Ooyala.AdsLogging.AD_FORMAT_MAP={1:"video",2:"overlay",3:"endcap",4:"companion"},Ooyala.AdsLogging.AD_SOURCE_MAP={1:"ooyala",2:"doubleclick",3:"lightningcast",4:"yume",5:"tremor",6:"adsense",7:"tv2n",8:"oas",9:"adtech",10:"scanscout",11:"atlas",12:"freewheel",13:"openx",14:"liverail",15:"vast",16:"adify",17:"dart_enterprise",18:"cbsi",19:"brightroll",21:"adap-tv",22:"videoplaza",23:"spotxchange",20:"[unknown]"},Ooyala.AdsLogging.AD_POSITION_TYPE_MAP={1:"preroll",2:"midroll",3:"postroll",4:"overlay",5:"endslate",6:"standalone"},Ooyala.AdsLogging.AD_FAILURE_REASON_MAP={1:"loadError",2:"loadTimeout",3:"loadIOError",4:"prefetchError",5:"prefetchTimeout",6:"prefetchIOError",7:"playError",8:"playTimeout",9:"playIOError",10:"invalidPlayerConfiguration",11:"invalidAdConfiguration",12:"adNotFound",13:"exception",14:"adError",15:"invalidAdResponse",16:"connectionError",17:"bufferingTimeout",18:"policyRestriction"},Ooyala.AdsLogging.AdParams=function(e){this.string_key="",this.integer_key=0,this.value="",null!=e&&(null!=e.string_key&&(this.string_key=e.string_key),null!=e.integer_key&&(this.integer_key=e.integer_key),null!=e.value&&(this.value=e.value))},Ooyala.AdsLogging.AdParams.prototype={},Ooyala.AdsLogging.AdParams.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.string_key=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.integer_key=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.value=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.AdsLogging.AdParams.prototype.write=function(e){e.writeStructBegin("AdParams"),null!=this.string_key&&(e.writeFieldBegin("string_key",Ooyala.Thrift.Type.STRING,1),e.writeString(this.string_key),e.writeFieldEnd()),null!=this.integer_key&&(e.writeFieldBegin("integer_key",Ooyala.Thrift.Type.I32,2),e.writeI32(this.integer_key),e.writeFieldEnd()),null!=this.value&&(e.writeFieldBegin("value",Ooyala.Thrift.Type.STRING,3),e.writeString(this.value),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.AdsLogging.AdClick=function(e){this.clickUrl="",this.realTime=this.playheadTimeMillis=0,null!=e&&(null!=e.clickUrl&&(this.clickUrl=e.clickUrl),null!=e.playheadTimeMillis&&(this.playheadTimeMillis=e.playheadTimeMillis),null!=e.realTime&&(this.realTime=e.realTime))},Ooyala.AdsLogging.AdClick.prototype={},Ooyala.AdsLogging.AdClick.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.clickUrl=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.playheadTimeMillis=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.realTime=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.AdsLogging.AdClick.prototype.write=function(e){e.writeStructBegin("AdClick"),null!=this.clickUrl&&(e.writeFieldBegin("clickUrl",Ooyala.Thrift.Type.STRING,1),e.writeString(this.clickUrl),e.writeFieldEnd()),null!=this.playheadTimeMillis&&(e.writeFieldBegin("playheadTimeMillis",Ooyala.Thrift.Type.I32,2),e.writeI32(this.playheadTimeMillis),e.writeFieldEnd()),null!=this.realTime&&(e.writeFieldBegin("realTime",Ooyala.Thrift.Type.I32,3),e.writeI32(this.realTime),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.AdsLogging.AdSpot=function(e){this.adSourceContentId=this.parentContentReportingIdIndex=this.adPositionInMillis=this.ooyalaAdReportingIdIndex=this.adPositionType=this.adFormat=this.adSource=0,this.passthroughParameters=this.tagUrl="",this.adId=0,null!=e&&(null!=e.adSource&&(this.adSource=e.adSource),null!=e.adFormat&&(this.adFormat=e.adFormat),null!=e.adPositionType&&(this.adPositionType=e.adPositionType),null!=e.ooyalaAdReportingIdIndex&&(this.ooyalaAdReportingIdIndex=e.ooyalaAdReportingIdIndex),null!=e.adPositionInMillis&&(this.adPositionInMillis=e.adPositionInMillis),null!=e.parentContentReportingIdIndex&&(this.parentContentReportingIdIndex=e.parentContentReportingIdIndex),null!=e.adSourceContentId&&(this.adSourceContentId=e.adSourceContentId),null!=e.tagUrl&&(this.tagUrl=e.tagUrl),null!=e.passthroughParameters&&(this.passthroughParameters=e.passthroughParameters),null!=e.adId&&(this.adId=e.adId))},Ooyala.AdsLogging.AdSpot.prototype={},Ooyala.AdsLogging.AdSpot.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.adSource=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.adFormat=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.adPositionType=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.ooyalaAdReportingIdIndex=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.adPositionInMillis=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.parentContentReportingIdIndex=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.adSourceContentId=t.value):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.tagUrl=t.value):e.skip(i);break;case 9:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.passthroughParameters=t.value):e.skip(i);break;case 10:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.adId=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.AdsLogging.AdSpot.prototype.write=function(e){e.writeStructBegin("AdSpot"),null!=this.adSource&&(e.writeFieldBegin("adSource",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.adSource),e.writeFieldEnd()),null!=this.adFormat&&(e.writeFieldBegin("adFormat",Ooyala.Thrift.Type.BYTE,2),e.writeByte(this.adFormat),e.writeFieldEnd()),null!=this.adPositionType&&(e.writeFieldBegin("adPositionType",Ooyala.Thrift.Type.BYTE,3),e.writeByte(this.adPositionType),e.writeFieldEnd()),null!=this.ooyalaAdReportingIdIndex&&(e.writeFieldBegin("ooyalaAdReportingIdIndex",Ooyala.Thrift.Type.BYTE,4),e.writeByte(this.ooyalaAdReportingIdIndex),e.writeFieldEnd()),null!=this.adPositionInMillis&&(e.writeFieldBegin("adPositionInMillis",Ooyala.Thrift.Type.I32,5),e.writeI32(this.adPositionInMillis),e.writeFieldEnd()),null!=this.parentContentReportingIdIndex&&(e.writeFieldBegin("parentContentReportingIdIndex",Ooyala.Thrift.Type.BYTE,6),e.writeByte(this.parentContentReportingIdIndex),e.writeFieldEnd()),null!=this.adSourceContentId&&(e.writeFieldBegin("adSourceContentId",Ooyala.Thrift.Type.I32,7),e.writeI32(this.adSourceContentId),e.writeFieldEnd()),null!=this.tagUrl&&(e.writeFieldBegin("tagUrl",Ooyala.Thrift.Type.STRING,8),e.writeString(this.tagUrl),e.writeFieldEnd()),null!=this.passthroughParameters&&(e.writeFieldBegin("passthroughParameters",Ooyala.Thrift.Type.STRING,9),e.writeString(this.passthroughParameters),e.writeFieldEnd()),null!=this.adId&&(e.writeFieldBegin("adId",Ooyala.Thrift.Type.I32,10),e.writeI32(this.adId),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.AdsLogging.AdTracking=function(e){this.playThroughCompletion=this.adSpotIndex=0,this.clickToVideo=!1,this.clickUrl="",this.failureAfterAdImpression=this.dupClick=!1,this.failureReason=0,null!=e&&(null!=e.adSpotIndex&&(this.adSpotIndex=e.adSpotIndex),null!=e.playThroughCompletion&&(this.playThroughCompletion=e.playThroughCompletion),null!=e.clickToVideo&&(this.clickToVideo=e.clickToVideo),null!=e.clickUrl&&(this.clickUrl=e.clickUrl),null!=e.dupClick&&(this.dupClick=e.dupClick),null!=e.failureAfterAdImpression&&(this.failureAfterAdImpression=e.failureAfterAdImpression),null!=e.failureReason&&(this.failureReason=e.failureReason))},Ooyala.AdsLogging.AdTracking.prototype={},Ooyala.AdsLogging.AdTracking.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.adSpotIndex=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.playThroughCompletion=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.clickToVideo=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.clickUrl=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.dupClick=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.failureAfterAdImpression=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.failureReason=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.AdsLogging.AdTracking.prototype.write=function(e){e.writeStructBegin("AdTracking"),null!=this.adSpotIndex&&(e.writeFieldBegin("adSpotIndex",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.adSpotIndex),e.writeFieldEnd()),null!=this.playThroughCompletion&&(e.writeFieldBegin("playThroughCompletion",Ooyala.Thrift.Type.I16,2),e.writeI16(this.playThroughCompletion),e.writeFieldEnd()),null!=this.clickToVideo&&(e.writeFieldBegin("clickToVideo",Ooyala.Thrift.Type.BOOL,3),e.writeBool(this.clickToVideo),e.writeFieldEnd()),null!=this.clickUrl&&(e.writeFieldBegin("clickUrl",Ooyala.Thrift.Type.STRING,4),e.writeString(this.clickUrl),e.writeFieldEnd()),null!=this.dupClick&&(e.writeFieldBegin("dupClick",Ooyala.Thrift.Type.BOOL,5),e.writeBool(this.dupClick),e.writeFieldEnd()),null!=this.failureAfterAdImpression&&(e.writeFieldBegin("failureAfterAdImpression",Ooyala.Thrift.Type.BOOL,6),e.writeBool(this.failureAfterAdImpression),e.writeFieldEnd()),null!=this.failureReason&&(e.writeFieldBegin("failureReason",Ooyala.Thrift.Type.BYTE,7),e.writeByte(this.failureReason),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},"undefined"==typeof Ooyala&&(Ooyala={}),void 0===Ooyala.CustomEventsLogging&&(Ooyala.CustomEventsLogging={}),Ooyala.CustomEventsLogging.Callee={AS:1,JS:2,OPF:3,OTHER:4},Ooyala.CustomEventsLogging.CalleeFormat={1:"actionscript api",2:"javascript api",3:"OPF api",4:"unknown api"},Ooyala.CustomEventsLogging.CustomEvent=function(e){this.event="",this.operations=[],this.callee=0,this.process=!1,this.value=0,null!=e&&(null!=e.event&&(this.event=e.event),null!=e.operations&&(this.operations=e.operations),null!=e.callee&&(this.callee=e.callee),null!=e.process&&(this.process=e.process),null!=e.value&&(this.value=e.value))},Ooyala.CustomEventsLogging.CustomEvent.prototype={},Ooyala.CustomEventsLogging.CustomEvent.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:if(i==Ooyala.Thrift.Type.STRING){var n=e.readString();this.event=n.value}else e.skip(i);break;case 2:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.operations=[],t=e.readListBegin().size,i=0;i<t;++i)n=null,n=(n=e.readString()).value,this.operations.push(n);e.readListEnd()}else e.skip(i);break;case 3:i==Ooyala.Thrift.Type.BYTE?(n=e.readByte(),this.callee=n.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.BOOL?(n=e.readBool(),this.process=n.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.I32?(n=e.readI32(),this.value=n.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.CustomEventsLogging.CustomEvent.prototype.write=function(e){if(e.writeStructBegin("CustomEvent"),null!=this.event&&(e.writeFieldBegin("event",Ooyala.Thrift.Type.STRING,1),e.writeString(this.event),e.writeFieldEnd()),null!=this.operations){e.writeFieldBegin("operations",Ooyala.Thrift.Type.LIST,2),e.writeListBegin(Ooyala.Thrift.Type.STRING,this.operations.length);for(var t=0;t<this.operations.length;t++)e.writeString(this.operations[t]);e.writeListEnd(),e.writeFieldEnd()}null!=this.callee&&(e.writeFieldBegin("callee",Ooyala.Thrift.Type.BYTE,3),e.writeByte(this.callee),e.writeFieldEnd()),null!=this.process&&(e.writeFieldBegin("process",Ooyala.Thrift.Type.BOOL,4),e.writeBool(this.process),e.writeFieldEnd()),null!=this.value&&(e.writeFieldBegin("value",Ooyala.Thrift.Type.I32,5),e.writeI32(this.value),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},"undefined"==typeof Ooyala&&(Ooyala={}),void 0===Ooyala.MetricsLogging&&(Ooyala.MetricsLogging={}),Ooyala.MetricsLogging.MetricsKey={TIME_TO_UI_READY:1,TIME_TO_PLAYBACK_READY:2,TIME_TO_START_SCREEN_IMAGE_DISPLAYED:3,TIME_FROM_PLAY_CLICK_TO_PLAY:4,TIME_TO_START_PLAY_WITH_AUTOPLAY:5,TIME_TO_LOAD_AD:6,TIME_TO_PREFETCH_AD:7,TIME_TO_PLAY_AD:8,USER_VIEWABLE_LATENCY_FOR_AD:9,TIME_TO_LOAD_AD_FAILURE:10,TIME_TO_PREFETCH_AD_FAILURE:11,TIME_TO_PLAY_AD_FAILURE:12,USER_VIEWABLE_LATENCY_FOR_AD_FAILURE:13,TIME_SPENT_BUFFERING:20,TIME_FROM_LOAD_TO_API_READY:30,TIME_FROM_PLAY_TO_PLAYBACK_STARTED:31},Ooyala.MetricsLogging.METRICS_KEY_TYPENAMES={1:"timeToUIReady",2:"timeToPlaybackReady",3:"timeToStartScreenImageDisplayed",5:"timeToStartPlayWithAutoplay",4:"timeFromPlayClickToPlay",6:"timeToLoadAd",7:"timeToPrefetchAd",8:"timeToPlayAd",9:"userViewableLatencyForAd",10:"timeToLoadAdFailure",11:"timeToPrefetchAdFailure",12:"timeToPlayAdFailure",13:"userViewableLatencyForAdFailure",20:"timeSpentBuffering",30:"timeFromLoadToAPIReady",31:"timeFromPlayToPlaybackStarted"},Ooyala.MetricsLogging.Metric=function(e){this.key=0,this.values=[],null!=e&&(null!=e.key&&(this.key=e.key),null!=e.values&&(this.values=e.values))},Ooyala.MetricsLogging.Metric.prototype={},Ooyala.MetricsLogging.Metric.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:if(i==Ooyala.Thrift.Type.I16){var n=e.readI16();this.key=n.value}else e.skip(i);break;case 2:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.values=[],t=e.readListBegin().size,i=0;i<t;++i)n=null,n=(n=e.readI32()).value,this.values.push(n);e.readListEnd()}else e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.MetricsLogging.Metric.prototype.write=function(e){if(e.writeStructBegin("Metric"),null!=this.key&&(e.writeFieldBegin("key",Ooyala.Thrift.Type.I16,1),e.writeI16(this.key),e.writeFieldEnd()),null!=this.values){e.writeFieldBegin("values",Ooyala.Thrift.Type.LIST,2),e.writeListBegin(Ooyala.Thrift.Type.I32,this.values.length);for(var t=0;t<this.values.length;t++)e.writeI32(this.values[t]);e.writeListEnd(),e.writeFieldEnd()}e.writeFieldStop(),e.writeStructEnd()},"undefined"==typeof Ooyala&&(Ooyala={}),void 0===Ooyala.Logging&&(Ooyala.Logging={}),Ooyala.Logging.PlayerEventType={UNKNOWN:0,DISPLAY:1,PLAY:2,PERCENTAGE_WATCHED:3,SEEK:4,REPLAY:5,PAUSE:6,BUCKETS_WATCHED:7,TOTAL_TIME_PLAYED:8,BITRATE_PLAYED:9,DOWNLOAD:10,CHUNK_FAILOVER:11,BUFFER:12,CV_INFO:13,AD_CLICK:14,AD_IMPRESSION:15,AD_PLAYTHROUGH:16,AD_PLAY_FAILED:17,METRIC:18,PLAYER_LOAD:19,BITRATE_TRANSITION:20,BITRATES_AVAILABLE:21,SHARE:22,PAY_PER_VIEW:23,SAS_AUTHORIZE:24,SAS_AUTHORIZE_V2:25,AD_REQUESTED:26,AD_MOUSEOVER:27,VIDEO_START:28,CUSTOM:29,RELATED_VIDEO_SELECTED:30,RELATED_VIDEOS_DISPLAYED:31,PLAYTHROUGH_PERCENT:32},Ooyala.Logging.FileType={VIDEO_FILE:1,IMAGE:2,PLAYER:3,MODULE:4,XML:5},Ooyala.Logging.ChunkFailoverReason={UNKNOWN_REASON:0,READ_TIMEOUT:1,CONNECTION_TIMEOUT:2,CONNECTION_ERROR:3,CLOSE:4,DISCONNECTED:5},Ooyala.Logging.StreamFormat={VP6:1,H264:2,OTHER:3},Ooyala.Logging.PlayerEmbedType={JS:1,OBJECT:2,FLASH_IN_FLASH:3,EXTERNAL_ANALYTICS:4},Ooyala.Logging.BufferType={UNKNOWN_BUFFER_TYPE:0,LOW_BANDWIDTH:1,USER_INITIATED:2,CONNECTION_LOST:3},Ooyala.Logging.Gateway={PAYPAL:1,PAYMO:2},Ooyala.Logging.PayPerViewCheckoutType={CHECKOUT_PRESENTED:1,CHECKOUT_STARTED:2,CHECKOUT_FINISHED:3,CHECKOUT_CANCELLED:4,CHECKOUT_FAILED:5},Ooyala.Logging.ReportingIdType={GLOBAL:1,VIDEO:2,CHANNEL:3,CHANNEL_SET:4,PROVIDER:5},Ooyala.Logging.UserInfoSource={AKAMAI:1,MAXMIND:2,ENCRYPTED_SAS:3},Ooyala.Logging.PLAYER_EVENT_TYPENAMES={0:"unknown",1:"display",2:"play",3:"percentageWatched",4:"seek",5:"replay",6:"pause",7:"bucketsWatched",8:"totalTimePlayed",9:"bitratePlayed",10:"download",11:"chunkFailover",12:"buffer",13:"cvInfo",14:"adClick",27:"adMouseover",26:"adRequested",15:"adImpression",16:"adPlaythrough",17:"adPlayFailed",18:"metric",19:"playerLoad",20:"bitrateTransition",21:"bitratesAvailable",22:"share",23:"payPerView",24:"sasAuthorize",25:"sasAuthorizeV2",28:"videoStart",29:"customEvent",30:"relatedVideoSelected",31:"relatedVideoDisplayed",32:"playthroughPercent"},Ooyala.Logging.FILE_TYPENAMES={1:"video",2:"image",3:"player",4:"module",5:"xml"},Ooyala.Logging.STREAM_FORMAT_TYPENAMES={1:"vp6",2:"h264",3:"other"},Ooyala.Logging.PLAYER_EMBED_TYPENAMES={1:"js",2:"object",3:"flashInFlash",4:"externalAnalytics"},Ooyala.Logging.BUFFER_TYPENAMES={0:"unknown",1:"lowBandwidth",2:"userInitiated",3:"connectionLost"},Ooyala.Logging.GATEWAY_TYPENAMES={1:"paypal",2:"paymo"},Ooyala.Logging.PAY_PER_VIEW_CHECKOUT_TYPENAMES={1:"checkoutPresented",2:"checkoutStarted",3:"checkoutFinished",4:"checkoutCancelled",5:"checkoutFailed"},Ooyala.Logging.REPORTING_ID_TYPE_MAP={1:"global",2:"video",3:"channel",4:"channelSet",5:"provider"},Ooyala.Logging.DownloadStats=function(e){this.servingDomainId=0,this.fileTypeToBytesDownloaded={},this.servingDomain="",this.timesToFirstByte=[],this.avgTimeToFirstByte=this.numLatencyPoints=this.downloadTime=0,this.percentSingleConnection=100,this.totalSingleStreamPlayTime=this.totalSingleStreamBytes=this.bytesDownloadedFromSingleConnection=0,this.filetype=1,this.timeToFirstByte=this.bytesDownloaded=0,null!=e&&(null!=e.servingDomainId&&(this.servingDomainId=e.servingDomainId),null!=e.fileTypeToBytesDownloaded&&(this.fileTypeToBytesDownloaded=e.fileTypeToBytesDownloaded),null!=e.servingDomain&&(this.servingDomain=e.servingDomain),null!=e.timesToFirstByte&&(this.timesToFirstByte=e.timesToFirstByte),null!=e.downloadTime&&(this.downloadTime=e.downloadTime),null!=e.numLatencyPoints&&(this.numLatencyPoints=e.numLatencyPoints),null!=e.avgTimeToFirstByte&&(this.avgTimeToFirstByte=e.avgTimeToFirstByte),null!=e.percentSingleConnection&&(this.percentSingleConnection=e.percentSingleConnection),null!=e.bytesDownloadedFromSingleConnection&&(this.bytesDownloadedFromSingleConnection=e.bytesDownloadedFromSingleConnection),null!=e.totalSingleStreamBytes&&(this.totalSingleStreamBytes=e.totalSingleStreamBytes),null!=e.totalSingleStreamPlayTime&&(this.totalSingleStreamPlayTime=e.totalSingleStreamPlayTime),null!=e.filetype&&(this.filetype=e.filetype),null!=e.bytesDownloaded&&(this.bytesDownloaded=e.bytesDownloaded),null!=e.timeToFirstByte&&(this.timeToFirstByte=e.timeToFirstByte))},Ooyala.Logging.DownloadStats.prototype={},Ooyala.Logging.DownloadStats.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.servingDomainId=t.value):e.skip(i);break;case 11:if(i==Ooyala.Thrift.Type.MAP){i=0,this.fileTypeToBytesDownloaded={},i=(t=e.readMapBegin()).size;for(var n=0;n<i;++n)val6=key5=0,t=e.readByte(),key5=t.value,t=e.readI32(),val6=t.value,this.fileTypeToBytesDownloaded[key5]=val6;e.readMapEnd()}else e.skip(i);break;case 15:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.servingDomain=t.value):e.skip(i);break;case 12:if(i==Ooyala.Thrift.Type.LIST){for(i=0,this.timesToFirstByte=[],i=(t=e.readListBegin()).size,n=0;n<i;++n)t=null,t=(t=e.readI16()).value,this.timesToFirstByte.push(t);e.readListEnd()}else e.skip(i);break;case 5:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.downloadTime=t.value):e.skip(i);break;case 13:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.numLatencyPoints=t.value):e.skip(i);break;case 14:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.avgTimeToFirstByte=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.percentSingleConnection=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.bytesDownloadedFromSingleConnection=t.value):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.totalSingleStreamBytes=t.value):e.skip(i);break;case 9:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.totalSingleStreamPlayTime=t.value):e.skip(i);break;case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.filetype=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.bytesDownloaded=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.timeToFirstByte=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.DownloadStats.prototype.write=function(e){if(e.writeStructBegin("DownloadStats"),null!=this.servingDomainId&&(e.writeFieldBegin("servingDomainId",Ooyala.Thrift.Type.I32,2),e.writeI32(this.servingDomainId),e.writeFieldEnd()),null!=this.fileTypeToBytesDownloaded){e.writeFieldBegin("fileTypeToBytesDownloaded",Ooyala.Thrift.Type.MAP,11);var t=0;for(key in this.fileTypeToBytesDownloaded)this.fileTypeToBytesDownloaded.hasOwnProperty(key)&&t++;for(var i in e.writeMapBegin(Ooyala.Thrift.Type.BYTE,Ooyala.Thrift.Type.I32,t),this.fileTypeToBytesDownloaded)t=this.fileTypeToBytesDownloaded[i],e.writeByte(i),e.writeI32(t);e.writeMapEnd(),e.writeFieldEnd()}if(null!=this.servingDomain&&(e.writeFieldBegin("servingDomain",Ooyala.Thrift.Type.STRING,15),e.writeString(this.servingDomain),e.writeFieldEnd()),null!=this.timesToFirstByte){for(e.writeFieldBegin("timesToFirstByte",Ooyala.Thrift.Type.LIST,12),e.writeListBegin(Ooyala.Thrift.Type.I16,this.timesToFirstByte.length),i=0;i<this.timesToFirstByte.length;i++)e.writeI16(this.timesToFirstByte[i]);e.writeListEnd(),e.writeFieldEnd()}null!=this.downloadTime&&(e.writeFieldBegin("downloadTime",Ooyala.Thrift.Type.I32,5),e.writeI32(this.downloadTime),e.writeFieldEnd()),null!=this.numLatencyPoints&&(e.writeFieldBegin("numLatencyPoints",Ooyala.Thrift.Type.I16,13),e.writeI16(this.numLatencyPoints),e.writeFieldEnd()),null!=this.avgTimeToFirstByte&&(e.writeFieldBegin("avgTimeToFirstByte",Ooyala.Thrift.Type.I16,14),e.writeI16(this.avgTimeToFirstByte),e.writeFieldEnd()),null!=this.percentSingleConnection&&(e.writeFieldBegin("percentSingleConnection",Ooyala.Thrift.Type.BYTE,6),e.writeByte(this.percentSingleConnection),e.writeFieldEnd()),null!=this.bytesDownloadedFromSingleConnection&&(e.writeFieldBegin("bytesDownloadedFromSingleConnection",Ooyala.Thrift.Type.I32,7),e.writeI32(this.bytesDownloadedFromSingleConnection),e.writeFieldEnd()),null!=this.totalSingleStreamBytes&&(e.writeFieldBegin("totalSingleStreamBytes",Ooyala.Thrift.Type.I32,8),e.writeI32(this.totalSingleStreamBytes),e.writeFieldEnd()),null!=this.totalSingleStreamPlayTime&&(e.writeFieldBegin("totalSingleStreamPlayTime",Ooyala.Thrift.Type.I32,9),e.writeI32(this.totalSingleStreamPlayTime),e.writeFieldEnd()),null!=this.filetype&&(e.writeFieldBegin("filetype",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.filetype),e.writeFieldEnd()),null!=this.bytesDownloaded&&(e.writeFieldBegin("bytesDownloaded",Ooyala.Thrift.Type.I32,3),e.writeI32(this.bytesDownloaded),e.writeFieldEnd()),null!=this.timeToFirstByte&&(e.writeFieldBegin("timeToFirstByte",Ooyala.Thrift.Type.I32,4),e.writeI32(this.timeToFirstByte),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.ChunkFailoverInfo=function(e){this.servingDomainId=this.reason=0,this.chunkShortUrl="",this.firstForUrl=this.firstForChunk=!1,null!=e&&(null!=e.reason&&(this.reason=e.reason),null!=e.servingDomainId&&(this.servingDomainId=e.servingDomainId),null!=e.chunkShortUrl&&(this.chunkShortUrl=e.chunkShortUrl),null!=e.firstForChunk&&(this.firstForChunk=e.firstForChunk),null!=e.firstForUrl&&(this.firstForUrl=e.firstForUrl))},Ooyala.Logging.ChunkFailoverInfo.prototype={},Ooyala.Logging.ChunkFailoverInfo.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.reason=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.servingDomainId=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.chunkShortUrl=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.firstForChunk=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.firstForUrl=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.ChunkFailoverInfo.prototype.write=function(e){e.writeStructBegin("ChunkFailoverInfo"),null!=this.reason&&(e.writeFieldBegin("reason",Ooyala.Thrift.Type.I32,1),e.writeI32(this.reason),e.writeFieldEnd()),null!=this.servingDomainId&&(e.writeFieldBegin("servingDomainId",Ooyala.Thrift.Type.I32,2),e.writeI32(this.servingDomainId),e.writeFieldEnd()),null!=this.chunkShortUrl&&(e.writeFieldBegin("chunkShortUrl",Ooyala.Thrift.Type.STRING,3),e.writeString(this.chunkShortUrl),e.writeFieldEnd()),null!=this.firstForChunk&&(e.writeFieldBegin("firstForChunk",Ooyala.Thrift.Type.BOOL,4),e.writeBool(this.firstForChunk),e.writeFieldEnd()),null!=this.firstForUrl&&(e.writeFieldBegin("firstForUrl",Ooyala.Thrift.Type.BOOL,5),e.writeBool(this.firstForUrl),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.PlayheadStatus=function(e){this.fromSeekTimeMillis=this.lastSeekTimeMillis=this.playheadTimeMillis=0,this.DEPRECATED_firstForVideo=this.DEPRECATED_firstForUser=!1,null!=e&&(null!=e.playheadTimeMillis&&(this.playheadTimeMillis=e.playheadTimeMillis),null!=e.lastSeekTimeMillis&&(this.lastSeekTimeMillis=e.lastSeekTimeMillis),null!=e.fromSeekTimeMillis&&(this.fromSeekTimeMillis=e.fromSeekTimeMillis),null!=e.DEPRECATED_firstForUser&&(this.DEPRECATED_firstForUser=e.DEPRECATED_firstForUser),null!=e.DEPRECATED_firstForVideo&&(this.DEPRECATED_firstForVideo=e.DEPRECATED_firstForVideo))},Ooyala.Logging.PlayheadStatus.prototype={},Ooyala.Logging.PlayheadStatus.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.playheadTimeMillis=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.lastSeekTimeMillis=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.fromSeekTimeMillis=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.DEPRECATED_firstForUser=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.DEPRECATED_firstForVideo=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.PlayheadStatus.prototype.write=function(e){e.writeStructBegin("PlayheadStatus"),null!=this.playheadTimeMillis&&(e.writeFieldBegin("playheadTimeMillis",Ooyala.Thrift.Type.I32,1),e.writeI32(this.playheadTimeMillis),e.writeFieldEnd()),null!=this.lastSeekTimeMillis&&(e.writeFieldBegin("lastSeekTimeMillis",Ooyala.Thrift.Type.I32,2),e.writeI32(this.lastSeekTimeMillis),e.writeFieldEnd()),null!=this.fromSeekTimeMillis&&(e.writeFieldBegin("fromSeekTimeMillis",Ooyala.Thrift.Type.I32,4),e.writeI32(this.fromSeekTimeMillis),e.writeFieldEnd()),null!=this.DEPRECATED_firstForUser&&(e.writeFieldBegin("DEPRECATED_firstForUser",Ooyala.Thrift.Type.BOOL,3),e.writeBool(this.DEPRECATED_firstForUser),e.writeFieldEnd()),null!=this.DEPRECATED_firstForVideo&&(e.writeFieldBegin("DEPRECATED_firstForVideo",Ooyala.Thrift.Type.BOOL,5),e.writeBool(this.DEPRECATED_firstForVideo),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.CvObjectClickInfo=function(e){this.oid=this.trackId="",this.clickTime=this.mouseY=this.mouseX=0,this.link=this.label="",this.outline=[],null!=e&&(null!=e.trackId&&(this.trackId=e.trackId),null!=e.oid&&(this.oid=e.oid),null!=e.mouseX&&(this.mouseX=e.mouseX),null!=e.mouseY&&(this.mouseY=e.mouseY),null!=e.clickTime&&(this.clickTime=e.clickTime),null!=e.label&&(this.label=e.label),null!=e.link&&(this.link=e.link),null!=e.outline&&(this.outline=e.outline))},Ooyala.Logging.CvObjectClickInfo.prototype={},Ooyala.Logging.CvObjectClickInfo.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:if(i==Ooyala.Thrift.Type.STRING){var n=e.readString();this.trackId=n.value}else e.skip(i);break;case 2:i==Ooyala.Thrift.Type.STRING?(n=e.readString(),this.oid=n.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.DOUBLE?(n=e.readDouble(),this.mouseX=n.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.DOUBLE?(n=e.readDouble(),this.mouseY=n.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.DOUBLE?(n=e.readDouble(),this.clickTime=n.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.STRING?(n=e.readString(),this.label=n.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.STRING?(n=e.readString(),this.link=n.value):e.skip(i);break;case 8:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.outline=[],t=e.readListBegin().size,i=0;i<t;++i)n=null,n=(n=e.readDouble()).value,this.outline.push(n);e.readListEnd()}else e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.CvObjectClickInfo.prototype.write=function(e){if(e.writeStructBegin("CvObjectClickInfo"),null!=this.trackId&&(e.writeFieldBegin("trackId",Ooyala.Thrift.Type.STRING,1),e.writeString(this.trackId),e.writeFieldEnd()),null!=this.oid&&(e.writeFieldBegin("oid",Ooyala.Thrift.Type.STRING,2),e.writeString(this.oid),e.writeFieldEnd()),null!=this.mouseX&&(e.writeFieldBegin("mouseX",Ooyala.Thrift.Type.DOUBLE,3),e.writeDouble(this.mouseX),e.writeFieldEnd()),null!=this.mouseY&&(e.writeFieldBegin("mouseY",Ooyala.Thrift.Type.DOUBLE,4),e.writeDouble(this.mouseY),e.writeFieldEnd()),null!=this.clickTime&&(e.writeFieldBegin("clickTime",Ooyala.Thrift.Type.DOUBLE,5),e.writeDouble(this.clickTime),e.writeFieldEnd()),null!=this.label&&(e.writeFieldBegin("label",Ooyala.Thrift.Type.STRING,6),e.writeString(this.label),e.writeFieldEnd()),null!=this.link&&(e.writeFieldBegin("link",Ooyala.Thrift.Type.STRING,7),e.writeString(this.link),e.writeFieldEnd()),null!=this.outline){e.writeFieldBegin("outline",Ooyala.Thrift.Type.LIST,8),e.writeListBegin(Ooyala.Thrift.Type.DOUBLE,this.outline.length);for(var t=0;t<this.outline.length;t++)e.writeDouble(this.outline[t]);e.writeListEnd(),e.writeFieldEnd()}e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.WatchedBuckets=function(e){this.maxPerMille=this.minPerMille=0,null!=e&&(null!=e.minPerMille&&(this.minPerMille=e.minPerMille),null!=e.maxPerMille&&(this.maxPerMille=e.maxPerMille))},Ooyala.Logging.WatchedBuckets.prototype={},Ooyala.Logging.WatchedBuckets.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.minPerMille=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.maxPerMille=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.WatchedBuckets.prototype.write=function(e){e.writeStructBegin("WatchedBuckets"),null!=this.minPerMille&&(e.writeFieldBegin("minPerMille",Ooyala.Thrift.Type.I16,1),e.writeI16(this.minPerMille),e.writeFieldEnd()),null!=this.maxPerMille&&(e.writeFieldBegin("maxPerMille",Ooyala.Thrift.Type.I16,2),e.writeI16(this.maxPerMille),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.BitratePlayed=function(e){this.userBandwidthInKbps=this.audioKbps=this.videoFormat=this.videoKbps=this.timePlayed=0,null!=e&&(null!=e.timePlayed&&(this.timePlayed=e.timePlayed),null!=e.videoKbps&&(this.videoKbps=e.videoKbps),null!=e.videoFormat&&(this.videoFormat=e.videoFormat),null!=e.audioKbps&&(this.audioKbps=e.audioKbps),null!=e.userBandwidthInKbps&&(this.userBandwidthInKbps=e.userBandwidthInKbps))},Ooyala.Logging.BitratePlayed.prototype={},Ooyala.Logging.BitratePlayed.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.timePlayed=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.videoKbps=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.videoFormat=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.audioKbps=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.userBandwidthInKbps=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.BitratePlayed.prototype.write=function(e){e.writeStructBegin("BitratePlayed"),null!=this.timePlayed&&(e.writeFieldBegin("timePlayed",Ooyala.Thrift.Type.I32,1),e.writeI32(this.timePlayed),e.writeFieldEnd()),null!=this.videoKbps&&(e.writeFieldBegin("videoKbps",Ooyala.Thrift.Type.I32,2),e.writeI32(this.videoKbps),e.writeFieldEnd()),null!=this.videoFormat&&(e.writeFieldBegin("videoFormat",Ooyala.Thrift.Type.I32,3),e.writeI32(this.videoFormat),e.writeFieldEnd()),null!=this.audioKbps&&(e.writeFieldBegin("audioKbps",Ooyala.Thrift.Type.I32,4),e.writeI32(this.audioKbps),e.writeFieldEnd()),null!=this.userBandwidthInKbps&&(e.writeFieldBegin("userBandwidthInKbps",Ooyala.Thrift.Type.I32,5),e.writeI32(this.userBandwidthInKbps),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.BitrateTransition=function(e){this.transitionTimeInMillis=this.newAudioKbps=this.oldAudioKbps=this.newVideoKbps=this.oldVideoKbps=0,null!=e&&(null!=e.oldVideoKbps&&(this.oldVideoKbps=e.oldVideoKbps),null!=e.newVideoKbps&&(this.newVideoKbps=e.newVideoKbps),null!=e.oldAudioKbps&&(this.oldAudioKbps=e.oldAudioKbps),null!=e.newAudioKbps&&(this.newAudioKbps=e.newAudioKbps),null!=e.transitionTimeInMillis&&(this.transitionTimeInMillis=e.transitionTimeInMillis))},Ooyala.Logging.BitrateTransition.prototype={},Ooyala.Logging.BitrateTransition.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.oldVideoKbps=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.newVideoKbps=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.oldAudioKbps=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.newAudioKbps=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.transitionTimeInMillis=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.BitrateTransition.prototype.write=function(e){e.writeStructBegin("BitrateTransition"),null!=this.oldVideoKbps&&(e.writeFieldBegin("oldVideoKbps",Ooyala.Thrift.Type.I32,1),e.writeI32(this.oldVideoKbps),e.writeFieldEnd()),null!=this.newVideoKbps&&(e.writeFieldBegin("newVideoKbps",Ooyala.Thrift.Type.I32,2),e.writeI32(this.newVideoKbps),e.writeFieldEnd()),null!=this.oldAudioKbps&&(e.writeFieldBegin("oldAudioKbps",Ooyala.Thrift.Type.I32,3),e.writeI32(this.oldAudioKbps),e.writeFieldEnd()),null!=this.newAudioKbps&&(e.writeFieldBegin("newAudioKbps",Ooyala.Thrift.Type.I32,4),e.writeI32(this.newAudioKbps),e.writeFieldEnd()),null!=this.transitionTimeInMillis&&(e.writeFieldBegin("transitionTimeInMillis",Ooyala.Thrift.Type.I32,5),e.writeI32(this.transitionTimeInMillis),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.Sharing=function(e){this.urlCopy=this.twitter=this.facebook=this.stumbleUpon=this.digg=this.embedCodeCopy=this.email=!1,null!=e&&(null!=e.email&&(this.email=e.email),null!=e.embedCodeCopy&&(this.embedCodeCopy=e.embedCodeCopy),null!=e.digg&&(this.digg=e.digg),null!=e.stumbleUpon&&(this.stumbleUpon=e.stumbleUpon),null!=e.facebook&&(this.facebook=e.facebook),null!=e.twitter&&(this.twitter=e.twitter),null!=e.urlCopy&&(this.urlCopy=e.urlCopy))},Ooyala.Logging.Sharing.prototype={},Ooyala.Logging.Sharing.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.email=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.embedCodeCopy=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.digg=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.stumbleUpon=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.facebook=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.twitter=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.urlCopy=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.Sharing.prototype.write=function(e){e.writeStructBegin("Sharing"),null!=this.email&&(e.writeFieldBegin("email",Ooyala.Thrift.Type.BOOL,1),e.writeBool(this.email),e.writeFieldEnd()),null!=this.embedCodeCopy&&(e.writeFieldBegin("embedCodeCopy",Ooyala.Thrift.Type.BOOL,2),e.writeBool(this.embedCodeCopy),e.writeFieldEnd()),null!=this.digg&&(e.writeFieldBegin("digg",Ooyala.Thrift.Type.BOOL,3),e.writeBool(this.digg),e.writeFieldEnd()),null!=this.stumbleUpon&&(e.writeFieldBegin("stumbleUpon",Ooyala.Thrift.Type.BOOL,4),e.writeBool(this.stumbleUpon),e.writeFieldEnd()),null!=this.facebook&&(e.writeFieldBegin("facebook",Ooyala.Thrift.Type.BOOL,5),e.writeBool(this.facebook),e.writeFieldEnd()),null!=this.twitter&&(e.writeFieldBegin("twitter",Ooyala.Thrift.Type.BOOL,6),e.writeBool(this.twitter),e.writeFieldEnd()),null!=this.urlCopy&&(e.writeFieldBegin("urlCopy",Ooyala.Thrift.Type.BOOL,7),e.writeBool(this.urlCopy),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.PersonalizationBucketInfo=function(e){this.bucketInfo="",null!=e&&null!=e.bucketInfo&&(this.bucketInfo=e.bucketInfo)},Ooyala.Logging.PersonalizationBucketInfo.prototype={},Ooyala.Logging.PersonalizationBucketInfo.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.STRING?this.bucketInfo=e.readString().value:e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.PersonalizationBucketInfo.prototype.write=function(e){e.writeStructBegin("PersonalizationBucketInfo"),null!=this.bucketInfo&&(e.writeFieldBegin("bucketInfo",Ooyala.Thrift.Type.STRING,1),e.writeString(this.bucketInfo),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.PayPerView=function(e){this.mobilePrice=this.price=this.gateway=this.checkoutType=0,this.currency="",this.playheadTimeInMillis=this.previewWindowInMillis=0,this.error="",null!=e&&(null!=e.checkoutType&&(this.checkoutType=e.checkoutType),null!=e.gateway&&(this.gateway=e.gateway),null!=e.price&&(this.price=e.price),null!=e.mobilePrice&&(this.mobilePrice=e.mobilePrice),null!=e.currency&&(this.currency=e.currency),null!=e.previewWindowInMillis&&(this.previewWindowInMillis=e.previewWindowInMillis),null!=e.playheadTimeInMillis&&(this.playheadTimeInMillis=e.playheadTimeInMillis),null!=e.error&&(this.error=e.error))},Ooyala.Logging.PayPerView.prototype={},Ooyala.Logging.PayPerView.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.checkoutType=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.gateway=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.DOUBLE?(t=e.readDouble(),this.price=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.DOUBLE?(t=e.readDouble(),this.mobilePrice=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.currency=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.previewWindowInMillis=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.playheadTimeInMillis=t.value):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.error=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.PayPerView.prototype.write=function(e){e.writeStructBegin("PayPerView"),null!=this.checkoutType&&(e.writeFieldBegin("checkoutType",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.checkoutType),e.writeFieldEnd()),null!=this.gateway&&(e.writeFieldBegin("gateway",Ooyala.Thrift.Type.BYTE,2),e.writeByte(this.gateway),e.writeFieldEnd()),null!=this.price&&(e.writeFieldBegin("price",Ooyala.Thrift.Type.DOUBLE,3),e.writeDouble(this.price),e.writeFieldEnd()),null!=this.mobilePrice&&(e.writeFieldBegin("mobilePrice",Ooyala.Thrift.Type.DOUBLE,4),e.writeDouble(this.mobilePrice),e.writeFieldEnd()),null!=this.currency&&(e.writeFieldBegin("currency",Ooyala.Thrift.Type.STRING,5),e.writeString(this.currency),e.writeFieldEnd()),null!=this.previewWindowInMillis&&(e.writeFieldBegin("previewWindowInMillis",Ooyala.Thrift.Type.I32,6),e.writeI32(this.previewWindowInMillis),e.writeFieldEnd()),null!=this.playheadTimeInMillis&&(e.writeFieldBegin("playheadTimeInMillis",Ooyala.Thrift.Type.I32,7),e.writeI32(this.playheadTimeInMillis),e.writeFieldEnd()),null!=this.error&&(e.writeFieldBegin("error",Ooyala.Thrift.Type.STRING,8),e.writeString(this.error),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.SasAuthorize=function(e){this.authorized=!1,this.latency=this.requestTime=0,this.messages=this.codes="",this.isAuthorizedInPlayerXML=!1,null!=e&&(null!=e.authorized&&(this.authorized=e.authorized),null!=e.requestTime&&(this.requestTime=e.requestTime),null!=e.latency&&(this.latency=e.latency),null!=e.codes&&(this.codes=e.codes),null!=e.messages&&(this.messages=e.messages),null!=e.isAuthorizedInPlayerXML&&(this.isAuthorizedInPlayerXML=e.isAuthorizedInPlayerXML))},Ooyala.Logging.SasAuthorize.prototype={},Ooyala.Logging.SasAuthorize.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.authorized=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.requestTime=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.latency=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.codes=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.messages=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.isAuthorizedInPlayerXML=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.SasAuthorize.prototype.write=function(e){e.writeStructBegin("SasAuthorize"),null!=this.authorized&&(e.writeFieldBegin("authorized",Ooyala.Thrift.Type.BOOL,1),e.writeBool(this.authorized),e.writeFieldEnd()),null!=this.requestTime&&(e.writeFieldBegin("requestTime",Ooyala.Thrift.Type.I32,2),e.writeI32(this.requestTime),e.writeFieldEnd()),null!=this.latency&&(e.writeFieldBegin("latency",Ooyala.Thrift.Type.I32,3),e.writeI32(this.latency),e.writeFieldEnd()),null!=this.codes&&(e.writeFieldBegin("codes",Ooyala.Thrift.Type.STRING,4),e.writeString(this.codes),e.writeFieldEnd()),null!=this.messages&&(e.writeFieldBegin("messages",Ooyala.Thrift.Type.STRING,5),e.writeString(this.messages),e.writeFieldEnd()),null!=this.isAuthorizedInPlayerXML&&(e.writeFieldBegin("isAuthorizedInPlayerXML",Ooyala.Thrift.Type.BOOL,6),e.writeBool(this.isAuthorizedInPlayerXML),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.SasAuthorizeV2=function(e){this.rootEmbedCode=this.requestId="",this.clientSideLatencyForLastRequest=this.clientSideLatency=this.serverSideLatency=this.responseCode=0,this.continent=this.country="",null!=e&&(null!=e.requestId&&(this.requestId=e.requestId),null!=e.rootEmbedCode&&(this.rootEmbedCode=e.rootEmbedCode),null!=e.responseCode&&(this.responseCode=e.responseCode),null!=e.serverSideLatency&&(this.serverSideLatency=e.serverSideLatency),null!=e.clientSideLatency&&(this.clientSideLatency=e.clientSideLatency),null!=e.clientSideLatencyForLastRequest&&(this.clientSideLatencyForLastRequest=e.clientSideLatencyForLastRequest),null!=e.country&&(this.country=e.country),null!=e.continent&&(this.continent=e.continent))},Ooyala.Logging.SasAuthorizeV2.prototype={},Ooyala.Logging.SasAuthorizeV2.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.requestId=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.rootEmbedCode=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.responseCode=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.DOUBLE?(t=e.readDouble(),this.serverSideLatency=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.DOUBLE?(t=e.readDouble(),this.clientSideLatency=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.DOUBLE?(t=e.readDouble(),this.clientSideLatencyForLastRequest=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.country=t.value):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.continent=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.SasAuthorizeV2.prototype.write=function(e){e.writeStructBegin("SasAuthorizeV2"),null!=this.requestId&&(e.writeFieldBegin("requestId",Ooyala.Thrift.Type.STRING,1),e.writeString(this.requestId),e.writeFieldEnd()),null!=this.rootEmbedCode&&(e.writeFieldBegin("rootEmbedCode",Ooyala.Thrift.Type.STRING,2),e.writeString(this.rootEmbedCode),e.writeFieldEnd()),null!=this.responseCode&&(e.writeFieldBegin("responseCode",Ooyala.Thrift.Type.I32,3),e.writeI32(this.responseCode),e.writeFieldEnd()),null!=this.serverSideLatency&&(e.writeFieldBegin("serverSideLatency",Ooyala.Thrift.Type.DOUBLE,4),e.writeDouble(this.serverSideLatency),e.writeFieldEnd()),null!=this.clientSideLatency&&(e.writeFieldBegin("clientSideLatency",Ooyala.Thrift.Type.DOUBLE,5),e.writeDouble(this.clientSideLatency),e.writeFieldEnd()),null!=this.clientSideLatencyForLastRequest&&(e.writeFieldBegin("clientSideLatencyForLastRequest",Ooyala.Thrift.Type.DOUBLE,6),e.writeDouble(this.clientSideLatencyForLastRequest),e.writeFieldEnd()),null!=this.country&&(e.writeFieldBegin("country",Ooyala.Thrift.Type.STRING,7),e.writeString(this.country),e.writeFieldEnd()),null!=this.continent&&(e.writeFieldBegin("continent",Ooyala.Thrift.Type.STRING,8),e.writeString(this.continent),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.ReportingIdDescriptor=function(e){this.adSetId=this.syndicationDestinationIdIndex=this.parentContentIdIndex=this.providerReportingIdIndex=this.reportingIdType=0,null!=e&&(null!=e.reportingIdType&&(this.reportingIdType=e.reportingIdType),null!=e.providerReportingIdIndex&&(this.providerReportingIdIndex=e.providerReportingIdIndex),null!=e.parentContentIdIndex&&(this.parentContentIdIndex=e.parentContentIdIndex),null!=e.syndicationDestinationIdIndex&&(this.syndicationDestinationIdIndex=e.syndicationDestinationIdIndex),null!=e.adSetId&&(this.adSetId=e.adSetId))},Ooyala.Logging.ReportingIdDescriptor.prototype={},Ooyala.Logging.ReportingIdDescriptor.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.reportingIdType=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.providerReportingIdIndex=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.parentContentIdIndex=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.syndicationDestinationIdIndex=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.adSetId=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.ReportingIdDescriptor.prototype.write=function(e){e.writeStructBegin("ReportingIdDescriptor"),null!=this.reportingIdType&&(e.writeFieldBegin("reportingIdType",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.reportingIdType),e.writeFieldEnd()),null!=this.providerReportingIdIndex&&(e.writeFieldBegin("providerReportingIdIndex",Ooyala.Thrift.Type.BYTE,2),e.writeByte(this.providerReportingIdIndex),e.writeFieldEnd()),null!=this.parentContentIdIndex&&(e.writeFieldBegin("parentContentIdIndex",Ooyala.Thrift.Type.BYTE,3),e.writeByte(this.parentContentIdIndex),e.writeFieldEnd()),null!=this.syndicationDestinationIdIndex&&(e.writeFieldBegin("syndicationDestinationIdIndex",Ooyala.Thrift.Type.BYTE,4),e.writeByte(this.syndicationDestinationIdIndex),e.writeFieldEnd()),null!=this.adSetId&&(e.writeFieldBegin("adSetId",Ooyala.Thrift.Type.I32,5),e.writeI32(this.adSetId),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.PlayerEvent=function(e){this.reportingIdIndex=0,this.reportingIdIndices=[],this.eventType=0,this.param2=this.param1="",this.download=new Ooyala.Logging.DownloadStats,this.chunkFailover=new Ooyala.Logging.ChunkFailoverInfo,this.playhead=new Ooyala.Logging.PlayheadStatus,this.cvinfo=new Ooyala.Logging.CvObjectClickInfo,this.DEPRECATED_adClick=new Ooyala.AdsLogging.AdClick,this.buckets=new Ooyala.Logging.WatchedBuckets,this.timePlayed=0,this.bitratePlayed=new Ooyala.Logging.BitratePlayed,this.adTracking=new Ooyala.AdsLogging.AdTracking,this.metric=new Ooyala.MetricsLogging.Metric,this.lastEventTime=0,this.firstForVideo=this.firstForRootContent=this.firstForPlayer=!1,this.bufferType=0,this.bitrateTransition=new Ooyala.Logging.BitrateTransition,this.bitratesAvailable=[],this.sharing=new Ooyala.Logging.Sharing,this.payPerView=new Ooyala.Logging.PayPerView,this.sasAuthorize=new Ooyala.Logging.SasAuthorize,this.sasAuthorizeV2=new Ooyala.Logging.SasAuthorizeV2,this.autoplay=!1,this.customEvent=new Ooyala.CustomEventsLogging.CustomEvent,this.personalizationBucketInfo=new Ooyala.Logging.PersonalizationBucketInfo,this.reportingIdIndexToPlayheadPositionMillis={},this.seqnum=this.playthroughPercent=0,null!=e&&(null!=e.reportingIdIndex&&(this.reportingIdIndex=e.reportingIdIndex),null!=e.reportingIdIndices&&(this.reportingIdIndices=e.reportingIdIndices),null!=e.eventType&&(this.eventType=e.eventType),null!=e.param1&&(this.param1=e.param1),null!=e.param2&&(this.param2=e.param2),null!=e.download&&(this.download=e.download),null!=e.chunkFailover&&(this.chunkFailover=e.chunkFailover),null!=e.playhead&&(this.playhead=e.playhead),null!=e.cvinfo&&(this.cvinfo=e.cvinfo),null!=e.DEPRECATED_adClick&&(this.DEPRECATED_adClick=e.DEPRECATED_adClick),null!=e.buckets&&(this.buckets=e.buckets),null!=e.timePlayed&&(this.timePlayed=e.timePlayed),null!=e.bitratePlayed&&(this.bitratePlayed=e.bitratePlayed),null!=e.adTracking&&(this.adTracking=e.adTracking),null!=e.metric&&(this.metric=e.metric),null!=e.lastEventTime&&(this.lastEventTime=e.lastEventTime),null!=e.firstForPlayer&&(this.firstForPlayer=e.firstForPlayer),null!=e.firstForRootContent&&(this.firstForRootContent=e.firstForRootContent),null!=e.firstForVideo&&(this.firstForVideo=e.firstForVideo),null!=e.bufferType&&(this.bufferType=e.bufferType),null!=e.bitrateTransition&&(this.bitrateTransition=e.bitrateTransition),null!=e.bitratesAvailable&&(this.bitratesAvailable=e.bitratesAvailable),null!=e.sharing&&(this.sharing=e.sharing),null!=e.payPerView&&(this.payPerView=e.payPerView),null!=e.sasAuthorize&&(this.sasAuthorize=e.sasAuthorize),null!=e.sasAuthorizeV2&&(this.sasAuthorizeV2=e.sasAuthorizeV2),null!=e.autoplay&&(this.autoplay=e.autoplay),null!=e.customEvent&&(this.customEvent=e.customEvent),null!=e.personalizationBucketInfo&&(this.personalizationBucketInfo=e.personalizationBucketInfo),null!=e.reportingIdIndexToPlayheadPositionMillis&&(this.reportingIdIndexToPlayheadPositionMillis=e.reportingIdIndexToPlayheadPositionMillis),null!=e.playthroughPercent&&(this.playthroughPercent=e.playthroughPercent),null!=e.seqnum&&(this.seqnum=e.seqnum))},Ooyala.Logging.PlayerEvent.prototype={},Ooyala.Logging.PlayerEvent.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.reportingIdIndex=t.value):e.skip(i);break;case 11:if(i==Ooyala.Thrift.Type.LIST){i=0,this.reportingIdIndices=[],i=(t=e.readListBegin()).size;for(var n=0;n<i;++n)t=null,t=(t=e.readByte()).value,this.reportingIdIndices.push(t);e.readListEnd()}else e.skip(i);break;case 2:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.eventType=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.param1=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.param2=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.STRUCT?(this.download=new Ooyala.Logging.DownloadStats,this.download.read(e)):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.STRUCT?(this.chunkFailover=new Ooyala.Logging.ChunkFailoverInfo,this.chunkFailover.read(e)):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.STRUCT?(this.playhead=new Ooyala.Logging.PlayheadStatus,this.playhead.read(e)):e.skip(i);break;case 9:i==Ooyala.Thrift.Type.STRUCT?(this.cvinfo=new Ooyala.Logging.CvObjectClickInfo,this.cvinfo.read(e)):e.skip(i);break;case 10:i==Ooyala.Thrift.Type.STRUCT?(this.DEPRECATED_adClick=new Ooyala.AdsLogging.AdClick,this.DEPRECATED_adClick.read(e)):e.skip(i);break;case 12:i==Ooyala.Thrift.Type.STRUCT?(this.buckets=new Ooyala.Logging.WatchedBuckets,this.buckets.read(e)):e.skip(i);break;case 13:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.timePlayed=t.value):e.skip(i);break;case 14:i==Ooyala.Thrift.Type.STRUCT?(this.bitratePlayed=new Ooyala.Logging.BitratePlayed,this.bitratePlayed.read(e)):e.skip(i);break;case 15:i==Ooyala.Thrift.Type.STRUCT?(this.adTracking=new Ooyala.AdsLogging.AdTracking,this.adTracking.read(e)):e.skip(i);break;case 16:i==Ooyala.Thrift.Type.STRUCT?(this.metric=new Ooyala.MetricsLogging.Metric,this.metric.read(e)):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.lastEventTime=t.value):e.skip(i);break;case 17:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.firstForPlayer=t.value):e.skip(i);break;case 18:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.firstForRootContent=t.value):e.skip(i);break;case 19:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.firstForVideo=t.value):e.skip(i);break;case 20:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.bufferType=t.value):e.skip(i);break;case 21:i==Ooyala.Thrift.Type.STRUCT?(this.bitrateTransition=new Ooyala.Logging.BitrateTransition,this.bitrateTransition.read(e)):e.skip(i);break;case 22:if(i==Ooyala.Thrift.Type.LIST){for(i=0,this.bitratesAvailable=[],i=(t=e.readListBegin()).size,n=0;n<i;++n)t=null,t=(t=e.readI16()).value,this.bitratesAvailable.push(t);e.readListEnd()}else e.skip(i);break;case 23:i==Ooyala.Thrift.Type.STRUCT?(this.sharing=new Ooyala.Logging.Sharing,this.sharing.read(e)):e.skip(i);break;case 24:i==Ooyala.Thrift.Type.STRUCT?(this.payPerView=new Ooyala.Logging.PayPerView,this.payPerView.read(e)):e.skip(i);break;case 25:i==Ooyala.Thrift.Type.STRUCT?(this.sasAuthorize=new Ooyala.Logging.SasAuthorize,this.sasAuthorize.read(e)):e.skip(i);break;case 26:i==Ooyala.Thrift.Type.STRUCT?(this.sasAuthorizeV2=new Ooyala.Logging.SasAuthorizeV2,this.sasAuthorizeV2.read(e)):e.skip(i);break;case 28:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.autoplay=t.value):e.skip(i);break;case 29:i==Ooyala.Thrift.Type.STRUCT?(this.customEvent=new Ooyala.CustomEventsLogging.CustomEvent,this.customEvent.read(e)):e.skip(i);break;case 30:i==Ooyala.Thrift.Type.STRUCT?(this.personalizationBucketInfo=new Ooyala.Logging.PersonalizationBucketInfo,this.personalizationBucketInfo.read(e)):e.skip(i);break;case 31:if(i==Ooyala.Thrift.Type.MAP){for(i=0,this.reportingIdIndexToPlayheadPositionMillis={},i=(t=e.readMapBegin()).size,n=0;n<i;++n)val43=key42=0,t=e.readByte(),key42=t.value,t=e.readI32(),val43=t.value,this.reportingIdIndexToPlayheadPositionMillis[key42]=val43;e.readMapEnd()}else e.skip(i);break;case 32:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.playthroughPercent=t.value):e.skip(i);break;case 33:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.seqnum=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.PlayerEvent.prototype.write=function(e){if(e.writeStructBegin("PlayerEvent"),null!=this.reportingIdIndex&&(e.writeFieldBegin("reportingIdIndex",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.reportingIdIndex),e.writeFieldEnd()),null!=this.reportingIdIndices){e.writeFieldBegin("reportingIdIndices",Ooyala.Thrift.Type.LIST,11),e.writeListBegin(Ooyala.Thrift.Type.BYTE,this.reportingIdIndices.length);for(var t=0;t<this.reportingIdIndices.length;t++)e.writeByte(this.reportingIdIndices[t]);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.eventType&&(e.writeFieldBegin("eventType",Ooyala.Thrift.Type.BYTE,2),e.writeByte(this.eventType),e.writeFieldEnd()),null!=this.param1&&(e.writeFieldBegin("param1",Ooyala.Thrift.Type.STRING,3),e.writeString(this.param1),e.writeFieldEnd()),null!=this.param2&&(e.writeFieldBegin("param2",Ooyala.Thrift.Type.STRING,4),e.writeString(this.param2),e.writeFieldEnd()),null!=this.download&&(e.writeFieldBegin("download",Ooyala.Thrift.Type.STRUCT,5),this.download.write(e),e.writeFieldEnd()),null!=this.chunkFailover&&(e.writeFieldBegin("chunkFailover",Ooyala.Thrift.Type.STRUCT,7),this.chunkFailover.write(e),e.writeFieldEnd()),null!=this.playhead&&(e.writeFieldBegin("playhead",Ooyala.Thrift.Type.STRUCT,8),this.playhead.write(e),e.writeFieldEnd()),null!=this.cvinfo&&(e.writeFieldBegin("cvinfo",Ooyala.Thrift.Type.STRUCT,9),this.cvinfo.write(e),e.writeFieldEnd()),null!=this.DEPRECATED_adClick&&(e.writeFieldBegin("DEPRECATED_adClick",Ooyala.Thrift.Type.STRUCT,10),this.DEPRECATED_adClick.write(e),e.writeFieldEnd()),null!=this.buckets&&(e.writeFieldBegin("buckets",Ooyala.Thrift.Type.STRUCT,12),this.buckets.write(e),e.writeFieldEnd()),null!=this.timePlayed&&(e.writeFieldBegin("timePlayed",Ooyala.Thrift.Type.I32,13),e.writeI32(this.timePlayed),e.writeFieldEnd()),null!=this.bitratePlayed&&(e.writeFieldBegin("bitratePlayed",Ooyala.Thrift.Type.STRUCT,14),this.bitratePlayed.write(e),e.writeFieldEnd()),null!=this.adTracking&&(e.writeFieldBegin("adTracking",Ooyala.Thrift.Type.STRUCT,15),this.adTracking.write(e),e.writeFieldEnd()),null!=this.metric&&(e.writeFieldBegin("metric",Ooyala.Thrift.Type.STRUCT,16),this.metric.write(e),e.writeFieldEnd()),null!=this.lastEventTime&&(e.writeFieldBegin("lastEventTime",Ooyala.Thrift.Type.I32,6),e.writeI32(this.lastEventTime),e.writeFieldEnd()),null!=this.firstForPlayer&&(e.writeFieldBegin("firstForPlayer",Ooyala.Thrift.Type.BOOL,17),e.writeBool(this.firstForPlayer),e.writeFieldEnd()),null!=this.firstForRootContent&&(e.writeFieldBegin("firstForRootContent",Ooyala.Thrift.Type.BOOL,18),e.writeBool(this.firstForRootContent),e.writeFieldEnd()),null!=this.firstForVideo&&(e.writeFieldBegin("firstForVideo",Ooyala.Thrift.Type.BOOL,19),e.writeBool(this.firstForVideo),e.writeFieldEnd()),null!=this.bufferType&&(e.writeFieldBegin("bufferType",Ooyala.Thrift.Type.BYTE,20),e.writeByte(this.bufferType),e.writeFieldEnd()),null!=this.bitrateTransition&&(e.writeFieldBegin("bitrateTransition",Ooyala.Thrift.Type.STRUCT,21),this.bitrateTransition.write(e),e.writeFieldEnd()),null!=this.bitratesAvailable){for(e.writeFieldBegin("bitratesAvailable",Ooyala.Thrift.Type.LIST,22),e.writeListBegin(Ooyala.Thrift.Type.I16,this.bitratesAvailable.length),t=0;t<this.bitratesAvailable.length;t++)e.writeI16(this.bitratesAvailable[t]);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.sharing&&(e.writeFieldBegin("sharing",Ooyala.Thrift.Type.STRUCT,23),this.sharing.write(e),e.writeFieldEnd()),null!=this.payPerView&&(e.writeFieldBegin("payPerView",Ooyala.Thrift.Type.STRUCT,24),this.payPerView.write(e),e.writeFieldEnd()),null!=this.sasAuthorize&&(e.writeFieldBegin("sasAuthorize",Ooyala.Thrift.Type.STRUCT,25),this.sasAuthorize.write(e),e.writeFieldEnd()),null!=this.sasAuthorizeV2&&(e.writeFieldBegin("sasAuthorizeV2",Ooyala.Thrift.Type.STRUCT,26),this.sasAuthorizeV2.write(e),e.writeFieldEnd()),null!=this.autoplay&&(e.writeFieldBegin("autoplay",Ooyala.Thrift.Type.BOOL,28),e.writeBool(this.autoplay),e.writeFieldEnd()),null!=this.customEvent&&(e.writeFieldBegin("customEvent",Ooyala.Thrift.Type.STRUCT,29),this.customEvent.write(e),e.writeFieldEnd()),null!=this.personalizationBucketInfo&&(e.writeFieldBegin("personalizationBucketInfo",Ooyala.Thrift.Type.STRUCT,30),this.personalizationBucketInfo.write(e),e.writeFieldEnd()),null!=this.reportingIdIndexToPlayheadPositionMillis){for(key in e.writeFieldBegin("reportingIdIndexToPlayheadPositionMillis",Ooyala.Thrift.Type.MAP,31),t=0,this.reportingIdIndexToPlayheadPositionMillis)this.reportingIdIndexToPlayheadPositionMillis.hasOwnProperty(key)&&t++;for(var i in e.writeMapBegin(Ooyala.Thrift.Type.BYTE,Ooyala.Thrift.Type.I32,t),this.reportingIdIndexToPlayheadPositionMillis)t=this.reportingIdIndexToPlayheadPositionMillis[i],e.writeByte(i),e.writeI32(t);e.writeMapEnd(),e.writeFieldEnd()}null!=this.playthroughPercent&&(e.writeFieldBegin("playthroughPercent",Ooyala.Thrift.Type.I32,32),e.writeI32(this.playthroughPercent),e.writeFieldEnd()),null!=this.seqnum&&(e.writeFieldBegin("seqnum",Ooyala.Thrift.Type.I32,33),e.writeI32(this.seqnum),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.User=function(e){this.city=this.county=this.region=this.country="",this.lon=this.lat=0,this.clientIP="",this.source=this.pmsaCode=this.dmaCode=0,this.cookie="",null!=e&&(null!=e.country&&(this.country=e.country),null!=e.region&&(this.region=e.region),null!=e.county&&(this.county=e.county),null!=e.city&&(this.city=e.city),null!=e.lat&&(this.lat=e.lat),null!=e.lon&&(this.lon=e.lon),null!=e.clientIP&&(this.clientIP=e.clientIP),null!=e.dmaCode&&(this.dmaCode=e.dmaCode),null!=e.pmsaCode&&(this.pmsaCode=e.pmsaCode),null!=e.source&&(this.source=e.source),null!=e.cookie&&(this.cookie=e.cookie))},Ooyala.Logging.User.prototype={},Ooyala.Logging.User.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.country=t.value):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.region=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.county=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.city=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.lat=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.lon=t.value):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.clientIP=t.value):e.skip(i);break;case 9:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.dmaCode=t.value):e.skip(i);break;case 10:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.pmsaCode=t.value):e.skip(i);break;case 11:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.source=t.value):e.skip(i);break;case 12:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.cookie=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.User.prototype.write=function(e){e.writeStructBegin("User"),null!=this.country&&(e.writeFieldBegin("country",Ooyala.Thrift.Type.STRING,1),e.writeString(this.country),e.writeFieldEnd()),null!=this.region&&(e.writeFieldBegin("region",Ooyala.Thrift.Type.STRING,2),e.writeString(this.region),e.writeFieldEnd()),null!=this.county&&(e.writeFieldBegin("county",Ooyala.Thrift.Type.STRING,3),e.writeString(this.county),e.writeFieldEnd()),null!=this.city&&(e.writeFieldBegin("city",Ooyala.Thrift.Type.STRING,4),e.writeString(this.city),e.writeFieldEnd()),null!=this.lat&&(e.writeFieldBegin("lat",Ooyala.Thrift.Type.I32,6),e.writeI32(this.lat),e.writeFieldEnd()),null!=this.lon&&(e.writeFieldBegin("lon",Ooyala.Thrift.Type.I32,7),e.writeI32(this.lon),e.writeFieldEnd()),null!=this.clientIP&&(e.writeFieldBegin("clientIP",Ooyala.Thrift.Type.STRING,8),e.writeString(this.clientIP),e.writeFieldEnd()),null!=this.dmaCode&&(e.writeFieldBegin("dmaCode",Ooyala.Thrift.Type.I16,9),e.writeI16(this.dmaCode),e.writeFieldEnd()),null!=this.pmsaCode&&(e.writeFieldBegin("pmsaCode",Ooyala.Thrift.Type.I16,10),e.writeI16(this.pmsaCode),e.writeFieldEnd()),null!=this.source&&(e.writeFieldBegin("source",Ooyala.Thrift.Type.BYTE,11),e.writeByte(this.source),e.writeFieldEnd()),null!=this.cookie&&(e.writeFieldBegin("cookie",Ooyala.Thrift.Type.STRING,12),e.writeString(this.cookie),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},Ooyala.Logging.PlayerLogEntry=function(e){this.version=1,this.user=new Ooyala.Logging.User,this.logTime=0,this.logServer=this.userAgent=this.ipaddr="",this.userTimezone=this.userTime=0,this.documentUrl=this.country=this.guid="",this.authenticationTime=0,this.reportingIds=[],this.reportingIdDescriptors=[],this.tags=[],this.timezoneIds=[],this.clientStat="",this.events=[],this.adSpots=[],this.flashCookieAge=this.playerEmbedType=this.rootContentReportingIdIndex=this.providerReportingIdIndex=0,this.isUntrustedDocUrl=!1,this.bucketInfo="",this.customEvents=[],this.accountId="",this.variationIds=[],this.playerBrandingId="",this.userTimeMillis=this.logTimeMillis=this.randomSessionSeed=this.sessionStartTimeMillis=0,null!=e&&(null!=e.version&&(this.version=e.version),null!=e.user&&(this.user=e.user),null!=e.logTime&&(this.logTime=e.logTime),null!=e.ipaddr&&(this.ipaddr=e.ipaddr),null!=e.userAgent&&(this.userAgent=e.userAgent),null!=e.logServer&&(this.logServer=e.logServer),null!=e.userTime&&(this.userTime=e.userTime),null!=e.userTimezone&&(this.userTimezone=e.userTimezone),null!=e.guid&&(this.guid=e.guid),null!=e.country&&(this.country=e.country),null!=e.documentUrl&&(this.documentUrl=e.documentUrl),null!=e.authenticationTime&&(this.authenticationTime=e.authenticationTime),null!=e.reportingIds&&(this.reportingIds=e.reportingIds),null!=e.reportingIdDescriptors&&(this.reportingIdDescriptors=e.reportingIdDescriptors),null!=e.tags&&(this.tags=e.tags),null!=e.timezoneIds&&(this.timezoneIds=e.timezoneIds),null!=e.clientStat&&(this.clientStat=e.clientStat),null!=e.events&&(this.events=e.events),null!=e.adSpots&&(this.adSpots=e.adSpots),null!=e.providerReportingIdIndex&&(this.providerReportingIdIndex=e.providerReportingIdIndex),null!=e.rootContentReportingIdIndex&&(this.rootContentReportingIdIndex=e.rootContentReportingIdIndex),null!=e.playerEmbedType&&(this.playerEmbedType=e.playerEmbedType),null!=e.flashCookieAge&&(this.flashCookieAge=e.flashCookieAge),null!=e.isUntrustedDocUrl&&(this.isUntrustedDocUrl=e.isUntrustedDocUrl),null!=e.bucketInfo&&(this.bucketInfo=e.bucketInfo),null!=e.customEvents&&(this.customEvents=e.customEvents),null!=e.accountId&&(this.accountId=e.accountId),null!=e.variationIds&&(this.variationIds=e.variationIds),null!=e.playerBrandingId&&(this.playerBrandingId=e.playerBrandingId),null!=e.sessionStartTimeMillis&&(this.sessionStartTimeMillis=e.sessionStartTimeMillis),null!=e.randomSessionSeed&&(this.randomSessionSeed=e.randomSessionSeed),null!=e.logTimeMillis&&(this.logTimeMillis=e.logTimeMillis),null!=e.userTimeMillis&&(this.userTimeMillis=e.userTimeMillis))},Ooyala.Logging.PlayerLogEntry.prototype={},Ooyala.Logging.PlayerLogEntry.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.version=t.value):e.skip(i);break;case 21:i==Ooyala.Thrift.Type.STRUCT?(this.user=new Ooyala.Logging.User,this.user.read(e)):e.skip(i);break;case 2:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.logTime=t.value):e.skip(i);break;case 3:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.ipaddr=t.value):e.skip(i);break;case 16:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.userAgent=t.value):e.skip(i);break;case 22:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.logServer=t.value):e.skip(i);break;case 8:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.userTime=t.value):e.skip(i);break;case 9:i==Ooyala.Thrift.Type.I16?(t=e.readI16(),this.userTimezone=t.value):e.skip(i);break;case 4:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.guid=t.value):e.skip(i);break;case 5:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.country=t.value):e.skip(i);break;case 6:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.documentUrl=t.value):e.skip(i);break;case 7:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.authenticationTime=t.value):e.skip(i);break;case 10:if(i==Ooyala.Thrift.Type.LIST){i=0,this.reportingIds=[],i=(t=e.readListBegin()).size;for(var n=0;n<i;++n)t=null,t=(t=e.readString()).value,this.reportingIds.push(t);e.readListEnd()}else e.skip(i);break;case 20:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.reportingIdDescriptors=[],t=(t=e.readListBegin()).size,i=0;i<t;++i)n=null,(n=new Ooyala.Logging.ReportingIdDescriptor).read(e),this.reportingIdDescriptors.push(n);e.readListEnd()}else e.skip(i);break;case 24:if(i==Ooyala.Thrift.Type.LIST){for(i=0,this.tags=[],i=(t=e.readListBegin()).size,n=0;n<i;++n)t=null,t=(t=e.readString()).value,this.tags.push(t);e.readListEnd()}else e.skip(i);break;case 12:if(i==Ooyala.Thrift.Type.LIST){for(i=0,this.timezoneIds=[],i=(t=e.readListBegin()).size,n=0;n<i;++n)t=null,t=(t=e.readI32()).value,this.timezoneIds.push(t);e.readListEnd()}else e.skip(i);break;case 13:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.clientStat=t.value):e.skip(i);break;case 11:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.events=[],t=(t=e.readListBegin()).size,i=0;i<t;++i)n=null,(n=new Ooyala.Logging.PlayerEvent).read(e),this.events.push(n);e.readListEnd()}else e.skip(i);break;case 14:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.adSpots=[],t=(t=e.readListBegin()).size,i=0;i<t;++i)n=null,(n=new Ooyala.AdsLogging.AdSpot).read(e),this.adSpots.push(n);e.readListEnd()}else e.skip(i);break;case 17:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.providerReportingIdIndex=t.value):e.skip(i);break;case 18:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.rootContentReportingIdIndex=t.value):e.skip(i);break;case 15:i==Ooyala.Thrift.Type.BYTE?(t=e.readByte(),this.playerEmbedType=t.value):e.skip(i);break;case 19:i==Ooyala.Thrift.Type.I32?(t=e.readI32(),this.flashCookieAge=t.value):e.skip(i);break;case 23:i==Ooyala.Thrift.Type.BOOL?(t=e.readBool(),this.isUntrustedDocUrl=t.value):e.skip(i);break;case 25:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.bucketInfo=t.value):e.skip(i);break;case 26:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.customEvents=[],t=(t=e.readListBegin()).size,i=0;i<t;++i)n=null,(n=new Ooyala.CustomEventsLogging.CustomEvent).read(e),this.customEvents.push(n);e.readListEnd()}else e.skip(i);break;case 27:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.accountId=t.value):e.skip(i);break;case 28:if(i==Ooyala.Thrift.Type.LIST){for(i=0,this.variationIds=[],i=(t=e.readListBegin()).size,n=0;n<i;++n)t=null,t=(t=e.readI32()).value,this.variationIds.push(t);e.readListEnd()}else e.skip(i);break;case 29:i==Ooyala.Thrift.Type.STRING?(t=e.readString(),this.playerBrandingId=t.value):e.skip(i);break;case 30:i==Ooyala.Thrift.Type.I64?(t=e.readI64(),this.sessionStartTimeMillis=t.value):e.skip(i);break;case 31:i==Ooyala.Thrift.Type.I64?(t=e.readI64(),this.randomSessionSeed=t.value):e.skip(i);break;case 32:i==Ooyala.Thrift.Type.I64?(t=e.readI64(),this.logTimeMillis=t.value):e.skip(i);break;case 33:i==Ooyala.Thrift.Type.I64?(t=e.readI64(),this.userTimeMillis=t.value):e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.PlayerLogEntry.prototype.write=function(e){if(e.writeStructBegin("PlayerLogEntry"),null!=this.version&&(e.writeFieldBegin("version",Ooyala.Thrift.Type.BYTE,1),e.writeByte(this.version),e.writeFieldEnd()),null!=this.user&&(e.writeFieldBegin("user",Ooyala.Thrift.Type.STRUCT,21),this.user.write(e),e.writeFieldEnd()),null!=this.logTime&&(e.writeFieldBegin("logTime",Ooyala.Thrift.Type.I32,2),e.writeI32(this.logTime),e.writeFieldEnd()),null!=this.ipaddr&&(e.writeFieldBegin("ipaddr",Ooyala.Thrift.Type.STRING,3),e.writeString(this.ipaddr),e.writeFieldEnd()),null!=this.userAgent&&(e.writeFieldBegin("userAgent",Ooyala.Thrift.Type.STRING,16),e.writeString(this.userAgent),e.writeFieldEnd()),null!=this.logServer&&(e.writeFieldBegin("logServer",Ooyala.Thrift.Type.STRING,22),e.writeString(this.logServer),e.writeFieldEnd()),null!=this.userTime&&(e.writeFieldBegin("userTime",Ooyala.Thrift.Type.I32,8),e.writeI32(this.userTime),e.writeFieldEnd()),null!=this.userTimezone&&(e.writeFieldBegin("userTimezone",Ooyala.Thrift.Type.I16,9),e.writeI16(this.userTimezone),e.writeFieldEnd()),null!=this.guid&&(e.writeFieldBegin("guid",Ooyala.Thrift.Type.STRING,4),e.writeString(this.guid),e.writeFieldEnd()),null!=this.country&&(e.writeFieldBegin("country",Ooyala.Thrift.Type.STRING,5),e.writeString(this.country),e.writeFieldEnd()),null!=this.documentUrl&&(e.writeFieldBegin("documentUrl",Ooyala.Thrift.Type.STRING,6),e.writeString(this.documentUrl),e.writeFieldEnd()),null!=this.authenticationTime&&(e.writeFieldBegin("authenticationTime",Ooyala.Thrift.Type.I32,7),e.writeI32(this.authenticationTime),e.writeFieldEnd()),null!=this.reportingIds){e.writeFieldBegin("reportingIds",Ooyala.Thrift.Type.LIST,10),e.writeListBegin(Ooyala.Thrift.Type.STRING,this.reportingIds.length);for(var t=0;t<this.reportingIds.length;t++)e.writeString(this.reportingIds[t]);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.reportingIdDescriptors){for(e.writeFieldBegin("reportingIdDescriptors",Ooyala.Thrift.Type.LIST,20),e.writeListBegin(Ooyala.Thrift.Type.STRUCT,this.reportingIdDescriptors.length),t=0;t<this.reportingIdDescriptors.length;t++)this.reportingIdDescriptors[t].write(e);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.tags){for(e.writeFieldBegin("tags",Ooyala.Thrift.Type.LIST,24),e.writeListBegin(Ooyala.Thrift.Type.STRING,this.tags.length),t=0;t<this.tags.length;t++)e.writeString(this.tags[t]);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.timezoneIds){for(e.writeFieldBegin("timezoneIds",Ooyala.Thrift.Type.LIST,12),e.writeListBegin(Ooyala.Thrift.Type.I32,this.timezoneIds.length),t=0;t<this.timezoneIds.length;t++)e.writeI32(this.timezoneIds[t]);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.clientStat&&(e.writeFieldBegin("clientStat",Ooyala.Thrift.Type.STRING,13),e.writeString(this.clientStat),e.writeFieldEnd()),null!=this.events){for(e.writeFieldBegin("events",Ooyala.Thrift.Type.LIST,11),e.writeListBegin(Ooyala.Thrift.Type.STRUCT,this.events.length),t=0;t<this.events.length;t++)this.events[t].write(e);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.adSpots){for(e.writeFieldBegin("adSpots",Ooyala.Thrift.Type.LIST,14),e.writeListBegin(Ooyala.Thrift.Type.STRUCT,this.adSpots.length),t=0;t<this.adSpots.length;t++)this.adSpots[t].write(e);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.providerReportingIdIndex&&(e.writeFieldBegin("providerReportingIdIndex",Ooyala.Thrift.Type.BYTE,17),e.writeByte(this.providerReportingIdIndex),e.writeFieldEnd()),null!=this.rootContentReportingIdIndex&&(e.writeFieldBegin("rootContentReportingIdIndex",Ooyala.Thrift.Type.BYTE,18),e.writeByte(this.rootContentReportingIdIndex),e.writeFieldEnd()),null!=this.playerEmbedType&&(e.writeFieldBegin("playerEmbedType",Ooyala.Thrift.Type.BYTE,15),e.writeByte(this.playerEmbedType),e.writeFieldEnd()),null!=this.flashCookieAge&&(e.writeFieldBegin("flashCookieAge",Ooyala.Thrift.Type.I32,19),e.writeI32(this.flashCookieAge),e.writeFieldEnd()),null!=this.isUntrustedDocUrl&&(e.writeFieldBegin("isUntrustedDocUrl",Ooyala.Thrift.Type.BOOL,23),e.writeBool(this.isUntrustedDocUrl),e.writeFieldEnd()),null!=this.bucketInfo&&(e.writeFieldBegin("bucketInfo",Ooyala.Thrift.Type.STRING,25),e.writeString(this.bucketInfo),e.writeFieldEnd()),null!=this.customEvents){for(e.writeFieldBegin("customEvents",Ooyala.Thrift.Type.LIST,26),e.writeListBegin(Ooyala.Thrift.Type.STRUCT,this.customEvents.length),t=0;t<this.customEvents.length;t++)this.customEvents[t].write(e);e.writeListEnd(),e.writeFieldEnd()}if(null!=this.accountId&&(e.writeFieldBegin("accountId",Ooyala.Thrift.Type.STRING,27),e.writeString(this.accountId),e.writeFieldEnd()),null!=this.variationIds){for(e.writeFieldBegin("variationIds",Ooyala.Thrift.Type.LIST,28),e.writeListBegin(Ooyala.Thrift.Type.I32,this.variationIds.length),t=0;t<this.variationIds.length;t++)e.writeI32(this.variationIds[t]);e.writeListEnd(),e.writeFieldEnd()}null!=this.playerBrandingId&&(e.writeFieldBegin("playerBrandingId",Ooyala.Thrift.Type.STRING,29),e.writeString(this.playerBrandingId),e.writeFieldEnd()),null!=this.sessionStartTimeMillis&&(e.writeFieldBegin("sessionStartTimeMillis",Ooyala.Thrift.Type.I64,30),e.writeI64(this.sessionStartTimeMillis),e.writeFieldEnd()),null!=this.randomSessionSeed&&(e.writeFieldBegin("randomSessionSeed",Ooyala.Thrift.Type.I64,31),e.writeI64(this.randomSessionSeed),e.writeFieldEnd()),null!=this.logTimeMillis&&(e.writeFieldBegin("logTimeMillis",Ooyala.Thrift.Type.I64,32),e.writeI64(this.logTimeMillis),e.writeFieldEnd()),null!=this.userTimeMillis&&(e.writeFieldBegin("userTimeMillis",Ooyala.Thrift.Type.I64,33),e.writeI64(this.userTimeMillis),e.writeFieldEnd()),e.writeFieldStop(),e.writeStructEnd()},"undefined"==typeof Ooyala&&(Ooyala={}),void 0===Ooyala.Logging&&(Ooyala.Logging={}),Ooyala.Logging.Session=function(e){this.log_entries=[],null!=e&&null!=e.log_entries&&(this.log_entries=e.log_entries)},Ooyala.Logging.Session.prototype={},Ooyala.Logging.Session.prototype.read=function(e){for(var t=e.readStructBegin();;){var i=(t=e.readFieldBegin()).ftype;if(i==Ooyala.Thrift.Type.STOP)break;switch(t.fid){case 1:if(i==Ooyala.Thrift.Type.LIST){for(t=0,this.log_entries=[],t=e.readListBegin().size,i=0;i<t;++i){var n=null;(n=new Ooyala.Logging.PlayerLogEntry).read(e),this.log_entries.push(n)}e.readListEnd()}else e.skip(i);break;default:e.skip(i)}e.readFieldEnd()}e.readStructEnd()},Ooyala.Logging.Session.prototype.write=function(e){if(e.writeStructBegin("Session"),null!=this.log_entries){e.writeFieldBegin("log_entries",Ooyala.Thrift.Type.LIST,1),e.writeListBegin(Ooyala.Thrift.Type.STRUCT,this.log_entries.length);for(var t=0;t<this.log_entries.length;t++)this.log_entries[t].write(e);e.writeListEnd(),e.writeFieldEnd()}e.writeFieldStop(),e.writeStructEnd()},Ooyala.Util.createNamespace("Ooyala.ThirdParty.CRC32"),Ooyala.ThirdParty.CRC32.computeCrc=function(e){var t=e;e=void 0,t=(t=t).replace(/\x0d\x0a/g,"\n");for(var i="",n=0;n<t.length;n++){var a=t.charCodeAt(n);a<128?i+=String.fromCharCode(a):(a>127&&a<2048?i+=String.fromCharCode(a>>6|192):(i+=String.fromCharCode(a>>12|224),i+=String.fromCharCode(a>>6&63|128)),i+=String.fromCharCode(63&a|128))}for(t=i,void 0===e&&(e=0),a=a=0,e^=-1,i=0,n=t.length;i<n;i++)a=255&(e^t.charCodeAt(i)),e=e>>>8^(a="0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substr(9*a,8));return 2*((e^=-1)>>>1)+(1&e)},Ooyala.Util.createNamespace("Ooyala.ThirdParty.SHA256"),function(){function e(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function t(e,t){return e>>>t|e<<32-t}function i(i,n){var a,r,s,o,l,c,u,d,h,A,E,p,f=Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),T=Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),g=Array(64);for(i[n>>5]|=128<<24-n%32,i[15+(n+64>>9<<4)]=n,h=0;h<i.length;h+=16){for(a=T[0],r=T[1],s=T[2],o=T[3],l=T[4],c=T[5],u=T[6],d=T[7],A=0;A<64;A++)g[A]=A<16?i[A+h]:e(e(e(t(g[A-2],17)^t(g[A-2],19)^g[A-2]>>>10,g[A-7]),t(g[A-15],7)^t(g[A-15],18)^g[A-15]>>>3),g[A-16]),E=e(e(e(e(d,t(l,6)^t(l,11)^t(l,25)),l&c^~l&u),f[A]),g[A]),p=e(t(a,2)^t(a,13)^t(a,22),a&r^a&s^r&s),d=u,u=c,c=l,l=e(o,E),o=s,s=r,r=a,a=e(E,p);T[0]=e(a,T[0]),T[1]=e(r,T[1]),T[2]=e(s,T[2]),T[3]=e(o,T[3]),T[4]=e(l,T[4]),T[5]=e(c,T[5]),T[6]=e(u,T[6]),T[7]=e(d,T[7])}return T}function n(e){for(var t=[],i=(1<<a)-1,n=0;n<e.length*a;n+=a)t[n>>5]|=(e.charCodeAt(n/a)&i)<<24-n%32;return t}var a=8;Ooyala.ThirdParty.SHA256.sha256ToHexString=function(e){e=i(n(e),e.length*a);for(var t="",r=0;r<4*e.length;r++)t+="0123456789abcdef".charAt(e[r>>2]>>8*(3-r%4)+4&15)+"0123456789abcdef".charAt(e[r>>2]>>8*(3-r%4)&15);return t},Ooyala.ThirdParty.SHA256.sha256ToBase64String=function(e){e=i(n(e),e.length*a);for(var t="",r=0;r<4*e.length;r+=3)for(var s=(e[r>>2]>>8*(3-r%4)&255)<<16|(e[r+1>>2]>>8*(3-(r+1)%4)&255)<<8|e[r+2>>2]>>8*(3-(r+2)%4)&255,o=0;o<4;o++)t+=8*r+6*o>32*e.length?"":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s>>6*(3-o)&63);return t},Ooyala.ThirdParty.SHA256.sha256ToString=function(e){e=i(n(e),e.length*a);for(var t="",r=(1<<a)-1,s=0;s<32*e.length;s+=a)t+=String.fromCharCode(e[s>>5]>>>24-s%32&r);return t}}(),Ooyala.Constants={LOGGING_SERVER_DOMAIN:("https:"==window.location.protocol?"https:":"http:")+"//l.ooyala.com",IFRAME_PINGER_PATH:"/analytics/iframe.html",SAS_URL:("https:"==window.location.protocol?"https:":"http:")+"//player.ooyala.com/sas/analytics",HIGH_PRIORITY_EVENT:0,LOW_PRIORITY_EVENT:1,HIGH_PRIORITY_EVENT_FLUSH_INTERVAL_MS:1e3,LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS:1e4,MIN_DURATION_FOR_STEP_BACKOFF:24e4},Ooyala.Util.createNamespace("Ooyala.Pinger"),Ooyala.Pinger.ALIVE_MESSAGE="&handshake!",Ooyala.Pinger.COOKIE_NAME="gi",Ooyala.Pinger.DAYS_TO_LIVE=7300,Ooyala.Pinger._numCompare=function(){return-1},Ooyala.Pinger.RegisterMessageListener=function(e){window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)},Ooyala.Pinger.RemoveMessageListener=function(e){window.removeEventListener?window.removeEventListener("message",e):window.detachEvent("onmessage",e)},Ooyala.Pinger._createAndSetGuid=function(){var e=(new Date).getTime(),t=window.navigator.userAgent,i=Math.random();return i=i>0?i.toString(16).split(".")[1]:"00000000",e=Ooyala.ThirdParty.SHA256.sha256ToBase64String(e+t+i),new Ooyala.Util.CookieManager(Ooyala.Pinger.COOKIE_NAME,Ooyala.Pinger.DAYS_TO_LIVE,Ooyala.Pinger._numCompare).set("guid",e),e},Ooyala.Pinger.getOrCreateGuid=function(){var e=new Ooyala.Util.CookieManager(Ooyala.Pinger.COOKIE_NAME,Ooyala.Pinger.DAYS_TO_LIVE,Ooyala.Pinger._numCompare).get("guid");return null==e&&(e=Ooyala.Pinger._createAndSetGuid()),e},Ooyala.Pinger.Listener=function(e){this._reconstructor=new Ooyala.Pinger.ChunkReconstructor(e)},Ooyala.Pinger.Listener.POLL_INTERVAL=500,Ooyala.Pinger.Listener.prototype={_pollAndSend:function(){var e=window.location.hash;e.length>1&&(window.location.hash="",this._reconstructor.push(e.substring(1))),window.setTimeout(Ooyala.Util.bind(this._pollAndSend,this),Ooyala.Pinger.Listener.POLL_INTERVAL)},_messageHandler:function(e){this._reconstructor.push(e.data)},start:function(){if(window.postMessage){try{parent.postMessage(Ooyala.Pinger.ALIVE_MESSAGE+";"+Ooyala.Pinger.getOrCreateGuid(),"*")}catch(e){}Ooyala.Pinger.RegisterMessageListener(Ooyala.Util.bind(this._messageHandler,this))}else this._pollAndSend()}},Ooyala.Pinger.ChunkReconstructor=function(e){this._receiver=e,this._reset()},Ooyala.Pinger.ChunkReconstructor.prototype={_parseChunk:function(e){var t=e.split("~");if(3!=t.length)return window.console&&console.log("Warning - Ooyala iframe is receiving data from non-Ooyala sources. Shouldn't be the case, ignored the data: "+e),null;if((e={}).data=t[0],e.id=parseInt(t[1]),e.count=parseInt(t[2]),e.id<=0||e.count<=0||e.id>e.count)throw"Bad chunk ID or total chunk count in ping chunk.";return e},_reset:function(){this._data="",this._totalChunks=this._chunksSeen=0},_handleChunk:function(e){0==this._totalChunks?e.id>1||(1==e.count?this._receiver.sendPing(e.data):(this._chunksSeen=1,this._totalChunks=e.count,this._data=e.data)):e.count==this._totalChunks&&e.id==this._chunksSeen+1?e.count==e.id?(e=this._data+e.data,this._reset(),this._receiver.sendPing(e)):(this._chunksSeen+=1,this._data+=e.data):(this._reset(),this._handleChunk(e))},push:function(e){null!==(e=this._parseChunk(e))&&this._handleChunk(e)}},Ooyala.Pinger.ServerPinger=function(e){this._pingUrl=e},Ooyala.Pinger.MAX_XVERIFY_HEADER_LENGTH=7500,Ooyala.Pinger.ServerPinger.prototype={sendPing:function(e){if(e.length>Ooyala.Pinger.MAX_XVERIFY_HEADER_LENGTH)throw"Ping (length = "+e.length+") is too long.";var t=Ooyala.Util.Http.createXMLHttpRequest();t.open("POST",this._pingUrl,!0),t.setRequestHeader("X-Verify",e),t.send(null)}},Ooyala.Util.createNamespace("Ooyala.Pinger"),Ooyala.Pinger.OuterPinger=function(e){this._pingerIFrameWindow=this._pingerIFrame=null,this._browserCompatible=!0,this._onReadyFn=e,this._initializePingerIFrame(),this._bufferedChunks=[],this._scheduleFlushInMillis(Ooyala.Pinger.OuterPinger.SEND_INTERVAL_MILLIS)},Ooyala.Pinger.OuterPinger.IFRAME_BASE_URL=Ooyala.Constants.LOGGING_SERVER_DOMAIN+Ooyala.Constants.IFRAME_PINGER_PATH,Ooyala.Pinger.OuterPinger.MAX_MESSAGE_LENGTH=7500,Ooyala.Pinger.OuterPinger.MAX_CHUNKS_PER_MESSAGE=2,Ooyala.Pinger.OuterPinger.MAX_CHUNK_LENGTH=Math.ceil(Ooyala.Pinger.OuterPinger.MAX_MESSAGE_LENGTH/Ooyala.Pinger.OuterPinger.MAX_CHUNKS_PER_MESSAGE),Ooyala.Pinger.OuterPinger.SEND_INTERVAL_MILLIS=1e3,Ooyala.Pinger.OuterPinger.prototype={sendMessage:function(e){if(-1!==window.navigator.userAgent.indexOf("Netgem")){if(e.length>7500)throw"Ping (length = "+e.length+") is too long.";var t=Ooyala.Util.Http.createXMLHttpRequest();t.open("POST",Ooyala.Constants.LOGGING_SERVER_DOMAIN+"/verify",!0),t.setRequestHeader("X-Verify",e),t.send(null)}else this._browserCompatible&&(this._bufferedChunks=this._bufferedChunks.concat(this._convertMessageToChunks(e)))},_convertMessageToChunks:function(e){if(e.length<=Ooyala.Pinger.OuterPinger.MAX_MESSAGE_LENGTH){for(var t=[],i=Math.ceil(e.length/Ooyala.Pinger.OuterPinger.MAX_CHUNK_LENGTH),n=0;n<i;n++){var a=e.substr(n*Ooyala.Pinger.OuterPinger.MAX_CHUNK_LENGTH,Ooyala.Pinger.OuterPinger.MAX_CHUNK_LENGTH)+"~"+(n+1).toString()+"~"+i.toString();t.push(a)}return t}throw Error("Message (length = "+e.length+") is too long.")},_flushNextChunk:function(){var e=this._bufferedChunks.length>0?this._bufferedChunks.shift():null;e&&(window.postMessage?this._pingerIFrameWindow.postMessage(e,Ooyala.Constants.LOGGING_SERVER_DOMAIN):this._pingerIFrame.setAttribute("src",Ooyala.Pinger.OuterPinger.IFRAME_BASE_URL+"#"+e)),this._scheduleFlushInMillis(Ooyala.Pinger.OuterPinger.SEND_INTERVAL_MILLIS)},_scheduleFlushInMillis:function(e){setTimeout(Ooyala.Util.bind(this._flushNextChunk,this),e)},_getUnusedId:function(e){for(var t=0;document.getElementById(e+t.toString());)t+=1;return e+t.toString()},_initializePingerIFrame:function(){var e=this._getUnusedId("OoyalaPingerIFrame");if(window.postMessage)this._pingerIFrame=document.createElement("iframe"),this._setUpHiddenIFrame(this._pingerIFrame,e),document.body.appendChild(this._pingerIFrame),this._pingerIFrameWindow=window.frames[e],Ooyala.Pinger.RegisterMessageListener(Ooyala.Util.bind(this._handleHandshake,this));else if(-1!==window.navigator.userAgent.indexOf("Netgem"))document.write("<IFRAME id='"+e+"'></IFRAME>"),this._pingerIFrame=document.getElementById(e),this._setUpHiddenIFrame(this._pingerIFrame,e),this._pingerIFrameWindow=null,this._onReadyFn&&this._onReadyFn();else if(window.ActiveXObject){var t=new ActiveXObject("htmlfile");t.open(),t.write("<html><body><iframe id='"+e+"' src='"+Ooyala.Pinger.OuterPinger.IFRAME_BASE_URL+"'></iframe></body></html>"),t.close(),this._pingerIFrame=t.getElementById(e),this._pingerIFrameWindow=null,this._pingerIFrameDocument=t,this._onReadyFn&&this._onReadyFn()}else this._browserCompatible=!1},_handleHandshake:function(e){e&&"string"==typeof e.data&&2==(e=e.data.split(";")).length&&e[0]==Ooyala.Pinger.ALIVE_MESSAGE&&this._onReadyFn&&this._onReadyFn(e[1])},_setUpHiddenIFrame:function(e,t){e.setAttribute("name",t),e.setAttribute("id",t),e.setAttribute("src",Ooyala.Pinger.OuterPinger.IFRAME_BASE_URL),e.style.visibility="hidden",e.style["border-style"]="none",e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-5px",e.style.left="-5px"}},Ooyala.PlaytimeTracker=function(e,t,i,n){this._lastPlayheadPosition=0,this._totalTimeBetweenPlayheadUpdates=Ooyala.PlaytimeTracker.INITIAL_ESTIMATE_FOR_TIME_BETWEEN_PLAYHEAD_UPDATES,this._numPlayheadUpdateDataPoints=1,this._bucketsWatched=Ooyala.Util.Enumerable.map(Array(Ooyala.PlaytimeTracker.NUM_BUCKETS),function(){return!1}),this._numBucketsWatched=0,this._updateWasSeek=!1,this._lastBucketWatchedIndex=0,this._duration=e,this._reportTimePlayedHandle=t,this._reportBucketWatchedHandle=i,this._reportPercentageWatchedHandle=n},Ooyala.PlaytimeTracker.INITIAL_ESTIMATE_FOR_TIME_BETWEEN_PLAYHEAD_UPDATES=250,Ooyala.PlaytimeTracker.MILLIS_BETWEEN_PLAYHEAD_UPDATES_FOR_SEEK=5e3,Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET=25,Ooyala.PlaytimeTracker.NUM_BUCKETS=1e3/Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET,Ooyala.PlaytimeTracker.prototype={processPlayheadUpdate:function(e){var t=this._computeTimeDiff(e),i=this._getRangeBucketsWatched(e),n=i[0];for(i=i[1],this._lastPlayheadPosition=e,t>0&&this._reportTimePlayedHandle(t,e),e=0,n=n;n<i;n++)this._bucketsWatched[n]||(this._bucketsWatched[n]=!0,e++),t=this._bucketToMinMaxPerMille(n),this._reportBucketWatchedHandle.call(void 0,t[0],t[1]);e>0&&(i=this._numBucketsWatched*Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET+1,this._numBucketsWatched+=e,this._reportPercentageWatchedHandle.call(void 0,i,this._numBucketsWatched*Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET))},_computeTimeDiff:function(e){return 0==e?(this._updateWasSeek=!0,0):e-this._lastPlayheadPosition>Ooyala.PlaytimeTracker.MILLIS_BETWEEN_PLAYHEAD_UPDATES_FOR_SEEK||e<this._lastPlayheadPosition?(this._updateWasSeek=!0,this._estimatedTimeBetweenPlayheadUpdates()):(e-=this._lastPlayheadPosition,this._updateEstimatedTimeBetweenPlayheadUpdates(e),this._updateWasSeek=!1,e)},_getRangeBucketsWatched:function(e){var t=[0,0];return 0==e?t:(this._updateWasSeek?(-1==(e=this._timeToBucket(e))&&e++,t=[e,e+1]):t=[t=this._timeToBucket(this._lastPlayheadPosition)+1,(e=this._timeToBucket(e))+1],t)},_timeToBucket:function(e){return e<0?0:e>=this._duration?Ooyala.PlaytimeTracker.NUM_BUCKETS-1:this._perMilleToBucket(parseInt(e/this._duration*1e3))},_perMilleToBucket:function(e){return 0==e?-1:parseInt((e-1)/Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET)},_bucketToMinMaxPerMille:function(e){return[e*Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET+1,(e+1)*Ooyala.PlaytimeTracker.PER_MILLE_PER_BUCKET]},_estimatedTimeBetweenPlayheadUpdates:function(){return this._totalTimeBetweenPlayheadUpdates/this._numPlayheadUpdateDataPoints},_updateEstimatedTimeBetweenPlayheadUpdates:function(e){this._totalTimeBetweenPlayheadUpdates+=e,this._numPlayheadUpdateDataPoints+=1}},Ooyala.HistoryTracker=function(){this._cookieManager=new Ooyala.Util.CookieManager(Ooyala.HistoryTracker.COOKIE_NAME,Ooyala.HistoryTracker.DAYS_TO_LIVE,Ooyala.HistoryTracker.timestampCompare),this._cookieManager.deDupe()},Ooyala.HistoryTracker.COOKIE_NAME="Ooyala",Ooyala.HistoryTracker.DAYS_TO_LIVE=365,Ooyala.HistoryTracker.timestampCompare=function(e,t){return(null==e?0:parseFloat(e))-(null==t?0:parseFloat(t))},Ooyala.HistoryTracker.prototype={getAndSetLastEventTime:function(e,t){if(null==e||null==t)return null;var i=e+"|"+t,n=this._cookieManager.get(i);return n=null==n?null:parseFloat(n),this._currentTimestamp(),this._cookieManager.set(i,this._currentTimestamp()),n},_currentTimestamp:function(){return Math.round((new Date).getTime()/1e3)}},Ooyala.Reporter=function(e,t){if(!e)throw"No Provider Code was provided to the Reporter";this._id=Ooyala.Reporter._next_id.toString(),Ooyala.Reporter._next_id+=1,Ooyala.Reporter._map[this._id]=this,this._pCode=e,this._playerLoaded=!1,this._resetState(null,null);var i=t&&t.accountId;"string"!=typeof i&&(i=null);var n=t&&t.guid;"string"!=typeof n&&(n=null);var a=t&&t.documentUrl;"string"!=typeof a&&(a=null);var r=t&&t.playerBrandingId;"string"!=typeof r&&(r=null),this._logger=new Ooyala.ThriftLogger(this._pCode,i,n,a,r),this._historyTracker=new Ooyala.HistoryTracker,this._logger.wait("SAS_Response"),this._requestSasInformation(),this._logger.logPlayerEvents(this._createEventWithLastEventTime(Ooyala.Logging.PlayerEventType.PLAYER_LOAD,[Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX,Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX])),this._playerLoaded=!0,this._adSpot=new Ooyala.AdsLogging.AdSpot,this._adInfo={},(i=t&&t.tags)&&this.setTags(i),this._nextPlaythroughToReport=this._playthroughReportFrequency=25},Ooyala.Reporter._next_id=0,Ooyala.Reporter._map={},Ooyala.Reporter._NULL_PLAYER_EVENT_FIELDS=["bitratePlayed","download","chunkFailover","playhead","cvinfo","DEPRECATED_adClick","buckets","adTracking","metric","bitrateTransition","sharing","payPerView","sasAuthorize","sasAuthorizeV2","personalizationBucketInfo","customEvent","reportingIdIndex","lastEventTime","timePlayed","firstForPlayer","param1","param2","firstForRootContent","firstForVideo","bufferType","bitratesAvailable","reportingIdIndexToPlayheadPositionMillis","autoplay","playthroughPercent","seqnum"],Ooyala.Reporter.AdSource={OOYALA:1,DOUBLECLICK:2,LIGHTNINGCAST:3,YUME:4,TREMOR:5,ADSENSE:6,TV2N:7,OAS:8,ADTECH:9,SCANSCOUT:10,ATLAS:11,FREEWHEEL:12,OPENX:13,LIVERAIL:14,VAST:15,ADIFY:16,DART_ENTERPRISE:17,CBSI:18,BRIGHTROLL:19,UNKNOWN:20,ADAPTV:21,VIDEOPLAZA:22,SPOTXCHANGE:23},Ooyala.Reporter.AdPositionType={PREROLL:1,MIDROLL:2,POSTROLL:3,OVERLAY:4,ENDSLATE:5,STANDALONE:6},Ooyala.Reporter.AdFormat={VIDEO:1,OVERLAY:2,ENDCAP:3,COMPANION:4},Ooyala.Reporter.AdFailureReason={LOAD_ERROR:1,LOAD_TIMEOUT:2,LOAD_IO_ERROR:3,PREFETCH_ERROR:4,PREFETCH_TIMEOUT:5,PREFETCH_IO_ERROR:6,PLAY_ERROR:7,PLAY_TIMEOUT:8,PLAY_IO_ERROR:9,INVALID_PLAYER_CONFIGURATION:10,INVALID_AD_CONFIGURATION:11,AD_NOT_FOUND:12,EXCEPTION:13,AD_ERROR:14,INVALID_AD_RESPONSE:15,CONNECTION_ERROR:16,BUFFERING_TIMEOUT:17,POLICY_RESTRICTION:18},Ooyala.Reporter.prototype={reportPlayerLoad:function(){},initializeVideo:function(e,t){window.Ooyala&&(this._resetState(e,t),this._backoff=Ooyala.Backoff.getAppropriateBackoff(t),this._logger.initializeVideo(e,this._backoff),this._reportGeneralEvent(Ooyala.Logging.PlayerEventType.DISPLAY,this._reportedDisplays,this._firstDisplayForPlayer),this._firstDisplayForPlayer=!1,this._nextPlaythroughToReport=this._playthroughReportFrequency)},reportPlayRequested:function(){window.Ooyala&&(this._reportGeneralEvent(Ooyala.Logging.PlayerEventType.PLAY,this._reportedPlays,this._firstPlayForPlayer),this._firstPlayForPlayer=!1)},reportPlayStarted:function(){this.reportPlayRequested()},reportVideoStarted:function(){window.Ooyala&&(this._reportGeneralEvent(Ooyala.Logging.PlayerEventType.VIDEO_START,this._reportedVideoStarts,this._firstVideoStartForPlayer),this._firstVideoStartForPlayer=!1)},reportPlayheadUpdate:function(e){window.Ooyala&&(this._backoff.setPlayheadPosition(e),this._tracker.processPlayheadUpdate(e),e>0&&(this._reportGeneralEvent(Ooyala.Logging.PlayerEventType.PLAY,this._reportedPlays,this._firstPlayForPlayer),this._reportGeneralEvent(Ooyala.Logging.PlayerEventType.VIDEO_START,this._reportedVideoStarts,this._firstVideoStartForPlayer)))},reportReplay:function(){window.Ooyala&&this._logger.logPlayerEvents(this._createEventWithLastEventTime(Ooyala.Logging.PlayerEventType.REPLAY,[Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX,Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]))},setAdSource:function(e,t,i){if(("number"!=typeof e||e<=0||e>Object.keys(Ooyala.Reporter.AdSource).length)&&(e=Ooyala.Reporter.AdSource.UNKNOWN),this._adSpot.adSource=e,e===Ooyala.Reporter.AdSource.OOYALA){if(!t||"string"!=typeof t||32!==t.length)throw"No valid embed code specified";if(this._adInfo.ooyalaEmbedCode=t,i&&"string"!=typeof i)throw"Invalid Ad Click URL";this._adInfo.clickUrl=i}},setAdFormat:function(e){if("number"!=typeof e||e<=0||e>Object.keys(Ooyala.Reporter.AdFormat).length)throw"Invalid Ad Format";this._adSpot.adFormat=e},setAdPositionType:function(e){if("number"!=typeof e||e<=0||e>Object.keys(Ooyala.Reporter.AdPositionType).length)throw"Invalid Ad Position Type";this._adSpot.adPositionType=e},setAdPosition:function(e){if("number"!=typeof e)throw"Invalid Ad Position";this._adSpot.adPositionInMillis=e},setAdSourceContentId:function(e){if("number"!=typeof e)throw"Ad Source Content ID should be a number.";this._adSpot.adSourceContentId=e},setAdTagUrl:function(e){if("string"!=typeof e)throw"Invalid Tag URL";this._adSpot.tagUrl=e},setAdId:function(e){if("number"!=typeof e)throw"Ad ID should be a number.";this._adSpot.adId=e},setAdPassthroughParameters:function(e){if("object"!=typeof e)throw"Passthrough params should be given as an object.";this._adSpot.passthroughParameters=e},resetAdInformation:function(){window.Ooyala&&this._resetAdState()},reportAdRequest:function(){this._reportAdEvent(Ooyala.Logging.PlayerEventType.AD_REQUESTED,new Ooyala.AdsLogging.AdTracking)},reportAdImpression:function(){this._adInfo.adImpression=!0,this._reportAdEvent(Ooyala.Logging.PlayerEventType.AD_IMPRESSION,new Ooyala.AdsLogging.AdTracking)},reportAdClickToSite:function(){var e=this._clickTracking();1===this._adSpot.adSource&&(e.clickUrl=this._adInfo.clickUrl),this._reportAdEvent(Ooyala.Logging.PlayerEventType.AD_CLICK,e)},reportAdClickToVideo:function(){var e=this._clickTracking();e.clickToVideo=!0,this._reportAdEvent(Ooyala.Logging.PlayerEventType.AD_CLICK,e)},reportAdPlaythrough:function(e,t){if("number"!=typeof e||"number"!=typeof t)throw"Playhead time and total time should be numbers.";t<=0||(e>=.25*t&&this._reportPlaythroughIfNotReported(25),e>=.5*t&&this._reportPlaythroughIfNotReported(50),e>=.75*t&&this._reportPlaythroughIfNotReported(75),e>=t&&this._reportPlaythroughIfNotReported(100))},reportAdPlayFailure:function(e){if(e&&("number"!=typeof e||e<=0||e>Object.keys(Ooyala.Reporter.AdFailureReason).length))throw"Invalid Ad Failure Reason";var t=new Ooyala.AdsLogging.AdTracking;this._adInfo.adImpression&&(t.failureAfterAdImpression=!0),e&&(t.failureReason=e),this._reportAdEvent(Ooyala.Logging.PlayerEventType.AD_PLAY_FAILED,t)},reportDiscoveryImpression:function(e,t){if(window.Ooyala){if(e.constructor!==Array)throw"The relatedVideos argument must be an Array";if(0===e.length)throw"The relatedVideos array must not be empty";if(!e[0].bucket_info)throw"The relatedVideos[0] element does not have a bucket_info";var i,n=this._createPlayerEvent(Ooyala.Logging.PlayerEventType.RELATED_VIDEOS_DISPLAYED,[Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX,Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]);i=t?this._updateBucketInfoWithCustomData(e[0].bucket_info,t):e[0].bucket_info,n.personalizationBucketInfo=new Ooyala.Logging.PersonalizationBucketInfo,n.personalizationBucketInfo.bucketInfo=i,this._logger.logPlayerEvents([n])}},reportDiscoveryClick:function(e,t){if(window.Ooyala){if(!e.bucket_info)throw"The clickedVideo argument does not have a bucket_info";if(!e.embed_code)throw"The clickedVideo argument does not have an embed_code";var i=[Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX],n=null;n=e.pcode?this._logger.getOrCreateExtraPcodeId(e.pcode):Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,i.push(n),n=this._logger.getOrCreateExtraEmbedCodeId(e.embed_code,n),i.push(n),i=this._createPlayerEvent(Ooyala.Logging.PlayerEventType.RELATED_VIDEO_SELECTED,i),n=null,n=t?this._updateBucketInfoWithCustomData(e.bucket_info,t):e.bucket_info,i.personalizationBucketInfo=new Ooyala.Logging.PersonalizationBucketInfo,i.personalizationBucketInfo.bucketInfo=n,this._logger.logPlayerEvents([i])}},getSessionStartTimeMillis:function(){return this._logger.getSessionStartTimeMillis()},getRandomSessionSeed:function(){return this._logger.getRandomSessionSeed()},getAndIncrementNextEventSeqnum:function(){return this._logger.getAndIncrementNextEventSeqnum()},_reportAdEvent:function(e,t){if(window.Ooyala){var i=[Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX,Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX];if(1===this._adSpot.adSource){var n=this._logger.addReportingId(this._adInfo.ooyalaEmbedCode);i.push(n)}(i=this._createPlayerEvent(e,i)).adTracking=t,i.adTracking.adSpotIndex=this._logger.getOrCreateAdSpotIndex(this._adSpot),this._adSpot.parentContentReportingIdIndex=Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX,this._logger.logPlayerEvents([i])}},_clickTracking:function(){var e=new Ooyala.AdsLogging.AdTracking;return this._adInfo.clicked?e.dupClick=!0:this._adInfo.clicked=!0,e},_reportPlaythroughIfNotReported:function(e){if(this._adInfo.playthrough||(this._adInfo.playthrough=Array(4)),!this._adInfo.playthrough[e/25-1]){this._adInfo.playthrough[e/25-1]=!0;var t=new Ooyala.AdsLogging.AdTracking;t.playThroughCompletion=e,this._reportAdEvent(Ooyala.Logging.PlayerEventType.AD_PLAYTHROUGH,t)}},setTags:function(e){this._logger.removeAllTags();for(var t=0;t<e.length;t++)this._logger.addTag(e[t]);return!0},getTags:function(){return this._logger.getTags()},_reportTimePlayed:function(e,t){var i=this._createPlayerEvent(Ooyala.Logging.PlayerEventType.TOTAL_TIME_PLAYED,[Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX,Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]);i.timePlayed=e,i.reportingIdIndexToPlayheadPositionMillis={},i.reportingIdIndexToPlayheadPositionMillis[Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]=t,this._logger.logPlayerEvents([i])},_reportBucketWatched:function(e,t){for(this._reportBucketWatchedEvent(Ooyala.Logging.PlayerEventType.BUCKETS_WATCHED,[Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX],e,t);t/10>this._nextPlaythroughToReport||100==this._nextPlaythroughToReport&&t/10>95;)this._reportPlaythrough(this._nextPlaythroughToReport,[Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]),this._nextPlaythroughToReport+=this._playthroughReportFrequency},_reportPercentageWatched:function(e,t){this._reportBucketWatchedEvent(Ooyala.Logging.PlayerEventType.PERCENTAGE_WATCHED,[Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX],e,t)},_reportBucketWatchedEvent:function(e,t,i,n){(e=this._createPlayerEvent(e,t)).buckets=new Ooyala.Logging.WatchedBuckets,e.buckets.minPerMille=i,e.buckets.maxPerMille=n,this._logger.logPlayerEvents([e])},_reportPlaythrough:function(e,t){var i=this._createPlayerEvent(Ooyala.Logging.PlayerEventType.PLAYTHROUGH_PERCENT,t);i.playthroughPercent=e,this._logger.logPlayerEvents([i])},_filterAndUpdateAlreadyReported:function(e,t){return Ooyala.Util.Enumerable.select(e,function(e){return!t[e]&&(t[e]=!0)})},_reportGeneralEvent:function(e,t,i){var n=[];return(t=this._filterAndUpdateAlreadyReported([Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX],t)).length>0&&(t.push(Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX),t.push(Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX),n=this._createEventWithLastEventTime(e,t),i&&Ooyala.Util.Enumerable.foreach(n,function(e){e.firstForPlayer=!0})),this._logger.logPlayerEvents(n),n},_createEventWithLastEventTime:function(e,t){for(var i=[],n=0;n<t.length;n++){var a=this._createPlayerEvent(e,t[n]),r=this._getReportingCode(t[n]);a.lastEventTime=this._historyTracker.getAndSetLastEventTime(r,e),i.push(a)}return i},_getReportingCode:function(e){switch(e){case Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX:return this._embedCode;case Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX:return this._pCode;case Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX:return Ooyala.ThriftLogger.OOYALA_GLOBAL_ID}return""},_createPlayerEvent:function(e,t){var i=new Ooyala.Logging.PlayerEvent;if(Ooyala.Util.Enumerable.foreach(Ooyala.Reporter._NULL_PLAYER_EVENT_FIELDS,function(e){i[e]=null}),i.eventType=e,-1==t.constructor.toString().indexOf("Array"))i.reportingIdIndices.push(t);else for(var n=0;n<t.length;n++)i.reportingIdIndices.push(t[n]);return i},_resetState:function(e,t){var i=Ooyala.Util.bind(this._reportTimePlayed,this),n=Ooyala.Util.bind(this._reportBucketWatched,this),a=Ooyala.Util.bind(this._reportPercentageWatched,this);this._tracker=new Ooyala.PlaytimeTracker(t,i,n,a),this._embedCode=e,this._reportedDisplays={},this._firstDisplayForPlayer=!0,this._reportedPlays={},this._firstPlayForPlayer=!0,this._reportedVideoStarts={},this._firstVideoStartForPlayer=!0},_resetAdState:function(){this._adInfo={},this._adSpot=new Ooyala.AdsLogging.AdSpot},_requestSasInformation:function(){var e="id="+this._id+"&pcode="+encodeURIComponent(this._pCode),t=Ooyala.Constants.SAS_URL+"?"+e,i=Ooyala.Util.Http.createXMLHttpRequest();i.open("GET",t,!0),i.onreadystatechange=function(){4==i.readyState&&(200==i.status?Ooyala.Reporter.processSAS(JSON.parse(i.response)):console.log("SAS Analytics Invocation Error: "+i.status))},i.send()},_setSASInfo:function(e){this._logger.setKey(e.key),this._logger.setTimezoneId(e.timezone),this._logger.setAuthenticationTime(e.authentication_time),this._logger.setGeoData(e.geo_data),this._logger.signal("SAS_Response")},_updateBucketInfoWithCustomData:function(e,t){if(e&&e.length>0&&"2"==e.charAt(0)){var i=JSON.parse(e.substring(1)),n=JSON.parse(window.atob(i.encoded));if(n.custom)for(var a in t)t.hasOwnProperty(a)&&(n.custom[a]=t[a]);else n.custom=t;return i.encoded=window.btoa(JSON.stringify(n)),"2"+JSON.stringify(i)}throw"Not a version 2 bucket_info: "+e}},Ooyala.Reporter.processSAS=function(e){var t=Ooyala.Reporter._map[e.id];t&&t._setSASInfo(e)},Ooyala.Util.createNamespace("Ooyala.Signing"),Ooyala.Signing.getSignature=function(e,t){return Ooyala.ThirdParty.SHA256.sha256ToBase64String(e+t)},Ooyala.Signing.getXVerify=function(e,t){var i=Ooyala.Signing.getSignature(e,t),n=Ooyala.ThirdParty.CRC32.computeCrc(e);return e+"&sig="+i.substr(1,20)+"&crc="+n.toString()},Ooyala.Util.createNamespace("Ooyala.Backoff"),Ooyala.Backoff.getAppropriateBackoff=function(e){return e>Ooyala.Constants.MIN_DURATION_FOR_LINEAR_BACKOFF?new Ooyala.Backoff.StepBackoff(e):new Ooyala.Backoff.NoBackoff},Ooyala.Backoff.StepBackoff=function(e){this._duration=e,this._playheadPosition=0,this.resetBackoffBehavior()},Ooyala.Backoff.StepBackoff.DURATION_FLUSH_FREQUENCY={},Ooyala.Backoff.StepBackoff.DURATION_FLUSH_FREQUENCY[Ooyala.Constants.LOW_PRIORITY_EVENT]=[[5*Ooyala.Constants.MIN_DURATION_FOR_STEP_BACKOFF,18*Ooyala.Constants.LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS],[2*Ooyala.Constants.MIN_DURATION_FOR_STEP_BACKOFF,6*Ooyala.Constants.LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS],[Ooyala.Constants.MIN_DURATION_FOR_STEP_BACKOFF,3*Ooyala.Constants.LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS],[-1/0,Ooyala.Constants.LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS]],Ooyala.Backoff.StepBackoff.DURATION_FLUSH_FREQUENCY[Ooyala.Constants.HIGH_PRIORITY_EVENT]=[[2*Ooyala.Constants.MIN_DURATION_FOR_STEP_BACKOFF,30*Ooyala.Constants.HIGH_PRIORITY_EVENT_FLUSH_INTERVAL_MS],[Ooyala.Constants.MIN_DURATION_FOR_STEP_BACKOFF,10*Ooyala.Constants.HIGH_PRIORITY_EVENT_FLUSH_INTERVAL_MS],[-1/0,Ooyala.Constants.HIGH_PRIORITY_EVENT_FLUSH_INTERVAL_MS]],Ooyala.Backoff.StepBackoff.prototype={setPlayheadPosition:function(e){this._playheadPosition=e},getFlushInterval:function(e){for(var t=Ooyala.Backoff.StepBackoff.DURATION_FLUSH_FREQUENCY[e],i=this._playheadPosition-this._resetPosition,n=null,a=0;a<t.length;a++){var r=t[a];if(r[0]<i){n=r;break}}return null!==n?n[1]:e==Ooyala.Constants.HIGH_PRIORITY_EVENT?Ooyala.Constants.HIGH_PRIORITY_EVENT_FLUSH_INTERVAL_MS:Ooyala.Constants.LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS},resetBackoffBehavior:function(){this._resetPosition=this._playheadPosition}},Ooyala.Backoff.NoBackoff=function(){},Ooyala.Backoff.NoBackoff.prototype={setPlayheadPosition:function(){},resetBackoffBehavior:function(){},getFlushInterval:function(e){return e==Ooyala.Constants.HIGH_PRIORITY_EVENT?Ooyala.Constants.HIGH_PRIORITY_EVENT_FLUSH_INTERVAL_MS:Ooyala.Constants.LOW_PRIORITY_EVENT_FLUSH_INTERVAL_MS}},Ooyala.ThriftLogger=function(e,t,i,n,a){var r=this._createReportingIdDescriptor(Ooyala.Logging.ReportingIdType.GLOBAL),s=this._createReportingIdDescriptor(Ooyala.Logging.ReportingIdType.PROVIDER);this._reportingIdDescriptors=[r,s],this._reportingIds=[Ooyala.ThriftLogger.OOYALA_GLOBAL_ID,e],this._playerEvents=[],this._totalTimePlayedEvent=null,this._serializer=new Ooyala.Thrift.Serializer,this._logTimer=new Ooyala.LogTimer,this._waitConditions=[],this._documentUrl=n||window.location.href,this._signingKey="",this._backoff=new Ooyala.Backoff.NoBackoff,this._adSpots=[],this._adSpotToIndex={},this._tags=[],this._flushInturruptedByWaitConditions=!1,this._timezoneId=27,this._user=null,this._guid=i,this._accountId=t,this._playerBrandingId=a,this._sessionStartTimeMillis=Math.round((new Date).getTime()),this._randomSessionSeed=Math.round(4503599627370496*Math.random()),this._nextEventSeqnum=1,this.wait("pinger_ready"),this._pinger=new Ooyala.Pinger.OuterPinger(Ooyala.Util.bind(this._onReady,this))},Ooyala.ThriftLogger.OOYALA_GLOBAL_ID="o",Ooyala.ThriftLogger.GLOBAL_REPORTING_ID_INDEX=0,Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX=1,Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX=2,Ooyala.ThriftLogger.ANALYTICS_VERSION=2,Ooyala.ThriftLogger.MAX_PLAYER_EVENTS=42,Ooyala.ThriftLogger.EVENT_PRIORITIES={HIGH:Ooyala.Constants.HIGH_PRIORITY_EVENT,LOW:Ooyala.Constants.LOW_PRIORITY_EVENT},Ooyala.ThriftLogger.HIGH_PRIORITY_EVENT_TYPES=[Ooyala.Logging.PlayerEventType.UNKNOWN,Ooyala.Logging.PlayerEventType.DISPLAY,Ooyala.Logging.PlayerEventType.PLAY,Ooyala.Logging.PlayerEventType.PERCENTAGE_WATCHED,Ooyala.Logging.PlayerEventType.SEEK,Ooyala.Logging.PlayerEventType.REPLAY,Ooyala.Logging.PlayerEventType.PAUSE,Ooyala.Logging.PlayerEventType.BUCKETS_WATCHED,Ooyala.Logging.PlayerEventType.AD_CLICK,Ooyala.Logging.PlayerEventType.AD_IMPRESSION,Ooyala.Logging.PlayerEventType.AD_PLAYTHROUGH,Ooyala.Logging.PlayerEventType.AD_PLAY_FAILED,Ooyala.Logging.PlayerEventType.PLAYER_LOAD,Ooyala.Logging.PlayerEventType.SHARE,Ooyala.Logging.PlayerEventType.PAY_PER_VIEW,Ooyala.Logging.PlayerEventType.SAS_AUTHORIZE,Ooyala.Logging.PlayerEventType.SAS_AUTHORIZE_V2,Ooyala.Logging.PlayerEventType.AD_REQUESTED,Ooyala.Logging.PlayerEventType.AD_MOUSEOVER,Ooyala.Logging.PlayerEventType.VIDEO_START,Ooyala.Logging.PlayerEventType.CUSTOM,Ooyala.Logging.PlayerEventType.RELATED_VIDEO_SELECTED,Ooyala.Logging.PlayerEventType.RELATED_VIDEOS_DISPLAYED],Ooyala.ThriftLogger.LOW_PRIORITY_EVENT_TYPES=[Ooyala.Logging.PlayerEventType.TOTAL_TIME_PLAYED,Ooyala.Logging.PlayerEventType.BITRATE_PLAYED,Ooyala.Logging.PlayerEventType.DOWNLOAD,Ooyala.Logging.PlayerEventType.CHUNK_FAILOVER,Ooyala.Logging.PlayerEventType.BUFFER,Ooyala.Logging.PlayerEventType.CV_INFO,Ooyala.Logging.PlayerEventType.METRIC,Ooyala.Logging.PlayerEventType.BITRATE_TRANSITION,Ooyala.Logging.PlayerEventType.BITRATES_AVAILABLE],Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY=null,Ooyala.ThriftLogger.BUCKETIZED_EVENT_TYPES=[Ooyala.Logging.PlayerEventType.PERCENTAGE_WATCHED,Ooyala.Logging.PlayerEventType.BUCKETS_WATCHED],Ooyala.ThriftLogger._NULL_PLAYER_LOG_ENTRY_FIELDS=["logTime","ipaddr","userAgent","logServer","country","clientStat","adSpots","rootContentReportingIdIndex","flashCookieAge","bucketInfo","accountId","logTimeMillis"],Ooyala.ThriftLogger._NULL_USER_FIELDS=["region","county","city","lat","lon","dmaCode","pmsaCode","cookie","clientIP"],Ooyala.ThriftLogger.prototype={initializeVideo:function(e,t){if(this._backoff=t||new Ooyala.Backoff.NoBackoff,this._reportingIds.length>=3&&this._reportingIds[Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]!=e)this.flushEventBufferInAtMostMillis(0),this._reportingIds[Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX]=e;else if(this._reportingIds.length<3){var i=this._createReportingIdDescriptor(Ooyala.Logging.ReportingIdType.VIDEO);i.providerReportingIdIndex=Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,this._reportingIdDescriptors.push(i),this._reportingIds.push(e)}this._clearExtraReportingIds()},getOrCreateExtraPcodeId:function(e){for(var t=-1,i=0;i<this._reportingIds.length;i++)this._reportingIds[i]===e&&(t=i);return t>=0?t:(t=this._reportingIds.length,this._reportingIds.push(e),this._reportingIdDescriptors.push(this._createReportingIdDescriptor(Ooyala.Logging.ReportingIdType.PROVIDER)),t)},getOrCreateExtraEmbedCodeId:function(e,t){for(var i=-1,n=0;n<this._reportingIds.length;n++)this._reportingIds[n]===e&&(i=n);return i>=0?i:(i=this._reportingIds.length,this._reportingIds.push(e),(n=this._createReportingIdDescriptor(Ooyala.Logging.ReportingIdType.VIDEO)).providerReportingIdIndex=t,this._reportingIdDescriptors.push(n),i)},_clearExtraReportingIds:function(){this._reportingIds.length>3&&(this._reportingIds=this._reportingIds.slice(0,3),this._reportingIdDescriptors=this._reportingIdDescriptors.slice(0,3))},getOrCreateAdSpotIndex:function(e){var t=this._adSpotToIndex[e];return t||(this._adSpotToIndex[e]=t=this._adSpots.length,this._adSpots.push(e)),t},addReportingId:function(e){return this._reportingIds.push(e),(e=this._createReportingIdDescriptor(Ooyala.Logging.ReportingIdType.VIDEO)).providerReportingIdIndex=Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,this._reportingIdDescriptors.push(e),this._reportingIds.length-1},logPlayerEvents:function(e){for(var t=0;t<e.length;t++)this._logPlayerEvent(e[t]);this._playerEvents.length>=Ooyala.ThriftLogger.MAX_PLAYER_EVENTS&&this.flushEventBufferInAtMostMillis(0)},flushEventBufferInAtMostMillis:function(e){!e||e<=0?this.flushEventBuffer():this._logTimer.setLogTimeout(Ooyala.Util.bind(this.flushEventBuffer,this),e)},flushEventBuffer:function(){if(0!=this._playerEvents.length)if(this._waitConditions.length>0)this._flushInturruptedByWaitConditions=!0;else{var e=this._serializer.serialize(this._playerEventsToPlayerLogEntry());e=Ooyala.Util.base64Encode(e),this._pinger.sendMessage(Ooyala.Signing.getXVerify(e,this._signingKey)),this._resetPlayerEvents(),this._clearExtraReportingIds()}},arrayIndexOf:function(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},wait:function(e){this._waitConditions.push(e)},signal:function(e){return!((e=this.arrayIndexOf(this._waitConditions,e))<0)&&(this._waitConditions[e]=this._waitConditions[this._waitConditions.length-1],this._waitConditions.pop(),0==this._waitConditions.length&&this._flushInturruptedByWaitConditions&&(this._flushInturruptedByWaitConditions=!1,this.flushEventBuffer()),!0)},setKey:function(e){this._signingKey=e},setTimezoneId:function(e){this._timezoneId=e},setAuthenticationTime:function(e){this._authenticationTime=e},setGeoData:function(e){var t=new Ooyala.Logging.User;Ooyala.Util.Enumerable.foreach(Ooyala.ThriftLogger._NULL_USER_FIELDS,function(e){t[e]=null}),t.country=e,t.source=Ooyala.Logging.UserInfoSource.ENCRYPTED_SAS,this._user=t},addTag:function(e){return!(this.arrayIndexOf(this._tags,e)>=0)&&(this._tags.push(e),!0)},getTags:function(){return[].concat(this._tags)},removeTag:function(e){return!((e=this.arrayIndexOf(this._tags,e))<0)&&(this._tags[e]=this._tags[this._tags.length-1],this._tags.pop(),!0)},removeAllTags:function(){return this._tags=[],!0},getSessionStartTimeMillis:function(){return this._sessionStartTimeMillis},getRandomSessionSeed:function(){return this._randomSessionSeed},getAndIncrementNextEventSeqnum:function(){var e=this._nextEventSeqnum;return this._nextEventSeqnum+=1,e},_onReady:function(e){this._guid=this._guid||e,this.signal("pinger_ready")},_logPlayerEvent:function(e){switch(e.eventType){case Ooyala.Logging.PlayerEventType.TOTAL_TIME_PLAYED:this._logTotalTimePlayedEvent(e);break;default:this._playerEvents.push(e)}this.flushEventBufferInAtMostMillis(this._playerEventTypeToFlushInterval(e.eventType))},_logTotalTimePlayedEvent:function(e){var t=this._totalTimePlayedEvent;t?(t.timePlayed+=e.timePlayed,t.reportingIdIndexToPlayheadPositionMillis=e.reportingIdIndexToPlayheadPositionMillis):(this._totalTimePlayedEvent=e,this._playerEvents.push(e))},_playerEventTypeToFlushInterval:function(e){return Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY||this._initializeEventTypeToPriorityHash(),this._backoff.getFlushInterval(Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY[e]||Ooyala.ThriftLogger.EVENT_PRIORITIES.HIGH)},_initializeEventTypeToPriorityHash:function(){if(!Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY){Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY={};for(var e=0;e<Ooyala.ThriftLogger.HIGH_PRIORITY_EVENT_TYPES.length;e++){var t=Ooyala.ThriftLogger.HIGH_PRIORITY_EVENT_TYPES[e];Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY[t]=Ooyala.ThriftLogger.EVENT_PRIORITIES.HIGH}for(e=0;e<Ooyala.ThriftLogger.LOW_PRIORITY_EVENT_TYPES.length;e++)t=Ooyala.ThriftLogger.LOW_PRIORITY_EVENT_TYPES[e],Ooyala.ThriftLogger.EVENT_TYPE_TO_PRIORITY[t]=Ooyala.ThriftLogger.EVENT_PRIORITIES.LOW}},_compressAllBucketizedEvents:function(e){for(var t=0;t<Ooyala.ThriftLogger.BUCKETIZED_EVENT_TYPES.length;t++)e=this._compressBucketizedEventsForType(Ooyala.ThriftLogger.BUCKETIZED_EVENT_TYPES[t],e);return e},_compressBucketizedEventsForType:function(e,t){if(!this._isBucketizedEventType(e))return t;var i=Ooyala.Util.Enumerable.select(t,function(t){return t.eventType==e});if(!i||i.length<2)return t;i.sort(function(e,t){return e.buckets.minPerMille-t.buckets.minPerMille||e.buckets.maxPerMille-t.buckets.maxPerMille});for(var n=[],a=i.shift(),r=!1;0!=i.length;){var s=i.shift();a.buckets.maxPerMille!=s.buckets.minPerMille-1?(n.push(a),a=s):(a.buckets.maxPerMille=s.buckets.maxPerMille,r=!0)}return r?(n.push(a),(t=Ooyala.Util.Enumerable.reject(t,function(t){return t.eventType==e})).concat(n)):t},_isBucketizedEventType:function(e){for(var t=0;t<Ooyala.ThriftLogger.BUCKETIZED_EVENT_TYPES.length;t++)if(e==Ooyala.ThriftLogger.BUCKETIZED_EVENT_TYPES[t])return!0;return!1},_resetPlayerEvents:function(){this._playerEvents=[],this._totalTimePlayedEvent=null},_playerEventsToPlayerLogEntry:function(){var e=new Ooyala.Logging.PlayerLogEntry,t=new Date,i=t.getTimezoneOffset();for(Ooyala.Util.Enumerable.foreach(Ooyala.ThriftLogger._NULL_PLAYER_LOG_ENTRY_FIELDS,function(t){e[t]=null}),e.user=this._user,e.guid=this._guid,e.playerBrandingId=this._playerBrandingId,e.version=Ooyala.ThriftLogger.ANALYTICS_VERSION,e.userTimeMillis=Math.round(t.getTime()),e.userTime=Math.round(e.userTimeMillis/1e3),e.userTimezone=i,e.documentUrl=this._documentUrl,e.authenticationTime=this._authenticationTime,e.reportingIds=this._reportingIds.slice(0),Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX<e.reportingIds.length&&(e.rootContentReportingIdIndex=Ooyala.ThriftLogger.VIDEO_REPORTING_ID_INDEX),e.reportingIdDescriptors=this._reportingIdDescriptors.slice(0),e.timezoneIds=[0],e.tags=this._tags,e.sessionStartTimeMillis=this._sessionStartTimeMillis,e.randomSessionSeed=this._randomSessionSeed,this._accountId&&(e.accountId=this._accountId),t=0;t<this._playerEvents.length;t++)(i=this._playerEvents[t]).adTracking&&"number"==typeof i.adTracking.adSpotIndex&&(e.adSpots||(e.adSpots=[]),e.adSpots.push(this._adSpots[i.adTracking.adSpotIndex]));for(;e.timezoneIds.length<e.reportingIds.length;)e.timezoneIds.push(this._timezoneId);for(e.events=this._compressAllBucketizedEvents(this._playerEvents),e.providerReportingIdIndex=Ooyala.ThriftLogger.PROVIDER_REPORTING_ID_INDEX,e.playerEmbedType=Ooyala.Logging.PlayerEmbedType.EXTERNAL_ANALYTICS,e.isUntrustedDocUrl=!1,t=0;t<e.events.length;t++)e.events[t].seqnum=this._nextEventSeqnum,this._nextEventSeqnum+=1;return e},_isPlayerLogEntryValid:function(e){return!!(e.events&&0!=e.events.length&&e.documentUrl&&0!=e.documentUrl.length&&e.reportingIds&&0!=e.reportingIds.length&&e.reportingIdDescriptors&&0!=e.reportingIdDescriptors.length)},_createReportingIdDescriptor:function(e){var t=new Ooyala.Logging.ReportingIdDescriptor;return t.reportingIdType=e,Ooyala.Util.Enumerable.foreach(["providerReportingIdIndex","parentContentIdIndex","syndicationDestinationIdIndex","adSetId"],function(e){t[e]=null}),t}},Ooyala.LogTimer=function(){this._nextTimeout=this._timeoutId=null},Ooyala.LogTimer.prototype={setLogTimeout:function(e,t){var i=(new Date).getTime(),n=i+t;return!(null!==this._nextTimeout&&n>this._nextTimeout||n<i)&&(this._clearLogTimer(),this._nextTimeout=n,i=Ooyala.Util.bind(this._clearTimerAndCallCallback,this,e),this._timeoutId=setTimeout(i,t),!0)},_clearTimerAndCallCallback:function(e){this._clearLogTimer(),e()},_clearLogTimer:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._nextTimeout=this._timeoutId=null)}},global=this,global.Ooyala=Ooyala,global.Ooyala.Reporter=Ooyala.Reporter,global.Ooyala.Reporter.prototype.reportPlayerLoad=Ooyala.Reporter.prototype.reportPlayerLoad,global.Ooyala.Reporter.prototype.initializeVideo=Ooyala.Reporter.prototype.initializeVideo,global.Ooyala.Reporter.prototype.reportPlayheadUpdate=Ooyala.Reporter.prototype.reportPlayheadUpdate,global.Ooyala.Reporter.prototype.reportReplay=Ooyala.Reporter.prototype.reportReplay}(OO,OO.$,OO._),OO.exposeStaticApi("EVENTS",OO.EVENTS),OO.exposeStaticApi("CONSTANTS",OO.CONSTANTS),OO.publicApi.log=OO.log,OO.exposeStaticApi("ERROR",OO.ERROR),OO.exposeStaticApi("STATE",OO.STATE),OO.exposeStaticApi("VERSION",OO.VERSION),OO.exposeStaticApi("VIDEO",OO.VIDEO),OO.publicApi.$=OO.$,OO.publicApi._=OO._,OO.publicApi.__static.apiReady=!0,OO.$(document).ready(function(){OO.publicApi.__static.docReady=!0,OO.tryCallReady()})}()}catch(e){e&&window.console&&window.console.log&&window.console.log(e,e.stack)}